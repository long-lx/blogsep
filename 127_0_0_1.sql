-- phpMyAdmin SQL Dump
-- version 4.0.4
-- http://www.phpmyadmin.net
--
-- Host: 127.0.0.1
-- Generation Time: Apr 03, 2014 at 10:12 AM
-- Server version: 5.5.32
-- PHP Version: 5.4.16

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `blog`
--
CREATE DATABASE IF NOT EXISTS `blog` DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;
USE `blog`;

-- --------------------------------------------------------

--
-- Table structure for table `wp_commentmeta`
--

CREATE TABLE IF NOT EXISTS `wp_commentmeta` (
  `meta_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `comment_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `meta_key` varchar(255) DEFAULT NULL,
  `meta_value` longtext,
  PRIMARY KEY (`meta_id`),
  KEY `comment_id` (`comment_id`),
  KEY `meta_key` (`meta_key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `wp_comments`
--

CREATE TABLE IF NOT EXISTS `wp_comments` (
  `comment_ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `comment_post_ID` bigint(20) unsigned NOT NULL DEFAULT '0',
  `comment_author` tinytext NOT NULL,
  `comment_author_email` varchar(100) NOT NULL DEFAULT '',
  `comment_author_url` varchar(200) NOT NULL DEFAULT '',
  `comment_author_IP` varchar(100) NOT NULL DEFAULT '',
  `comment_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `comment_date_gmt` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `comment_content` text NOT NULL,
  `comment_karma` int(11) NOT NULL DEFAULT '0',
  `comment_approved` varchar(20) NOT NULL DEFAULT '1',
  `comment_agent` varchar(255) NOT NULL DEFAULT '',
  `comment_type` varchar(20) NOT NULL DEFAULT '',
  `comment_parent` bigint(20) unsigned NOT NULL DEFAULT '0',
  `user_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`comment_ID`),
  KEY `comment_post_ID` (`comment_post_ID`),
  KEY `comment_approved_date_gmt` (`comment_approved`,`comment_date_gmt`),
  KEY `comment_date_gmt` (`comment_date_gmt`),
  KEY `comment_parent` (`comment_parent`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=2 ;

--
-- Dumping data for table `wp_comments`
--

INSERT INTO `wp_comments` (`comment_ID`, `comment_post_ID`, `comment_author`, `comment_author_email`, `comment_author_url`, `comment_author_IP`, `comment_date`, `comment_date_gmt`, `comment_content`, `comment_karma`, `comment_approved`, `comment_agent`, `comment_type`, `comment_parent`, `user_id`) VALUES
(1, 1, 'Mr WordPress', '', 'http://wordpress.org/', '', '2014-02-14 03:13:02', '2014-02-14 03:13:02', 'Hi, this is a comment.\nTo delete a comment, just log in and view the post&#039;s comments. There you will have the option to edit or delete them.', 0, '1', '', '', 0, 0);

-- --------------------------------------------------------

--
-- Table structure for table `wp_links`
--

CREATE TABLE IF NOT EXISTS `wp_links` (
  `link_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `link_url` varchar(255) NOT NULL DEFAULT '',
  `link_name` varchar(255) NOT NULL DEFAULT '',
  `link_image` varchar(255) NOT NULL DEFAULT '',
  `link_target` varchar(25) NOT NULL DEFAULT '',
  `link_description` varchar(255) NOT NULL DEFAULT '',
  `link_visible` varchar(20) NOT NULL DEFAULT 'Y',
  `link_owner` bigint(20) unsigned NOT NULL DEFAULT '1',
  `link_rating` int(11) NOT NULL DEFAULT '0',
  `link_updated` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `link_rel` varchar(255) NOT NULL DEFAULT '',
  `link_notes` mediumtext NOT NULL,
  `link_rss` varchar(255) NOT NULL DEFAULT '',
  PRIMARY KEY (`link_id`),
  KEY `link_visible` (`link_visible`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `wp_options`
--

CREATE TABLE IF NOT EXISTS `wp_options` (
  `option_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `option_name` varchar(64) NOT NULL DEFAULT '',
  `option_value` longtext NOT NULL,
  `autoload` varchar(20) NOT NULL DEFAULT 'yes',
  PRIMARY KEY (`option_id`),
  UNIQUE KEY `option_name` (`option_name`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=791 ;

--
-- Dumping data for table `wp_options`
--

INSERT INTO `wp_options` (`option_id`, `option_name`, `option_value`, `autoload`) VALUES
(1, 'siteurl', 'http://localhost', 'yes'),
(2, 'blogname', 'SEPTENI TECHNOLOGY Developer&#039;s Blog.', 'yes'),
(3, 'blogdescription', 'Just another WordPress site', 'yes'),
(4, 'users_can_register', '0', 'yes'),
(5, 'admin_email', 'dxtuan@gmail.com', 'yes'),
(6, 'start_of_week', '1', 'yes'),
(7, 'use_balanceTags', '0', 'yes'),
(8, 'use_smilies', '1', 'yes'),
(9, 'require_name_email', '1', 'yes'),
(10, 'comments_notify', '1', 'yes'),
(11, 'posts_per_rss', '10', 'yes'),
(12, 'rss_use_excerpt', '0', 'yes'),
(13, 'mailserver_url', 'mail.example.com', 'yes'),
(14, 'mailserver_login', 'login@example.com', 'yes'),
(15, 'mailserver_pass', 'password', 'yes'),
(16, 'mailserver_port', '110', 'yes'),
(17, 'default_category', '1', 'yes'),
(18, 'default_comment_status', 'open', 'yes'),
(19, 'default_ping_status', 'open', 'yes'),
(20, 'default_pingback_flag', '1', 'yes'),
(21, 'posts_per_page', '5', 'yes'),
(22, 'date_format', 'F j, Y', 'yes'),
(23, 'time_format', 'g:i a', 'yes'),
(24, 'links_updated_date_format', 'F j, Y g:i a', 'yes'),
(25, 'links_recently_updated_prepend', '<em>', 'yes'),
(26, 'links_recently_updated_append', '</em>', 'yes'),
(27, 'links_recently_updated_time', '120', 'yes'),
(28, 'comment_moderation', '0', 'yes'),
(29, 'moderation_notify', '1', 'yes'),
(30, 'permalink_structure', '', 'yes'),
(31, 'gzipcompression', '0', 'yes'),
(32, 'hack_file', '0', 'yes'),
(33, 'blog_charset', 'UTF-8', 'yes'),
(34, 'moderation_keys', '', 'no'),
(35, 'active_plugins', 'a:7:{i:0;s:33:"addthis/addthis_social_widget.php";i:1;s:55:"custom-css-manager-plugin/custom-css-manager-loader.php";i:2;s:55:"display-categories-widget/display_categories_widget.php";i:3;s:53:"facebook-like-box-widget/facebook-like-box-widget.php";i:4;s:39:"syntaxhighlighter/syntaxhighlighter.php";i:5;s:51:"wordpress-popular-posts/wordpress-popular-posts.php";i:6;s:42:"yet-another-related-posts-plugin/yarpp.php";}', 'yes'),
(36, 'home', 'http://localhost', 'yes'),
(37, 'category_base', '', 'yes'),
(38, 'ping_sites', 'http://rpc.pingomatic.com/', 'yes'),
(39, 'advanced_edit', '0', 'yes'),
(40, 'comment_max_links', '2', 'yes'),
(41, 'gmt_offset', '0', 'yes'),
(42, 'default_email_category', '1', 'yes'),
(43, 'recently_edited', 'a:5:{i:0;s:62:"C:\\xampp\\htdocs\\wordpress/wp-content/themes/refresh/footer.php";i:1;s:61:"C:\\xampp\\htdocs\\wordpress/wp-content/themes/refresh/style.css";i:2;s:78:"C:\\xampp\\htdocs\\wordpress/wp-content/plugins/addthis/addthis_social_widget.php";i:3;s:98:"C:\\xampp\\htdocs\\wordpress/wp-content/plugins/facebook-like-box-widget/facebook-like-box-widget.php";i:4;s:63:"C:\\xampp\\htdocs\\wordpress/wp-content/themes/refresh/archive.php";}', 'no'),
(44, 'template', 'refresh', 'yes'),
(45, 'stylesheet', 'refresh', 'yes'),
(46, 'comment_whitelist', '1', 'yes'),
(47, 'blacklist_keys', '', 'no'),
(48, 'comment_registration', '0', 'yes'),
(49, 'html_type', 'text/html', 'yes'),
(50, 'use_trackback', '0', 'yes'),
(51, 'default_role', 'subscriber', 'yes'),
(52, 'db_version', '26691', 'yes'),
(53, 'uploads_use_yearmonth_folders', '1', 'yes'),
(54, 'upload_path', '', 'yes'),
(55, 'blog_public', '1', 'yes'),
(56, 'default_link_category', '2', 'yes'),
(57, 'show_on_front', 'posts', 'yes'),
(58, 'tag_base', '', 'yes'),
(59, 'show_avatars', '1', 'yes'),
(60, 'avatar_rating', 'G', 'yes'),
(61, 'upload_url_path', '', 'yes'),
(62, 'thumbnail_size_w', '150', 'yes'),
(63, 'thumbnail_size_h', '150', 'yes'),
(64, 'thumbnail_crop', '1', 'yes'),
(65, 'medium_size_w', '300', 'yes'),
(66, 'medium_size_h', '300', 'yes'),
(67, 'avatar_default', 'mystery', 'yes'),
(68, 'large_size_w', '1024', 'yes'),
(69, 'large_size_h', '1024', 'yes'),
(70, 'image_default_link_type', 'file', 'yes'),
(71, 'image_default_size', '', 'yes'),
(72, 'image_default_align', '', 'yes'),
(73, 'close_comments_for_old_posts', '0', 'yes'),
(74, 'close_comments_days_old', '14', 'yes'),
(75, 'thread_comments', '1', 'yes'),
(76, 'thread_comments_depth', '5', 'yes'),
(77, 'page_comments', '0', 'yes'),
(78, 'comments_per_page', '50', 'yes'),
(79, 'default_comments_page', 'newest', 'yes'),
(80, 'comment_order', 'asc', 'yes'),
(81, 'sticky_posts', 'a:0:{}', 'yes'),
(82, 'widget_categories', 'a:2:{i:2;a:4:{s:5:"title";s:0:"";s:5:"count";i:1;s:12:"hierarchical";i:1;s:8:"dropdown";i:0;}s:12:"_multiwidget";i:1;}', 'yes'),
(83, 'widget_text', 'a:2:{i:2;a:3:{s:5:"title";s:0:"";s:4:"text";s:241:"<div class="connect-us">\r\n<span class="tit">CONNECT WITH US:</span>\r\n<ul>\r\n<li><a class="fb" href="https://www.facebook.com/SepteniTechnology" target="_blank"></a></li>\r\n<li><a class="tw" href="#none" target="_blank"></a></li>\r\n</ul>\r\n</div>";s:6:"filter";b:0;}s:12:"_multiwidget";i:1;}', 'yes'),
(84, 'widget_rss', 'a:0:{}', 'yes'),
(85, 'uninstall_plugins', 'a:0:{}', 'no'),
(86, 'timezone_string', '', 'yes'),
(87, 'page_for_posts', '0', 'yes'),
(88, 'page_on_front', '0', 'yes'),
(89, 'default_post_format', '0', 'yes'),
(90, 'link_manager_enabled', '0', 'yes'),
(91, 'initial_db_version', '26691', 'yes'),
(92, 'wp_user_roles', 'a:5:{s:13:"administrator";a:2:{s:4:"name";s:13:"Administrator";s:12:"capabilities";a:62:{s:13:"switch_themes";b:1;s:11:"edit_themes";b:1;s:16:"activate_plugins";b:1;s:12:"edit_plugins";b:1;s:10:"edit_users";b:1;s:10:"edit_files";b:1;s:14:"manage_options";b:1;s:17:"moderate_comments";b:1;s:17:"manage_categories";b:1;s:12:"manage_links";b:1;s:12:"upload_files";b:1;s:6:"import";b:1;s:15:"unfiltered_html";b:1;s:10:"edit_posts";b:1;s:17:"edit_others_posts";b:1;s:20:"edit_published_posts";b:1;s:13:"publish_posts";b:1;s:10:"edit_pages";b:1;s:4:"read";b:1;s:8:"level_10";b:1;s:7:"level_9";b:1;s:7:"level_8";b:1;s:7:"level_7";b:1;s:7:"level_6";b:1;s:7:"level_5";b:1;s:7:"level_4";b:1;s:7:"level_3";b:1;s:7:"level_2";b:1;s:7:"level_1";b:1;s:7:"level_0";b:1;s:17:"edit_others_pages";b:1;s:20:"edit_published_pages";b:1;s:13:"publish_pages";b:1;s:12:"delete_pages";b:1;s:19:"delete_others_pages";b:1;s:22:"delete_published_pages";b:1;s:12:"delete_posts";b:1;s:19:"delete_others_posts";b:1;s:22:"delete_published_posts";b:1;s:20:"delete_private_posts";b:1;s:18:"edit_private_posts";b:1;s:18:"read_private_posts";b:1;s:20:"delete_private_pages";b:1;s:18:"edit_private_pages";b:1;s:18:"read_private_pages";b:1;s:12:"delete_users";b:1;s:12:"create_users";b:1;s:17:"unfiltered_upload";b:1;s:14:"edit_dashboard";b:1;s:14:"update_plugins";b:1;s:14:"delete_plugins";b:1;s:15:"install_plugins";b:1;s:13:"update_themes";b:1;s:14:"install_themes";b:1;s:11:"update_core";b:1;s:10:"list_users";b:1;s:12:"remove_users";b:1;s:9:"add_users";b:1;s:13:"promote_users";b:1;s:18:"edit_theme_options";b:1;s:13:"delete_themes";b:1;s:6:"export";b:1;}}s:6:"editor";a:2:{s:4:"name";s:6:"Editor";s:12:"capabilities";a:34:{s:17:"moderate_comments";b:1;s:17:"manage_categories";b:1;s:12:"manage_links";b:1;s:12:"upload_files";b:1;s:15:"unfiltered_html";b:1;s:10:"edit_posts";b:1;s:17:"edit_others_posts";b:1;s:20:"edit_published_posts";b:1;s:13:"publish_posts";b:1;s:10:"edit_pages";b:1;s:4:"read";b:1;s:7:"level_7";b:1;s:7:"level_6";b:1;s:7:"level_5";b:1;s:7:"level_4";b:1;s:7:"level_3";b:1;s:7:"level_2";b:1;s:7:"level_1";b:1;s:7:"level_0";b:1;s:17:"edit_others_pages";b:1;s:20:"edit_published_pages";b:1;s:13:"publish_pages";b:1;s:12:"delete_pages";b:1;s:19:"delete_others_pages";b:1;s:22:"delete_published_pages";b:1;s:12:"delete_posts";b:1;s:19:"delete_others_posts";b:1;s:22:"delete_published_posts";b:1;s:20:"delete_private_posts";b:1;s:18:"edit_private_posts";b:1;s:18:"read_private_posts";b:1;s:20:"delete_private_pages";b:1;s:18:"edit_private_pages";b:1;s:18:"read_private_pages";b:1;}}s:6:"author";a:2:{s:4:"name";s:6:"Author";s:12:"capabilities";a:10:{s:12:"upload_files";b:1;s:10:"edit_posts";b:1;s:20:"edit_published_posts";b:1;s:13:"publish_posts";b:1;s:4:"read";b:1;s:7:"level_2";b:1;s:7:"level_1";b:1;s:7:"level_0";b:1;s:12:"delete_posts";b:1;s:22:"delete_published_posts";b:1;}}s:11:"contributor";a:2:{s:4:"name";s:11:"Contributor";s:12:"capabilities";a:5:{s:10:"edit_posts";b:1;s:4:"read";b:1;s:7:"level_1";b:1;s:7:"level_0";b:1;s:12:"delete_posts";b:1;}}s:10:"subscriber";a:2:{s:4:"name";s:10:"Subscriber";s:12:"capabilities";a:2:{s:4:"read";b:1;s:7:"level_0";b:1;}}}', 'yes'),
(93, 'widget_search', 'a:1:{s:12:"_multiwidget";i:1;}', 'yes'),
(94, 'widget_recent-posts', 'a:1:{s:12:"_multiwidget";i:1;}', 'yes'),
(95, 'widget_recent-comments', 'a:1:{s:12:"_multiwidget";i:1;}', 'yes'),
(96, 'widget_archives', 'a:2:{i:2;a:3:{s:5:"title";s:0:"";s:5:"count";i:0;s:8:"dropdown";i:0;}s:12:"_multiwidget";i:1;}', 'yes'),
(97, 'widget_meta', 'a:1:{s:12:"_multiwidget";i:1;}', 'yes'),
(98, 'sidebars_widgets', 'a:6:{s:19:"wp_inactive_widgets";a:2:{i:0;s:12:"categories-2";i:1;s:25:"displaycategorieswidget-2";}s:9:"sidebar-1";a:5:{i:0;s:6:"text-2";i:1;s:25:"displaycategorieswidget-3";i:2;s:5:"wpp-2";i:3;s:10:"archives-2";i:4;s:17:"facebooklikebox-3";}s:9:"sidebar-2";a:0:{}s:9:"sidebar-3";a:0:{}s:9:"sidebar-4";a:0:{}s:13:"array_version";i:3;}', 'yes'),
(99, 'cron', 'a:6:{i:1396537993;a:3:{s:16:"wp_version_check";a:1:{s:32:"40cd750bba9870f18aada2478b24840a";a:3:{s:8:"schedule";s:10:"twicedaily";s:4:"args";a:0:{}s:8:"interval";i:43200;}}s:17:"wp_update_plugins";a:1:{s:32:"40cd750bba9870f18aada2478b24840a";a:3:{s:8:"schedule";s:10:"twicedaily";s:4:"args";a:0:{}s:8:"interval";i:43200;}}s:16:"wp_update_themes";a:1:{s:32:"40cd750bba9870f18aada2478b24840a";a:3:{s:8:"schedule";s:10:"twicedaily";s:4:"args";a:0:{}s:8:"interval";i:43200;}}}i:1396551900;a:1:{s:20:"wp_maybe_auto_update";a:1:{s:32:"40cd750bba9870f18aada2478b24840a";a:3:{s:8:"schedule";s:10:"twicedaily";s:4:"args";a:0:{}s:8:"interval";i:43200;}}}i:1396569600;a:1:{s:15:"wpp_cache_event";a:1:{s:32:"40cd750bba9870f18aada2478b24840a";a:3:{s:8:"schedule";s:5:"daily";s:4:"args";a:0:{}s:8:"interval";i:86400;}}}i:1396581253;a:1:{s:19:"wp_scheduled_delete";a:1:{s:32:"40cd750bba9870f18aada2478b24840a";a:3:{s:8:"schedule";s:5:"daily";s:4:"args";a:0:{}s:8:"interval";i:86400;}}}i:1396586384;a:1:{s:30:"wp_scheduled_auto_draft_delete";a:1:{s:32:"40cd750bba9870f18aada2478b24840a";a:3:{s:8:"schedule";s:5:"daily";s:4:"args";a:0:{}s:8:"interval";i:86400;}}}s:7:"version";i:2;}', 'yes'),
(101, '_site_transient_update_core', 'O:8:"stdClass":4:{s:7:"updates";a:1:{i:0;O:8:"stdClass":10:{s:8:"response";s:6:"latest";s:8:"download";s:41:"https://wordpress.org/wordpress-3.8.1.zip";s:6:"locale";s:5:"en_US";s:8:"packages";O:8:"stdClass":5:{s:4:"full";s:41:"https://wordpress.org/wordpress-3.8.1.zip";s:10:"no_content";s:52:"https://wordpress.org/wordpress-3.8.1-no-content.zip";s:11:"new_bundled";s:53:"https://wordpress.org/wordpress-3.8.1-new-bundled.zip";s:7:"partial";b:0;s:8:"rollback";b:0;}s:7:"current";s:5:"3.8.1";s:7:"version";s:5:"3.8.1";s:11:"php_version";s:5:"5.2.4";s:13:"mysql_version";s:3:"5.0";s:11:"new_bundled";s:3:"3.8";s:15:"partial_version";s:0:"";}}s:12:"last_checked";i:1396510181;s:15:"version_checked";s:5:"3.8.1";s:12:"translations";a:0:{}}', 'yes'),
(111, '_transient_twentyfourteen_category_count', '1', 'yes'),
(116, 'can_compress_scripts', '1', 'yes'),
(133, 'current_theme', 'ReFresh', 'yes'),
(134, 'theme_mods_septeni', 'a:2:{i:0;b:0;s:16:"sidebars_widgets";a:2:{s:4:"time";i:1392978452;s:4:"data";a:4:{s:19:"wp_inactive_widgets";a:2:{i:0;s:17:"facebooklikebox-2";i:1;s:5:"wpp-2";}s:9:"sidebar-1";a:5:{i:0;s:14:"recent-posts-2";i:1;s:17:"recent-comments-2";i:2;s:10:"archives-2";i:3;s:12:"categories-2";i:4;s:6:"meta-2";}s:9:"sidebar-2";a:0:{}s:9:"sidebar-3";a:0:{}}}}', 'yes'),
(135, 'theme_switched', '', 'yes'),
(139, 'theme_mods_bresponzive', 'a:7:{i:0;b:0;s:7:"backups";N;s:9:"smof_init";s:31:"Fri, 14 Feb 2014 04:34:06 +0000";s:12:"introduction";s:27:"<h3>Backup and Restore</h3>";s:14:"custom_favicon";s:0:"";s:11:"custom_logo";s:56:"[site_url]/wp-content/themes/bresponzive/images/logo.png";s:16:"sidebars_widgets";a:2:{s:4:"time";i:1392978488;s:4:"data";a:7:{s:19:"wp_inactive_widgets";a:2:{i:0;s:17:"facebooklikebox-2";i:1;s:5:"wpp-2";}s:9:"sidebar-1";a:5:{i:0;s:14:"recent-posts-2";i:1;s:17:"recent-comments-2";i:2;s:10:"archives-2";i:3;s:12:"categories-2";i:4;s:6:"meta-2";}s:9:"sidebar-2";a:0:{}s:9:"sidebar-3";a:0:{}s:9:"sidebar-4";N;s:9:"sidebar-5";N;s:9:"sidebar-6";N;}}}', 'yes'),
(141, 'theme_mods_refresh', 'a:2:{i:0;b:0;s:18:"nav_menu_locations";a:0:{}}', 'yes'),
(142, 'optionsframework', 'a:1:{s:2:"id";s:7:"refresh";}', 'yes'),
(153, 'recently_activated', 'a:2:{s:61:"related-posts-via-categories/related-posts-via-categories.php";i:1395997190;s:54:"wordpress-23-related-posts-plugin/wp_related_posts.php";i:1395994932;}', 'yes'),
(156, 'nav_menu_options', 'a:2:{i:0;b:0;s:8:"auto_add";a:0:{}}', 'yes'),
(157, 'refresh', 'a:46:{s:15:"refresh_favicon";s:0:"";s:12:"refresh_logo";s:0:"";s:14:"refresh_author";b:0;s:24:"refresh_activate_ltposts";b:0;s:17:"refresh_topsearch";s:1:"1";s:16:"refresh_sharebut";b:0;s:10:"refresh_fb";s:50:"https://www.facebook.com/SepteniTechnology?fref=ts";s:10:"refresh_tw";s:0:"";s:11:"refresh_rss";s:0:"";s:10:"refresh_in";s:0:"";s:17:"refresh_pinterest";s:0:"";s:13:"refresh_skype";s:0:"";s:13:"refresh_vimeo";s:0:"";s:14:"refresh_flickr";s:0:"";s:16:"refresh_dribbble";s:0:"";s:15:"refresh_youtube";s:0:"";s:10:"refresh_gp";s:0:"";s:17:"refresh_customcss";s:0:"";s:18:"refresh_banner_top";s:0:"";s:11:"refresh_ad2";s:0:"";s:11:"refresh_ad1";s:0:"";s:15:"refresh_popular";s:1:"1";s:18:"refresh_responsive";s:1:"1";s:14:"refresh_excerp";s:2:"45";s:10:"refresh_bg";a:5:{s:5:"color";s:0:"";s:5:"image";s:0:"";s:6:"repeat";s:6:"repeat";s:8:"position";s:10:"top center";s:10:"attachment";s:6:"scroll";}s:17:"refresh_linkcolor";s:7:"#2A7FB3";s:17:"refresh_linkhover";s:7:"#9db2b2";s:19:"refresh_topnavilink";s:7:"#ffffff";s:20:"refresh_topnavicolor";s:0:"";s:18:"refresh_pageanvibg";s:7:"#1AD6B8";s:17:"refresh_pageanvia";s:7:"#ffffff";s:20:"refresh_pageanvilink";s:0:"";s:17:"refresh_bodyfonts";a:4:{s:4:"size";s:4:"13px";s:4:"face";s:5:"arial";s:5:"style";s:6:"normal";s:5:"color";s:0:"";}s:18:"refresh_entrytitle";a:4:{s:4:"size";s:4:"28px";s:4:"face";s:5:"arial";s:5:"style";s:6:"normal";s:5:"color";s:7:"#555555";}s:20:"refresh_footerwidget";s:2:"on";s:17:"refresh_countinue";s:2:"on";s:17:"refresh_fullstory";s:19:"Continue reading »";s:17:"refresh_googlepub";s:0:"";s:16:"refresh_bingvari";s:0:"";s:18:"refresh_googlevari";s:0:"";s:20:"refresh_scriptfooter";s:0:"";s:13:"refresh_bread";s:1:"1";s:12:"refresh_tags";s:1:"1";s:13:"refresh_links";s:2:"on";s:17:"refresh_copyright";s:3:"off";s:14:"refresh_ftarea";s:114:"&#169; 2013 Designed by: <a href="http://septeni-technology.jp/" title="Septeni Technology">Septeni Technology</a>";}', 'yes'),
(166, '_transient_random_seed', 'b9c69aac834e14792a1ef0eadd25b869', 'yes'),
(179, 'theme_mods_live-wire', 'a:2:{i:0;b:0;s:16:"sidebars_widgets";a:2:{s:4:"time";i:1392364549;s:4:"data";a:5:{s:19:"wp_inactive_widgets";a:0:{}s:6:"header";a:3:{i:0;s:14:"recent-posts-2";i:1;s:17:"recent-comments-2";i:2;s:6:"meta-2";}s:7:"primary";a:0:{}s:10:"subsidiary";a:0:{}s:14:"after-singular";a:0:{}}}}', 'yes'),
(233, 'wpp_settings_config', 'a:2:{s:5:"stats";a:3:{s:8:"order_by";s:5:"views";s:5:"limit";i:10;s:9:"post_type";s:9:"post,page";}s:5:"tools";a:7:{s:4:"ajax";b:0;s:3:"css";b:1;s:10:"stylesheet";b:1;s:4:"link";a:1:{s:6:"target";s:5:"_self";}s:9:"thumbnail";a:4:{s:6:"source";s:8:"featured";s:5:"field";s:0:"";s:6:"resize";b:0;s:7:"default";s:0:"";}s:12:"log_loggedin";b:0;s:5:"cache";a:2:{s:6:"active";b:0;s:8:"interval";a:2:{s:4:"time";s:4:"hour";s:5:"value";i:1;}}}}', 'yes'),
(234, 'wpp_ver', '2.3.7', 'yes'),
(235, 'widget_wpp', 'a:2:{i:2;a:14:{s:5:"title";s:14:"Featured posts";s:5:"limit";s:2:"10";s:5:"range";s:7:"monthly";s:8:"order_by";s:5:"views";s:9:"post_type";s:9:"post,page";s:3:"pid";s:0:"";s:3:"cat";s:0:"";s:6:"author";s:0:"";s:13:"shorten_title";a:3:{s:6:"active";b:1;s:6:"length";s:2:"90";s:5:"words";s:1:"0";}s:12:"post-excerpt";a:4:{s:6:"active";b:1;s:6:"length";s:3:"120";s:11:"keep_format";N;s:5:"words";s:1:"0";}s:9:"thumbnail";a:3:{s:6:"active";b:1;s:5:"width";s:2:"80";s:6:"height";s:2:"80";}s:6:"rating";b:0;s:9:"stats_tag";a:5:{s:13:"comment_count";b:0;s:5:"views";b:0;s:6:"author";b:0;s:4:"date";a:2:{s:6:"active";b:0;s:6:"format";s:6:"F j, Y";}s:8:"category";b:0;}s:6:"markup";a:8:{s:11:"custom_html";s:2:"on";s:9:"wpp-start";s:10:"&lt;ul&gt;";s:7:"wpp-end";s:11:"&lt;/ul&gt;";s:9:"post-html";s:35:"&lt;li&gt;{thumb}{title}&lt;/li&gt;";s:10:"post-start";s:10:"&lt;li&gt;";s:8:"post-end";s:11:"&lt;/li&gt;";s:11:"title-start";s:0:"";s:9:"title-end";s:0:"";}}s:12:"_multiwidget";i:1;}', 'yes'),
(249, 'addthis_settings', 'a:25:{s:8:"username";s:0:"";s:7:"profile";s:0:"";s:8:"password";s:0:"";s:8:"wpfooter";b:1;s:5:"above";s:11:"fb_tw_p1_sc";s:5:"below";s:11:"fb_tw_p1_sc";s:18:"addthis_show_stats";b:0;s:28:"addthis_asynchronous_loading";b:0;s:19:"addthis_append_data";b:0;s:18:"addthis_showonhome";b:1;s:19:"addthis_showonpages";b:1;s:22:"addthis_showonarchives";b:0;s:18:"addthis_showoncats";b:0;s:22:"addthis_showonexcerpts";b:1;s:18:"addthis_aftertitle";b:0;s:22:"addthis_beforecomments";b:0;s:18:"addthis_addressbar";b:0;s:11:"addthis_508";b:0;s:21:"addthis_copytracking2";b:0;s:16:"addthis_language";s:0:"";s:9:"atversion";s:3:"300";s:23:"atversion_update_status";s:1:"0";s:28:"credential_validation_status";s:1:"0";s:17:"above_chosen_list";s:0:"";s:17:"below_chosen_list";s:0:"";}', 'yes'),
(250, '_site_transient_timeout_browser_e684e034b3886e36756f088e8aabbb90', '1393580617', 'yes'),
(251, '_site_transient_browser_e684e034b3886e36756f088e8aabbb90', 'a:9:{s:8:"platform";s:7:"Windows";s:4:"name";s:6:"Chrome";s:7:"version";s:13:"32.0.1700.107";s:10:"update_url";s:28:"http://www.google.com/chrome";s:7:"img_src";s:49:"http://s.wordpress.org/images/browsers/chrome.png";s:11:"img_src_ssl";s:48:"https://wordpress.org/images/browsers/chrome.png";s:15:"current_version";s:2:"18";s:7:"upgrade";b:0;s:8:"insecure";b:0;}', 'yes'),
(272, 'widget_facebooklikebox', 'a:2:{i:3;a:26:{s:5:"title";s:19:"FIND US ON FACEBOOK";s:6:"pageID";s:17:"SepteniTechnology";s:10:"connection";s:2:"10";s:5:"width";s:3:"340";s:6:"height";s:3:"255";s:8:"creditOn";s:0:"";s:6:"header";s:2:"no";s:7:"streams";s:3:"yes";s:11:"colorScheme";s:5:"light";s:11:"borderColor";s:6:"AAAAAA";s:24:"enableOtherSocialButtons";s:2:"no";s:20:"addThisVerticalStyle";s:1:"1";s:20:"enableTwitterButtons";s:2:"no";s:18:"twitterButtonStyle";s:3:"127";s:12:"addThisPubId";s:0:"";s:15:"twitterUsername";s:0:"";s:9:"showFaces";s:3:"yes";s:17:"pluginDisplayType";s:8:"like_box";s:10:"layoutMode";s:5:"xfbml";s:7:"pageURL";s:42:"https://www.facebook.com/SepteniTechnology";s:19:"fblike_button_style";s:8:"standard";s:23:"fblike_button_showFaces";s:3:"yes";s:29:"fblike_button_verb_to_display";s:9:"recommend";s:18:"fblike_button_font";s:5:"arial";s:19:"fblike_button_width";s:3:"340";s:25:"fblike_button_colorScheme";s:5:"light";}s:12:"_multiwidget";i:1;}', 'yes'),
(288, 'wpp_rand', 'e50f84087e7d4dce44e5ad3f34744017', 'yes'),
(418, 'widget_nav_menu', 'a:1:{s:12:"_multiwidget";i:1;}', 'yes'),
(421, 'widget_displaycategorieswidget', 'a:3:{i:2;a:8:{s:5:"title";s:13:"Categoriesxxx";s:8:"category";s:5:"BLANK";s:9:"dcw_limit";s:0:"";s:14:"display_parent";s:1:"0";s:24:"display_empty_categories";s:1:"0";s:15:"showcount_value";s:1:"0";s:11:"show_format";s:1:"0";s:10:"dcw_column";s:1:"2";}i:3;a:8:{s:5:"title";s:10:"Categories";s:8:"category";s:5:"BLANK";s:9:"dcw_limit";s:0:"";s:14:"display_parent";s:1:"0";s:24:"display_empty_categories";s:1:"0";s:15:"showcount_value";s:1:"0";s:11:"show_format";s:1:"0";s:10:"dcw_column";s:1:"1";}s:12:"_multiwidget";i:1;}', 'yes'),
(422, 'widget_jcl_widget', 'a:2:{i:2;a:15:{s:5:"title";s:13:"Jquery widget";s:6:"symbol";s:1:"1";s:6:"effect";s:5:"slide";s:6:"layout";s:5:"right";s:7:"orderby";s:4:"name";s:8:"orderdir";s:3:"ASC";s:10:"show_empty";i:0;s:9:"showcount";i:1;s:13:"parent_expand";i:0;s:6:"expand";s:4:"none";s:7:"exclude";N;s:6:"ex_sym";s:3:"►";s:7:"con_sym";s:3:"▼";s:5:"fx_in";s:9:"slideDown";s:6:"fx_out";s:7:"slideUp";}s:12:"_multiwidget";i:1;}', 'yes'),
(424, 'widget_featured_category_widget', 'a:1:{s:12:"_multiwidget";i:1;}', 'yes'),
(485, 'category_children', 'a:1:{i:5;a:1:{i:0;i:7;}}', 'yes'),
(545, '_site_transient_timeout_poptags_40cd750bba9870f18aada2478b24840a', '1395231429', 'yes'),
(546, '_site_transient_poptags_40cd750bba9870f18aada2478b24840a', 'a:40:{s:6:"widget";a:3:{s:4:"name";s:6:"widget";s:4:"slug";s:6:"widget";s:5:"count";s:4:"3898";}s:4:"post";a:3:{s:4:"name";s:4:"Post";s:4:"slug";s:4:"post";s:5:"count";s:4:"2456";}s:6:"plugin";a:3:{s:4:"name";s:6:"plugin";s:4:"slug";s:6:"plugin";s:5:"count";s:4:"2344";}s:5:"admin";a:3:{s:4:"name";s:5:"admin";s:4:"slug";s:5:"admin";s:5:"count";s:4:"1930";}s:5:"posts";a:3:{s:4:"name";s:5:"posts";s:4:"slug";s:5:"posts";s:5:"count";s:4:"1856";}s:7:"sidebar";a:3:{s:4:"name";s:7:"sidebar";s:4:"slug";s:7:"sidebar";s:5:"count";s:4:"1583";}s:7:"twitter";a:3:{s:4:"name";s:7:"twitter";s:4:"slug";s:7:"twitter";s:5:"count";s:4:"1329";}s:6:"google";a:3:{s:4:"name";s:6:"google";s:4:"slug";s:6:"google";s:5:"count";s:4:"1325";}s:8:"comments";a:3:{s:4:"name";s:8:"comments";s:4:"slug";s:8:"comments";s:5:"count";s:4:"1310";}s:6:"images";a:3:{s:4:"name";s:6:"images";s:4:"slug";s:6:"images";s:5:"count";s:4:"1260";}s:4:"page";a:3:{s:4:"name";s:4:"page";s:4:"slug";s:4:"page";s:5:"count";s:4:"1225";}s:5:"image";a:3:{s:4:"name";s:5:"image";s:4:"slug";s:5:"image";s:5:"count";s:4:"1121";}s:9:"shortcode";a:3:{s:4:"name";s:9:"shortcode";s:4:"slug";s:9:"shortcode";s:5:"count";s:4:"1000";}s:8:"facebook";a:3:{s:4:"name";s:8:"Facebook";s:4:"slug";s:8:"facebook";s:5:"count";s:3:"982";}s:5:"links";a:3:{s:4:"name";s:5:"links";s:4:"slug";s:5:"links";s:5:"count";s:3:"974";}s:3:"seo";a:3:{s:4:"name";s:3:"seo";s:4:"slug";s:3:"seo";s:5:"count";s:3:"950";}s:9:"wordpress";a:3:{s:4:"name";s:9:"wordpress";s:4:"slug";s:9:"wordpress";s:5:"count";s:3:"844";}s:7:"gallery";a:3:{s:4:"name";s:7:"gallery";s:4:"slug";s:7:"gallery";s:5:"count";s:3:"821";}s:6:"social";a:3:{s:4:"name";s:6:"social";s:4:"slug";s:6:"social";s:5:"count";s:3:"780";}s:3:"rss";a:3:{s:4:"name";s:3:"rss";s:4:"slug";s:3:"rss";s:5:"count";s:3:"722";}s:7:"widgets";a:3:{s:4:"name";s:7:"widgets";s:4:"slug";s:7:"widgets";s:5:"count";s:3:"686";}s:6:"jquery";a:3:{s:4:"name";s:6:"jquery";s:4:"slug";s:6:"jquery";s:5:"count";s:3:"681";}s:5:"pages";a:3:{s:4:"name";s:5:"pages";s:4:"slug";s:5:"pages";s:5:"count";s:3:"678";}s:5:"email";a:3:{s:4:"name";s:5:"email";s:4:"slug";s:5:"email";s:5:"count";s:3:"623";}s:4:"ajax";a:3:{s:4:"name";s:4:"AJAX";s:4:"slug";s:4:"ajax";s:5:"count";s:3:"615";}s:5:"media";a:3:{s:4:"name";s:5:"media";s:4:"slug";s:5:"media";s:5:"count";s:3:"595";}s:10:"javascript";a:3:{s:4:"name";s:10:"javascript";s:4:"slug";s:10:"javascript";s:5:"count";s:3:"572";}s:5:"video";a:3:{s:4:"name";s:5:"video";s:4:"slug";s:5:"video";s:5:"count";s:3:"570";}s:10:"buddypress";a:3:{s:4:"name";s:10:"buddypress";s:4:"slug";s:10:"buddypress";s:5:"count";s:3:"541";}s:4:"feed";a:3:{s:4:"name";s:4:"feed";s:4:"slug";s:4:"feed";s:5:"count";s:3:"539";}s:7:"content";a:3:{s:4:"name";s:7:"content";s:4:"slug";s:7:"content";s:5:"count";s:3:"530";}s:5:"photo";a:3:{s:4:"name";s:5:"photo";s:4:"slug";s:5:"photo";s:5:"count";s:3:"522";}s:4:"link";a:3:{s:4:"name";s:4:"link";s:4:"slug";s:4:"link";s:5:"count";s:3:"506";}s:6:"photos";a:3:{s:4:"name";s:6:"photos";s:4:"slug";s:6:"photos";s:5:"count";s:3:"505";}s:5:"login";a:3:{s:4:"name";s:5:"login";s:4:"slug";s:5:"login";s:5:"count";s:3:"471";}s:4:"spam";a:3:{s:4:"name";s:4:"spam";s:4:"slug";s:4:"spam";s:5:"count";s:3:"458";}s:5:"stats";a:3:{s:4:"name";s:5:"stats";s:4:"slug";s:5:"stats";s:5:"count";s:3:"453";}s:8:"category";a:3:{s:4:"name";s:8:"category";s:4:"slug";s:8:"category";s:5:"count";s:3:"452";}s:7:"youtube";a:3:{s:4:"name";s:7:"youtube";s:4:"slug";s:7:"youtube";s:5:"count";s:3:"436";}s:7:"comment";a:3:{s:4:"name";s:7:"comment";s:4:"slug";s:7:"comment";s:5:"count";s:3:"432";}}', 'yes'),
(558, 'syntaxhighlighter_settings', 'a:15:{s:9:"shversion";i:3;s:5:"theme";s:7:"default";s:6:"gutter";i:1;s:9:"autolinks";i:1;s:9:"smarttabs";i:1;s:9:"wraplines";i:1;s:9:"classname";s:0:"";s:9:"firstline";s:1:"1";s:14:"padlinenumbers";s:5:"false";s:7:"tabsize";s:1:"4";s:5:"title";s:0:"";s:14:"loadallbrushes";i:0;s:8:"collapse";i:0;s:5:"light";i:0;s:7:"toolbar";i:0;}', 'yes'),
(662, '_site_transient_timeout_browser_a1881c808a1e05a63fe1764418422689', '1396587626', 'yes'),
(663, '_site_transient_browser_a1881c808a1e05a63fe1764418422689', 'a:9:{s:8:"platform";s:7:"Windows";s:4:"name";s:6:"Chrome";s:7:"version";s:13:"33.0.1750.154";s:10:"update_url";s:28:"http://www.google.com/chrome";s:7:"img_src";s:49:"http://s.wordpress.org/images/browsers/chrome.png";s:11:"img_src_ssl";s:48:"https://wordpress.org/images/browsers/chrome.png";s:15:"current_version";s:2:"18";s:7:"upgrade";b:0;s:8:"insecure";b:0;}', 'yes'),
(667, 'yarpp_pro', 'a:5:{s:6:"active";i:0;s:3:"aid";N;s:2:"st";N;s:1:"v";N;s:5:"optin";b:0;}', 'yes'),
(668, 'yarpp', 'a:47:{s:9:"threshold";s:1:"2";s:5:"limit";s:1:"5";s:14:"excerpt_length";s:2:"10";s:6:"recent";b:0;s:12:"before_title";s:4:"<li>";s:11:"after_title";s:5:"</li>";s:11:"before_post";s:8:" <small>";s:10:"after_post";s:8:"</small>";s:14:"before_related";s:45:"<h2 class="tit-related">Related Post</h2><ol>";s:13:"after_related";s:5:"</ol>";s:10:"no_results";s:46:"<h2 class="tit-related">No related posts.</h2>";s:5:"order";s:10:"score DESC";s:9:"rss_limit";s:1:"3";s:18:"rss_excerpt_length";s:2:"10";s:16:"rss_before_title";s:4:"<li>";s:15:"rss_after_title";s:5:"</li>";s:15:"rss_before_post";s:8:" <small>";s:14:"rss_after_post";s:8:"</small>";s:18:"rss_before_related";s:27:"<h3>Related posts:</h3><ol>";s:17:"rss_after_related";s:5:"</ol>";s:14:"rss_no_results";s:24:"<p>No related posts.</p>";s:9:"rss_order";s:10:"score DESC";s:9:"past_only";b:0;s:12:"show_excerpt";b:1;s:16:"rss_show_excerpt";b:0;s:8:"template";b:0;s:12:"rss_template";b:0;s:14:"show_pass_post";b:0;s:12:"cross_relate";b:0;s:11:"rss_display";b:0;s:19:"rss_excerpt_display";b:1;s:13:"promote_yarpp";b:0;s:17:"rss_promote_yarpp";b:0;s:15:"myisam_override";b:0;s:7:"exclude";s:0:"";s:6:"weight";a:1:{s:3:"tax";a:1:{s:8:"category";i:3;}}s:11:"require_tax";a:0:{}s:5:"optin";b:0;s:18:"thumbnails_heading";s:14:"Related posts:";s:18:"thumbnails_default";s:87:"http://localhost/wp-content/plugins/yet-another-related-posts-plugin/images/default.png";s:22:"rss_thumbnails_heading";s:14:"Related posts:";s:22:"rss_thumbnails_default";s:87:"http://localhost/wp-content/plugins/yet-another-related-posts-plugin/images/default.png";s:12:"display_code";b:0;s:20:"auto_display_archive";b:1;s:23:"auto_display_post_types";a:2:{i:0;s:4:"post";i:1;s:4:"page";}s:5:"pools";a:0:{}s:25:"manually_using_thumbnails";b:0;}', 'yes'),
(669, 'yarpp_fulltext_disabled', '1', 'yes'),
(670, 'yarpp_version', '4.1.2', 'yes'),
(684, 'zemanta_plugin_version', '1.2.3', 'yes'),
(685, 'zemanta_options', 'a:1:{s:7:"api_key";s:24:"3su5yyq7gnc9eftxo7qldhrg";}', 'yes'),
(687, 'related_posts_via_categories', 'a:20:{s:12:"auto_display";s:3:"yes";s:31:"maximum_number_of_related_posts";i:10;s:19:"related_posts_title";s:28:"Related Posts via Categories";s:44:"before_related_posts_title_and_related_posts";s:0:"";s:43:"after_related_posts_title_and_related_posts";s:0:"";s:26:"before_related_posts_title";s:44:"<h2 id="related-posts-via-categories-title">";s:25:"after_related_posts_title";s:5:"</h2>";s:20:"before_related_posts";s:43:"<ul id="related-posts-via-categories-list">";s:19:"after_related_posts";s:5:"</ul>";s:24:"before_each_related_post";s:4:"<li>";s:23:"after_each_related_post";s:5:"</li>";s:8:"order_by";s:39:"related_scores_high__date_published_new";s:13:"exclude_posts";s:0:"";s:18:"exclude_categories";s:0:"";s:10:"post_types";a:1:{i:0;s:4:"post";}s:14:"promotion_link";s:0:"";s:19:"promotion_link_text";s:53:"To the official site of Related Posts via Categories.";s:23:"promotion_link_fontsize";i:12;s:24:"promotion_link_textalign";s:5:"right";s:23:"promotion_link_language";s:7:"english";}', 'yes'),
(697, '_transient_timeout_feed_ac0b00fe65abe10e0c5b588f3ed8c7ca', '1396533490', 'no');
INSERT INTO `wp_options` (`option_id`, `option_name`, `option_value`, `autoload`) VALUES
(698, '_transient_feed_ac0b00fe65abe10e0c5b588f3ed8c7ca', 'a:4:{s:5:"child";a:1:{s:0:"";a:1:{s:3:"rss";a:1:{i:0;a:6:{s:4:"data";s:3:"\n\n\n";s:7:"attribs";a:1:{s:0:"";a:1:{s:7:"version";s:3:"2.0";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:1:{s:0:"";a:1:{s:7:"channel";a:1:{i:0;a:6:{s:4:"data";s:51:"\n	\n	\n	\n	\n	\n	\n		\n		\n	\n	\n		\n		\n		\n		\n		\n		\n		\n		\n		\n	";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:3:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:14:"WordPress News";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:25:"http://wordpress.org/news";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:14:"WordPress News";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:13:"lastBuildDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sun, 30 Mar 2014 00:43:36 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"language";a:1:{i:0;a:5:{s:4:"data";s:5:"en-US";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:9:"generator";a:1:{i:0;a:5:{s:4:"data";s:39:"http://wordpress.org/?v=3.9-beta3-27857";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"item";a:10:{i:0;a:6:{s:4:"data";s:45:"\n		\n		\n		\n		\n		\n				\n		\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:20:"WordPress 3.9 Beta 3";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:55:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-3/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:64:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-3/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 13:15:10 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:11:"Development";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=3106";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:373:"The third (and maybe last) beta of WordPress 3.9 is now available for download. Beta 3 includes more than 200 changes, including: New features like live widget previews and the new theme installer are now more ready for prime time, so check &#8216;em out. UI refinements when editing images and when working with media in the editor. We&#8217;ve also brought [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Andrew Nacin";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2668:"<p>The third (and maybe last) beta of WordPress 3.9 is now available for download.</p>\n<p>Beta 3 includes more than 200 <a href="https://core.trac.wordpress.org/log?rev=27850&amp;stop_rev=27639&amp;limit=300">changes</a>, including:</p>\n<ul>\n<li>New features like live widget previews and the new theme installer are now more ready for prime time, so check &#8216;em out.</li>\n<li>UI refinements when editing images and when working with media in the editor. We&#8217;ve also brought back some of the advanced display settings for images.</li>\n<li>If you want to test out audio and video playlists, the links will appear in the media manager once you&#8217;ve uploaded an audio or video file.</li>\n<li>For theme developers, we&#8217;ve added HTML5 caption support (<a class="reopened ticket" title="task (blessed): HTML5 captions (reopened)" href="https://core.trac.wordpress.org/ticket/26642">#26642</a>) to match the new gallery support (<a class="closed ticket" title="enhancement: HTML5 Galleries (closed: fixed)" href="https://core.trac.wordpress.org/ticket/26697">#26697</a>).</li>\n<li>The formatting function that turns straight quotes into smart quotes (among other things) underwent some changes to drastically speed it up, so let us know if you see anything weird.</li>\n</ul>\n<p><strong>We need your help</strong>. We&#8217;re still aiming for an April release, which means the next week will be critical for identifying and squashing bugs. If you&#8217;re just joining us, please see <a href="https://wordpress.org/news/2014/03/wordpress-3-9-beta-1/">the Beta 1 announcement post</a> for what to look out for.</p>\n<p><strong>If you think you’ve found a bug</strong>, you can post to the <a href="http://wordpress.org/support/forum/alphabeta">Alpha/Beta area</a> in the support forums, where friendly moderators are standing by. <b>Plugin developers</b><strong>,</strong> if you haven&#8217;t tested WordPress 3.9 yet, now is the time — and be sure to update the &#8220;tested up to&#8221; version for your plugins so they&#8217;re listed as compatible with 3.9.</p>\n<p><strong>This software is still in development,</strong> so we don’t recommend you run it on a production site. Consider setting up a test site just to play with the new version. To test WordPress 3.9, try the <a href="http://wordpress.org/extend/plugins/wordpress-beta-tester/">WordPress Beta Tester</a> plugin (you’ll want “bleeding edge nightlies”). Or you can <a href="http://wordpress.org/wordpress-3.9-beta3.zip">download the beta here</a> (zip).</p>\n<p><em>WordPress 3.9<br />\nLet&#8217;s make the date official<br />\nIt&#8217;s April 16</em></p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:60:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-3/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:1;a:6:{s:4:"data";s:45:"\n		\n		\n		\n		\n		\n				\n		\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:20:"WordPress 3.9 Beta 2";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:55:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-2/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:64:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-2/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 20 Mar 2014 05:01:25 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:11:"Development";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=3101";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:309:"WordPress 3.9 Beta 2 is now available for testing! We&#8217;ve made more than a hundred changes since Beta 1, but we still need your help if we&#8217;re going to hit our goal of an April release. For what to look out for, please head on over to the Beta 1 announcement post. Some of the changes in [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Andrew Nacin";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1901:"<p>WordPress 3.9 Beta 2 is now available for testing!</p>\n<p>We&#8217;ve made more than a hundred <a href="https://core.trac.wordpress.org/log?rev=27639&amp;stop_rev=27500&amp;limit=200">changes</a> since Beta 1, but we still need your help if we&#8217;re going to hit our goal of an April release. For what to look out for, please head on over to <a href="https://wordpress.org/news/2014/03/wordpress-3-9-beta-1/">the Beta 1 announcement post</a>. Some of the changes in Beta 2 include:</p>\n<ul>\n<li>Rendering of embedded audio and video players directly in the visual editor.</li>\n<li>Visual and functional improvements to the editor, the media manager, and theme installer.</li>\n<li>Various bug fixes to TinyMCE, the software behind the visual editor.</li>\n<li>Lots of fixes to widget management in the theme customizer.</li>\n</ul>\n<p>As always,<strong> if you think you’ve found a bug</strong>, you can post to the <a href="http://wordpress.org/support/forum/alphabeta">Alpha/Beta area</a> in the support forums. Or, if you’re comfortable writing a reproducible bug report, <a href="https://make.wordpress.org/core/reports/">file one on the WordPress Trac</a>. There, you can also find <a href="http://core.trac.wordpress.org/tickets/major">a list of known bugs</a> and <a href="http://core.trac.wordpress.org/query?status=closed&amp;group=component&amp;milestone=3.9">everything we’ve fixed</a> so far.</p>\n<p><strong>This software is still in development,</strong> so we don’t recommend you run it on a production site. Consider setting up a test site just to play with the new version. To test WordPress 3.9, try the <a href="http://wordpress.org/extend/plugins/wordpress-beta-tester/">WordPress Beta Tester</a> plugin (you’ll want “bleeding edge nightlies”). Or you can <a href="http://wordpress.org/wordpress-3.9-beta2.zip">download the beta here</a> (zip).</p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:60:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-2/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:2;a:6:{s:4:"data";s:45:"\n		\n		\n		\n		\n		\n				\n		\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:20:"WordPress 3.9 Beta 1";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:55:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-1/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:64:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-1/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 11 Mar 2014 13:42:19 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:11:"Development";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=3083";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:329:"I&#8217;m excited to announce that the first beta of WordPress 3.9 is now available for testing. WordPress 3.9 is due out next month &#8212; but in order to hit that goal, we need your help testing all of the goodies we&#8217;ve added: We updated TinyMCE, the software powering the visual editor, to the latest version. [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Andrew Nacin";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:6065:"<p>I&#8217;m excited to announce that the <strong>first beta of WordPress 3.9</strong> is now available for testing.</p>\n<p>WordPress 3.9 is due out next month &#8212; but in order to hit that goal, <strong>we need your help</strong> testing all of the goodies we&#8217;ve added:</p>\n<ul>\n<li>We updated TinyMCE, the software powering the visual editor, to the latest version. Be on the lookout for cleaner markup. Also try the new paste handling &#8212; if you paste in a block of text from Microsoft Word, for example, it will no longer come out terrible. (The &#8220;Paste from Word&#8221; button you probably never noticed has been removed.) It&#8217;s possible some plugins that added stuff to the visual editor (like a new toolbar button) no longer work, so we&#8217;d like to hear about them (<a href="https://core.trac.wordpress.org/ticket/24067">#24067</a>). (And be sure to <a href="http://wordpress.org/support/">open a support thread</a> for the plugin author.)</li>\n<li>We&#8217;ve added <strong>widget management to live previews</strong> (the customizer). Please test editing, adding, and rearranging widgets! (<a href="https://core.trac.wordpress.org/ticket/27112">#27112</a>) We&#8217;ve also added the ability to upload, crop, and manage header images, without needing to leave the preview. (<a href="https://core.trac.wordpress.org/ticket/21785">#21785</a>)</li>\n<li>We brought 3.8&#8242;s beautiful new theme browsing experience to the <strong>theme installer</strong>. Check it out! (<a title="View ticket" href="https://core.trac.wordpress.org/ticket/27055">#27055</a>)</li>\n<li><strong>Galleries</strong> now receive a live preview in the editor. Upload some photos and insert a gallery to see this in action. (<a href="https://core.trac.wordpress.org/ticket/26959">#26959</a>)</li>\n<li>You can now <strong>drag-and-drop</strong> images directly onto the editor to upload them. It can be a bit finicky, so try it and help us work out the kinks. (<a href="https://core.trac.wordpress.org/ticket/19845">#19845</a>)</li>\n<li>Some things got improved around <strong>editing images</strong>. It&#8217;s a lot easier to make changes to an image after you insert it into a post (<a class="closed" title="View ticket" href="https://core.trac.wordpress.org/ticket/24409">#24409</a>) and you no longer get kicked to a new window when you need to crop or rotate an image (<a href="https://core.trac.wordpress.org/ticket/21811">#21811</a>).</li>\n<li>New <strong>audio/video playlists</strong>. Upload a few audio or video files to test these. (<a href="https://core.trac.wordpress.org/ticket/26631">#26631</a>)</li>\n</ul>\n<p><strong>If you think you’ve found a bug</strong>, you can post to the <a href="http://wordpress.org/support/forum/alphabeta">Alpha/Beta area</a> in the support forums. We&#8217;d love to hear from you! If you’re comfortable writing a reproducible bug report, <a href="https://make.wordpress.org/core/reports/">file one on the WordPress Trac</a>. There, you can also find <a href="http://core.trac.wordpress.org/tickets/major">a list of known bugs</a> and <a href="http://core.trac.wordpress.org/query?status=closed&amp;group=component&amp;milestone=3.9">everything we’ve fixed</a> so far.</p>\n<p><strong>This software is still in development,</strong> so we don’t recommend you run it on a production site. Consider setting up a test site just to play with the new version. To test WordPress 3.9, try the <a href="http://wordpress.org/extend/plugins/wordpress-beta-tester/">WordPress Beta Tester</a> plugin (you’ll want “bleeding edge nightlies”). Or you can <a href="http://wordpress.org/wordpress-3.9-beta1.zip">download the beta here</a> (zip).</p>\n<hr />\n<p><strong>DEVELOPERS!</strong> Hello! There&#8217;s lots for you, too.</p>\n<p><strong>Please test your plugins and themes!</strong> There&#8217;s a lot of great stuff under the hood in 3.9 and we hope to blog a bit about them in the coming days. If you haven&#8217;t been reading the awesome <a href="http://make.wordpress.org/core/tag/week-in-core/">weekly summaries</a> on the <a href="http://make.wordpress.org/core/">main core development blog</a>, that&#8217;s a great place to start. (You should definitely follow that blog.) For now, here are some things to watch out for when testing:</p>\n<ul>\n<li>The <strong>load process in multisite</strong> got rewritten. If you notice any issues with your network, see <a href="https://core.trac.wordpress.org/ticket/27003">#27003</a>.</li>\n<li>We now use the <strong>MySQL Improved (mysqli) database extension</strong> if you&#8217;re running a recent version of PHP (<a href="https://core.trac.wordpress.org/ticket/21663">#21663</a>). Please test your plugins and see that everything works well, and please make sure you&#8217;re not calling <code>mysql_*</code> functions directly.</li>\n<li><strong>Autosave</strong> was refactored, so if you see any issues related to autosaving, heartbeat, etc., let us know (<a href="https://core.trac.wordpress.org/ticket/25272">#25272</a>).</li>\n<li>Library updates, in particular Backbone 1.1 and Underscore 1.6 (<a href="https://core.trac.wordpress.org/ticket/26799">#26799</a>). Also Masonry 3 (<a href="https://core.trac.wordpress.org/ticket/25351">#25351</a>), PHPMailer (<a href="https://core.trac.wordpress.org/ticket/25560">#25560</a>), Plupload (<a href="https://core.trac.wordpress.org/ticket/25663">#25663</a>), and TinyMCE (<a href="https://core.trac.wordpress.org/ticket/24067">#24067</a>).</li>\n<li>TinyMCE 4.0 is a <em>major</em> update. Please see TinyMCE&#8217;s <a href="http://www.tinymce.com/wiki.php/Tutorial:Migration_guide_from_3.x">upgrade guide</a> and our <a href="https://core.trac.wordpress.org/ticket/24067">implementation ticket</a> for more. If you have any questions or problems, please <a href="http://wordpress.org/support/forum/alphabeta">open a thread in the support forums</a>.</li>\n</ul>\n<p>Happy testing!</p>\n<p><em><em>Lots of improvements<br />\nLittle things go a long way</em><br />\nPlease test beta one<br />\n</em></p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:60:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-1/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:3;a:6:{s:4:"data";s:42:"\n		\n		\n		\n		\n		\n				\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:35:"WordPress 3.8.1 Maintenance Release";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:50:"http://wordpress.org/news/2014/01/wordpress-3-8-1/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:59:"http://wordpress.org/news/2014/01/wordpress-3-8-1/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 23 Jan 2014 20:37:49 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=3063";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:358:"After six weeks and more than 9.3 million downloads of WordPress 3.8, we&#8217;re pleased to announce WordPress 3.8.1 is now available. Version 3.8.1 is a maintenance releases that addresses 31 bugs in 3.8, including various fixes and improvements for the new dashboard design and new themes admin screen. An issue with taxonomy queries in WP_Query [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Andrew Nacin";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:3809:"<p>After six weeks and more than <a href="http://wordpress.org/download/counter/">9.3 million downloads</a> of WordPress 3.8, we&#8217;re pleased to announce WordPress 3.8.1 is now available.</p>\n<p>Version 3.8.1 is a maintenance releases that addresses 31 bugs in 3.8, including various fixes and improvements for the new dashboard design and new themes admin screen. An issue with taxonomy queries in WP_Query was resolved. And if you&#8217;ve been frustrated by submit buttons that won&#8217;t do anything when you click on them (or thought you were going crazy, like some of us), we&#8217;ve found and fixed this &#8220;dead zone&#8221; on submit buttons.</p>\n<p>It also contains a fix for <strong>embedding tweets</strong> (by placing the URL to the tweet on its own line), which was broken due to a recent Twitter API change. (For more on Embeds, see <a href="http://codex.wordpress.org/Embeds">the Codex</a>.)</p>\n<p>For a full list of changes, consult the <a href="http://core.trac.wordpress.org/query?milestone=3.8.1">list of tickets</a> and <a href="https://core.trac.wordpress.org/log/branches/3.8?rev=27018&amp;stop_rev=26862">the changelog</a>. There&#8217;s also a <a href="http://make.wordpress.org/core/2014/01/22/wordpress-3-8-1-release-candidate/">detailed summary</a> for developers on the development blog.</p>\n<p>If you are one of the millions already running WordPress 3.8, we will start rolling out automatic background updates for WordPress 3.8.1 in the next few hours. For sites <a href="http://wordpress.org/plugins/background-update-tester/">that support them</a>, of course.</p>\n<p><a href="http://wordpress.org/download/">Download WordPress 3.8.1</a> or venture over to <strong>Dashboard → Updates</strong> and simply click &#8220;Update Now.&#8221;</p>\n<p>Thanks to all of these fine individuals for contributing to 3.8.1:</p>\n<p><a href="http://profiles.wordpress.org/jorbin">Aaron Jorbin</a>, <a href="http://profiles.wordpress.org/collinsinternet">Allan Collins</a>, <a href="http://profiles.wordpress.org/nacin">Andrew Nacin</a>, <a href="http://profiles.wordpress.org/azaozz">Andrew Ozz</a>, <a href="http://profiles.wordpress.org/aubreypwd">Aubrey Portwood</a>, <a href="http://profiles.wordpress.org/empireoflight">Ben Dunkle</a>, <a href="http://profiles.wordpress.org/cojennin">Connor Jennings</a>, <a href="http://profiles.wordpress.org/dd32">Dion Hulse</a>, <a href="http://profiles.wordpress.org/ocean90">Dominik Schilling</a>, <a href="http://profiles.wordpress.org/fboender">fboender</a>, <a href="http://profiles.wordpress.org/avryl">Janneke Van Dorpe</a>, <a href="http://profiles.wordpress.org/janrenn">janrenn</a>, <a href="http://profiles.wordpress.org/joedolson">Joe Dolson</a>, <a href="http://profiles.wordpress.org/johnbillion">John Blackbourn</a>, <a href="#">José Pino</a>, <a href="http://profiles.wordpress.org/kovshenin">Konstantin Kovshenin</a>, <a href="http://profiles.wordpress.org/matveb">Matias Ventura</a>, <a href="http://profiles.wordpress.org/mattheu">Matthew Haines-Young</a>, <a href="http://profiles.wordpress.org/iammattthomas">Matt Thomas</a>, <a href="http://profiles.wordpress.org/melchoyce">Mel Choyce</a>, <a href="http://profiles.wordpress.org/batmoo">Mohammad Jangda</a>, <a href="http://profiles.wordpress.org/morganestes">Morgan Estes</a>, <a href="http://profiles.wordpress.org/nivijah">nivijah</a>, <a href="http://profiles.wordpress.org/wonderboymusic">Scott Taylor</a>, <a href="http://profiles.wordpress.org/sergeybiryukov">Sergey Biryukov</a>, <a href="http://profiles.wordpress.org/undergroundnetwork">undergroundnetwork</a>, and <a href="http://profiles.wordpress.org/yurivictor">Yuri Victor</a>.</p>\n<p><em>WordPress three eight one<br />\nWe heard you didn&#8217;t like bugs<br />\nSo we took them out</em></p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:55:"http://wordpress.org/news/2014/01/wordpress-3-8-1/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:4;a:6:{s:4:"data";s:42:"\n		\n		\n		\n		\n		\n				\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:26:"WordPress 3.8 “Parker”";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:41:"http://wordpress.org/news/2013/12/parker/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:50:"http://wordpress.org/news/2013/12/parker/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 12 Dec 2013 17:00:06 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=2765";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:354:"Version 3.8 of WordPress, named “Parker” in honor of Charlie Parker, bebop innovator, is available for download or update in your WordPress dashboard. We hope you&#8217;ll think this is the most beautiful update yet. Introducing a modern new design WordPress has gotten a facelift. 3.8 brings a fresh new look to the entire admin dashboard. [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Matt Mullenweg";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:18740:"<p>Version 3.8 of WordPress, named “Parker” in honor of <a href="http://en.wikipedia.org/wiki/Charlie_Parker">Charlie Parker</a>, bebop innovator, is available <a href="http://wordpress.org/download/">for download</a> or update in your WordPress dashboard. We hope you&#8217;ll think this is the most beautiful update yet.</p>\n<div id="v-6wORgoGb-1" class="video-player"><embed id="v-6wORgoGb-1-video" src="http://s0.videopress.com/player.swf?v=1.03&amp;guid=6wORgoGb&amp;isDynamicSeeking=true" type="application/x-shockwave-flash" width="692" height="388" wmode="direct" seamlesstabbing="true" allowfullscreen="true" allowscriptaccess="always" overstretch="true"></embed></div>\n<h2 class="aligncenter">Introducing a modern new design</h2>\n<p><img class="wp-image-2951 aligncenter" alt="overview" src="http://i0.wp.com/wpdotorg.files.wordpress.com/2013/12/overview.jpg?resize=623%2C193" data-recalc-dims="1" /></p>\n<p>WordPress has gotten a facelift. 3.8 brings a fresh new look to the entire admin dashboard. Gone are overbearing gradients and dozens of shades of grey — bring on a bigger, bolder, more colorful design!</p>\n<p><img class="aligncenter  wp-image-2856" style="margin-left: 0;margin-right: 0" alt="about-modern-wordpress" src="http://i2.wp.com/wpdotorg.files.wordpress.com/2013/12/design.png?resize=623%2C151" data-recalc-dims="1" /></p>\n<h3>Modern aesthetic</h3>\n<p>The new WordPress dashboard has a fresh, uncluttered design that embraces clarity and simplicity.</p>\n<h3>Clean typography</h3>\n<p>The Open Sans typeface provides simple, friendly text that is optimized for both desktop and mobile viewing. It’s even open source, just like WordPress.</p>\n<h3>Refined contrast</h3>\n<p>We think beautiful design should never sacrifice legibility. With superior contrast and large, comfortable type, the new design is easy to read and a pleasure to navigate.</p>\n<hr />\n<h2 class="aligncenter">WordPress on every device</h2>\n<p><img class="alignright  wp-image-2984" alt="responsive" src="http://i2.wp.com/wpdotorg.files.wordpress.com/2013/12/responsive.jpg?resize=255%2C255" data-recalc-dims="1" />We all access the internet in different ways. Smartphone, tablet, notebook, desktop — no matter what you use, WordPress will adapt and you’ll feel right at home.</p>\n<h3>High definition at high speed</h3>\n<p>WordPress is sharper than ever with new vector-based icons that scale to your screen. By ditching pixels, pages load significantly faster, too.</p>\n<hr />\n<h2 class="aligncenter">Admin color schemes to match your personality</h2>\n<p><img class="aligncenter  wp-image-2954" alt="colors" src="http://i0.wp.com/wpdotorg.files.wordpress.com/2013/12/colors.jpg?resize=623%2C339" data-recalc-dims="1" /></p>\n<p>WordPress just got a colorful new update. We’ve included eight new admin color schemes so you can pick the one that suits you best.</p>\n<p>Color schemes can be previewed and changed from your Profile page.</p>\n<hr />\n<h2 class="aligncenter">Refined theme management</h2>\n<p><img class="alignright  wp-image-2967" alt="themes" src="http://i0.wp.com/wpdotorg.files.wordpress.com/2013/12/themes.jpg?resize=360%2C344" data-recalc-dims="1" />The new themes screen lets you survey your themes at a glance. Or want more information? Click to discover more. Then sit back and use your keyboard’s navigation arrows to flip through every theme you’ve got.</p>\n<h3>Smoother widget experience</h3>\n<p>Drag-drag-drag. Scroll-scroll-scroll. Widget management can be complicated. With the new design, we’ve worked to streamline the widgets screen.</p>\n<p>Have a large monitor? Multiple widget areas stack side-by-side to use the available space. Using a tablet? Just tap a widget to add it.</p>\n<hr />\n<h2 class="aligncenter">Twenty Fourteen, a sleek new magazine theme</h2>\n<p><img class="aligncenter size-large wp-image-2789" alt="The new Twenty Fourteen theme displayed on a laptop. tablet and phone" src="http://i0.wp.com/wpdotorg.files.wordpress.com/2013/12/twentyfourteen.jpg?resize=692%2C275" data-recalc-dims="1" /></p>\n<h3>Turn your blog into a magazine</h3>\n<p>Create a beautiful magazine-style site with WordPress and Twenty Fourteen. Choose a grid or a slider to display featured content on your homepage. Customize your site with three widget areas or change your layout with two page templates.</p>\n<p>With a striking design that does not compromise our trademark simplicity, Twenty Fourteen is our most intrepid default theme yet.</p>\n<hr />\n<h2>Beginning of a new era</h2>\n<p>This release was led by Matt Mullenweg. This is our second release using the new plugin-first development process, with a much shorter timeframe than in the past. We think it’s been going great. You can check out the features currently in production on the <a title="Make WordPress Core" href="http://make.wordpress.org/core/" target="_blank">make/core blog</a>.</p>\n<p>There are 188 contributors with props in this release:</p>\n<p><a href="http://profiles.wordpress.org/aaronholbrook">Aaron Holbrook</a>, <a href="http://profiles.wordpress.org/jorbin">Aaron Jorbin</a>, <a href="http://profiles.wordpress.org/adamsilverstein">adamsilverstein</a>, <a href="http://profiles.wordpress.org/admiralthrawn">admiralthrawn</a>, <a href="http://profiles.wordpress.org/ahoereth">Alexander Hoereth</a>, <a href="http://profiles.wordpress.org/collinsinternet">Allan Collins</a>, <a href="http://profiles.wordpress.org/sabreuse">Amy Hendrix (sabreuse)</a>, <a href="http://profiles.wordpress.org/nacin">Andrew Nacin</a>, <a href="http://profiles.wordpress.org/azaozz">Andrew Ozz</a>, <a href="http://profiles.wordpress.org/aralbald">Andrey Kabakchiev</a>, <a href="http://profiles.wordpress.org/apeatling">Andy Peatling</a>, <a href="http://profiles.wordpress.org/ankitgadertcampcom">Ankit Gade</a>, <a href="http://profiles.wordpress.org/atimmer">Anton Timmermans</a>, <a href="http://profiles.wordpress.org/fliespl">Arkadiusz Rzadkowolski</a>, <a href="http://profiles.wordpress.org/aubreypwd">Aubrey Portwood</a>, <a href="http://profiles.wordpress.org/bassgang">bassgang</a>, <a href="http://profiles.wordpress.org/empireoflight">Ben Dunkle</a>, <a href="http://profiles.wordpress.org/bananastalktome">Billy (bananastalktome)</a>, <a href="http://profiles.wordpress.org/binarymoon">binarymoon</a>, <a href="http://profiles.wordpress.org/bradyvercher">Brady Vercher</a>, <a href="http://profiles.wordpress.org/kraftbj">Brandon Kraft</a>, <a href="http://profiles.wordpress.org/rzen">Brian Richards</a>, <a href="http://profiles.wordpress.org/bpetty">Bryan Petty</a>, <a href="http://profiles.wordpress.org/calin">Calin Don</a>, <a href="http://profiles.wordpress.org/carldanley">Carl Danley</a>, <a href="http://profiles.wordpress.org/sixhours">Caroline Moore</a>, <a href="http://profiles.wordpress.org/caspie">Caspie</a>, <a href="http://profiles.wordpress.org/chrisbliss18">Chris Jean</a>, <a href="http://profiles.wordpress.org/iblamefish">Clinton Montague</a>, <a href="http://profiles.wordpress.org/cojennin">cojennin</a>, <a href="http://profiles.wordpress.org/corphi">Corphi</a>, <a href="http://profiles.wordpress.org/dbernar1">Dan Bernardic</a>, <a href="http://profiles.wordpress.org/danieldudzic">Daniel Dudzic</a>, <a href="http://profiles.wordpress.org/koop">Daryl Koopersmith</a>, <a href="http://profiles.wordpress.org/datafeedrcom">datafeedr</a>, <a href="http://profiles.wordpress.org/lessbloat">Dave Martin</a>, <a href="http://profiles.wordpress.org/drw158">Dave Whitley</a>, <a href="http://profiles.wordpress.org/dd32">Dion Hulse</a>, <a href="http://profiles.wordpress.org/ocean90">Dominik Schilling</a>, <a href="http://profiles.wordpress.org/dougwollison">Doug Wollison</a>, <a href="http://profiles.wordpress.org/drewapicture">Drew Jaynes</a>, <a href="http://profiles.wordpress.org/dziudek">dziudek</a>, <a href="http://profiles.wordpress.org/ericlewis">Eric Andrew Lewis</a>, <a href="http://profiles.wordpress.org/ericmann">Eric Mann</a>, <a href="http://profiles.wordpress.org/ethitter">Erick Hitter</a>, <a href="http://profiles.wordpress.org/evansolomon">Evan Solomon</a>, <a href="http://profiles.wordpress.org/faison">Faison</a>, <a href="http://profiles.wordpress.org/fboender">fboender</a>, <a href="http://profiles.wordpress.org/frank-klein">Frank Klein</a>, <a href="http://profiles.wordpress.org/garyj">Gary Jones</a>, <a href="http://profiles.wordpress.org/pento">Gary Pendergast</a>, <a href="http://profiles.wordpress.org/soulseekah">Gennady Kovshenin</a>, <a href="http://profiles.wordpress.org/georgestephanis">George Stephanis</a>, <a href="http://profiles.wordpress.org/gnarf37">gnarf37</a>, <a href="http://profiles.wordpress.org/tivnet">Gregory Karpinsky</a>, <a href="http://profiles.wordpress.org/hanni">hanni</a>, <a href="http://profiles.wordpress.org/helen">Helen Hou-Sandi</a>, <a href="http://profiles.wordpress.org/iandunn">Ian Dunn</a>, <a href="http://profiles.wordpress.org/ipstenu">Ipstenu (Mika Epstein)</a>, <a href="http://profiles.wordpress.org/isaackeyet">Isaac Keyet</a>, <a href="http://profiles.wordpress.org/jdgrimes">J.D. Grimes</a>, <a href="http://profiles.wordpress.org/jacklenox">Jack Lenox</a>, <a href="http://profiles.wordpress.org/janhenckens">janhenckens</a>, <a href="http://profiles.wordpress.org/avryl">Janneke Van Dorpe</a>, <a href="http://profiles.wordpress.org/janrenn">janrenn</a>, <a href="http://profiles.wordpress.org/jblz">Jeff Bowen</a>, <a href="http://profiles.wordpress.org/jeffr0">Jeff Chandler</a>, <a href="http://profiles.wordpress.org/jenmylo">Jen Mylo</a>, <a href="http://profiles.wordpress.org/buffler">Jeremy Buller</a>, <a href="http://profiles.wordpress.org/jeremyfelt">Jeremy Felt</a>, <a href="http://profiles.wordpress.org/jeherve">Jeremy Herve</a>, <a href="http://profiles.wordpress.org/jpry">Jeremy Pry</a>, <a href="http://profiles.wordpress.org/jayjdk">Jesper Johansen (jayjdk)</a>, <a href="http://profiles.wordpress.org/jhned">jhned</a>, <a href="http://profiles.wordpress.org/jim912">jim912</a>, <a href="http://profiles.wordpress.org/jartes">Joan Artes</a>, <a href="http://profiles.wordpress.org/joedolson">Joe Dolson</a>, <a href="http://profiles.wordpress.org/joen">Joen Asmussen</a>, <a href="http://profiles.wordpress.org/johnbillion">John Blackbourn</a>, <a href="http://profiles.wordpress.org/johnafish">John Fish</a>, <a href="http://profiles.wordpress.org/johnjamesjacoby">John James Jacoby</a>, <a href="http://profiles.wordpress.org/duck_">Jon Cave</a>, <a href="http://profiles.wordpress.org/joostdevalk">Joost de Valk</a>, <a href="http://profiles.wordpress.org/joshuaabenazer">Joshua Abenazer</a>, <a href="http://profiles.wordpress.org/nukaga">Junko Nukaga</a>, <a href="http://profiles.wordpress.org/devesine">Justin de Vesine</a>, <a href="http://profiles.wordpress.org/justinsainton">Justin Sainton</a>, <a href="http://profiles.wordpress.org/kadamwhite">K. Adam White</a>, <a href="http://profiles.wordpress.org/trepmal">Kailey (trepmal)</a>, <a href="http://profiles.wordpress.org/codebykat">Kat Hagan</a>, <a href="http://profiles.wordpress.org/littlethingsstudio">Kate Whitley</a>, <a href="http://profiles.wordpress.org/ryelle">Kelly Dwan</a>, <a href="http://profiles.wordpress.org/kpdesign">Kim Parsell</a>, <a href="http://profiles.wordpress.org/kwight">Kirk Wight</a>, <a href="http://profiles.wordpress.org/koki4a">Konstantin Dankov</a>, <a href="http://profiles.wordpress.org/kovshenin">Konstantin Kovshenin</a>, <a href="http://profiles.wordpress.org/obenland">Konstantin Obenland</a>, <a href="http://profiles.wordpress.org/drozdz">Krzysiek Drozdz</a>, <a href="http://profiles.wordpress.org/lancewillett">Lance Willett</a>, <a href="http://profiles.wordpress.org/leewillis77">Lee Willis</a>, <a href="http://profiles.wordpress.org/lite3">lite3</a>, <a href="http://profiles.wordpress.org/lucp">Luc Princen</a>, <a href="http://profiles.wordpress.org/latz">Lutz Schroer</a>, <a href="http://profiles.wordpress.org/mako09">Mako</a>, <a href="http://profiles.wordpress.org/markjaquith">Mark Jaquith</a>, <a href="http://profiles.wordpress.org/markmcwilliams">Mark McWilliams</a>, <a href="http://profiles.wordpress.org/markoheijnen">Marko Heijnen</a>, <a href="http://profiles.wordpress.org/matt">Matt Mullenweg</a>, <a href="http://profiles.wordpress.org/iammattthomas">Matt Thomas</a>, <a href="http://profiles.wordpress.org/mattwiebe">Matt Wiebe</a>, <a href="http://profiles.wordpress.org/mdbitz">Matthew Denton</a>, <a href="http://profiles.wordpress.org/mattheu">Matthew Haines-Young</a>, <a href="http://profiles.wordpress.org/matveb">Matías Ventura</a>, <a href="http://profiles.wordpress.org/megane9988">megane9988</a>, <a href="http://profiles.wordpress.org/melchoyce">Mel Choyce</a>, <a href="http://profiles.wordpress.org/micahwave">micahwave</a>, <a href="http://profiles.wordpress.org/cainm">Michael Cain</a>, <a href="http://profiles.wordpress.org/mitchoyoshitaka">Michael Erlewine</a>, <a href="http://profiles.wordpress.org/michelwppi">Michel - xiligroup dev</a>, <a href="http://profiles.wordpress.org/chellycat">Michelle Langston</a>, <a href="http://profiles.wordpress.org/gradyetc">Mike Burns</a>, <a href="http://profiles.wordpress.org/mikehansenme">Mike Hansen</a>, <a href="http://profiles.wordpress.org/mikelittle">Mike Little</a>, <a href="http://profiles.wordpress.org/dh-shredder">Mike Schroder</a>, <a href="http://profiles.wordpress.org/dimadin">Milan Dinic</a>, <a href="http://profiles.wordpress.org/batmoo">Mohammad Jangda</a>, <a href="http://profiles.wordpress.org/morganestes">Morgan Estes</a>, <a href="http://profiles.wordpress.org/mt8biz">moto hachi</a>, <a href="http://profiles.wordpress.org/Nao">Naoko Takano</a>, <a href="http://profiles.wordpress.org/neil_pie">Neil Pie</a>, <a href="http://profiles.wordpress.org/nickdaugherty">Nick Daugherty</a>, <a href="http://profiles.wordpress.org/celloexpressions">Nick Halsey</a>, <a href="http://profiles.wordpress.org/nbachiyski">Nikolay Bachiyski</a>, <a href="http://profiles.wordpress.org/ninio">ninio</a>, <a href="http://profiles.wordpress.org/ninnypants">ninnypants</a>, <a href="http://profiles.wordpress.org/nivijah">nivijah</a>, <a href="http://profiles.wordpress.org/nofearinc">nofearinc</a>, <a href="http://profiles.wordpress.org/nvwd">Nowell VanHoesen</a>, <a href="http://profiles.wordpress.org/odysseygate">odyssey</a>, <a href="http://profiles.wordpress.org/originalexe">OriginalEXE</a>, <a href="http://profiles.wordpress.org/swissspidy">Pascal Birchler</a>, <a href="http://profiles.wordpress.org/pauldewouters">Paul de Wouters</a>, <a href="http://profiles.wordpress.org/pavelevap">pavelevap</a>, <a href="http://profiles.wordpress.org/westi">Peter Westwood</a>, <a href="http://profiles.wordpress.org/senlin">Piet</a>, <a href="http://profiles.wordpress.org/ptahdunbar">Ptah Dunbar</a>, <a href="http://profiles.wordpress.org/raamdev">Raam Dev</a>, <a href="http://profiles.wordpress.org/bamadesigner">Rachel Carden</a>, <a href="http://profiles.wordpress.org/rachelbaker">rachelbaker</a>, <a href="http://profiles.wordpress.org/radices">Radices</a>, <a href="http://profiles.wordpress.org/mauryaratan">Ram Ratan Maurya</a>, <a href="http://profiles.wordpress.org/defries">Remkus de Vries</a>, <a href="http://profiles.wordpress.org/ounziw">Rescuework Support</a>, <a href="http://profiles.wordpress.org/rickalee">Ricky Lee Whittemore</a>, <a href="http://profiles.wordpress.org/rdall">Robert Dall</a>, <a href="http://profiles.wordpress.org/wet">Robert Wetzlmayr, PHP-Programmierer</a>, <a href="http://profiles.wordpress.org/rodrigosprimo">Rodrigo Primo</a>, <a href="http://profiles.wordpress.org/ryan">Ryan Boren</a>, <a href="http://profiles.wordpress.org/otto42">Samuel Wood</a>, <a href="http://profiles.wordpress.org/sanchothefat">sanchothefat</a>, <a href="http://profiles.wordpress.org/sboisvert">sboisvert</a>, <a href="http://profiles.wordpress.org/scottbasgaard">Scott Basgaard</a>, <a href="http://profiles.wordpress.org/coffee2code">Scott Reilly</a>, <a href="http://profiles.wordpress.org/wonderboymusic">Scott Taylor</a>, <a href="http://profiles.wordpress.org/scribu">scribu</a>, <a href="http://profiles.wordpress.org/seanchayes">Sean Hayes</a>, <a href="http://profiles.wordpress.org/sergeybiryukov">Sergey Biryukov</a>, <a href="http://profiles.wordpress.org/shaunandrews">Shaun Andrews</a>, <a href="http://profiles.wordpress.org/designsimply">Sheri Bigelow (designsimply)</a>, <a href="http://profiles.wordpress.org/shinichin">ShinichiN</a>, <a href="http://profiles.wordpress.org/simonwheatley">Simon Wheatley</a>, <a href="http://profiles.wordpress.org/siobhan">Siobhan</a>, <a href="http://profiles.wordpress.org/siobhyb">Siobhan Bamber (siobhyb)</a>, <a href="http://profiles.wordpress.org/sirbrillig">sirbrillig</a>, <a href="http://profiles.wordpress.org/solarissmoke">solarissmoke</a>, <a href="http://profiles.wordpress.org/netweb">Stephen Edgar</a>, <a href="http://profiles.wordpress.org/stephenharris">Stephen Harris</a>, <a href="http://profiles.wordpress.org/stevenkword">Steven Word</a>, <a href="http://profiles.wordpress.org/iamtakashi">Takashi Irie</a>, <a href="http://profiles.wordpress.org/miyauchi">Takayuki Miyauchi</a>, <a href="http://profiles.wordpress.org/tmtoy">Takuma Morikawa</a>, <a href="http://profiles.wordpress.org/thomasguillot">Thomas Guillot</a>, <a href="http://profiles.wordpress.org/tierra">tierra</a>, <a href="http://profiles.wordpress.org/tillkruess">Till Krüss</a>, <a href="http://profiles.wordpress.org/tlamedia">TLA Media</a>, <a href="http://profiles.wordpress.org/tobiasbg">TobiasBg</a>, <a href="http://profiles.wordpress.org/tommcfarlin">tommcfarlin</a>, <a href="http://profiles.wordpress.org/zodiac1978">Torsten Landsiedel</a>, <a href="http://profiles.wordpress.org/taupecat">Tracy Rotton</a>, <a href="http://profiles.wordpress.org/trishasalas">trishasalas</a>, <a href="http://profiles.wordpress.org/mbmufffin">Tyler Smith</a>, <a href="http://profiles.wordpress.org/grapplerulrich">Ulrich</a>, <a href="http://profiles.wordpress.org/undergroundnetwork">undergroundnetwork</a>, <a href="http://profiles.wordpress.org/l10n">Vladimir</a>, <a href="http://profiles.wordpress.org/westonruter">Weston Ruter</a>, <a href="http://profiles.wordpress.org/yoavf">Yoav Farhi</a>, <a href="http://profiles.wordpress.org/yonasy">yonasy</a>, <a href="http://profiles.wordpress.org/yurivictor">Yuri Victor</a>, and <a href="http://profiles.wordpress.org/tollmanz">Zack Tollman</a>. Also thanks to <a href="http://benmorrison.org/">Ben Morrison</a> and <a href="http://christineswebb.com/">Christine Webb</a> for help with the video.</p>\n<p>Thanks for choosing WordPress. See you soon for version 3.9!</p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:46:"http://wordpress.org/news/2013/12/parker/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:5;a:6:{s:4:"data";s:45:"\n		\n		\n		\n		\n		\n				\n		\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:7:"3.8 RC2";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:42:"http://wordpress.org/news/2013/12/3-8-rc2/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:51:"http://wordpress.org/news/2013/12/3-8-rc2/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 10 Dec 2013 01:08:38 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:11:"Development";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=2805";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:343:"Release candidate 2 of WordPress 3.8 is now available for download. This is the last pre-release, and we expect it to be effectively identical to what&#8217;s officially released to the public on Thursday. This means if you are a plugin or theme developer, start your engines! (If they&#8217;re not going already.) Lots of admin code [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Matt Mullenweg";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1180:"<p>Release candidate 2 of WordPress 3.8 is <a href="http://wordpress.org/wordpress-3.8-RC2.zip">now available for download</a>. This is the last pre-release, and we expect it to be effectively identical to what&#8217;s officially released to the public on Thursday.</p>\n<p>This means if you are a plugin or theme developer, start your engines! (If they&#8217;re not going already.) Lots of admin code has changed so it&#8217;s especially important to see if your plugin works well within the new admin design and layout, and update <a href="http://wordpress.org/plugins/about/readme.txt">the &#8220;Tested up to:&#8221; part of your plugin readme.txt</a>.</p>\n<p>If there is something in your plugin that you&#8217;re unable to fix, or if you think you&#8217;ve found a bug, join us <a href="http://codex.wordpress.org/IRC">in #wordpress-dev in IRC</a>, especially if you&#8217;re able to join during the dev chat on Wednesday, or post in the <a href="http://wordpress.org/support/forum/alphabeta">alpha/beta forum</a>. The developers and designers who worked on this release are happy to help anyone update their code before the 3.8 release.</p>\n<p>Happy hacking, everybody!</p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:47:"http://wordpress.org/news/2013/12/3-8-rc2/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:6;a:6:{s:4:"data";s:45:"\n		\n		\n		\n		\n		\n				\n		\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:17:"WordPress 3.8 RC1";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:45:"http://wordpress.org/news/2013/12/3-8-almost/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:54:"http://wordpress.org/news/2013/12/3-8-almost/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 04 Dec 2013 09:54:48 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:11:"Development";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=2760";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:345:"We&#8217;re entering the quiet but busy part of a release, whittling down issues to bring you all of the new features you&#8217;re excited about with the stability you expect from WordPress. There are just a few days from the &#8220;code freeze&#8221; for our 3.8 release, which includes a number of exciting enhancements, so the focus [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Matt Mullenweg";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1873:"<p>We&#8217;re entering the quiet but busy part of a release, whittling down issues to bring you all of the new features you&#8217;re excited about with the stability you expect from WordPress. There are just a few days from the &#8220;code freeze&#8221; for our 3.8 release, <a href="http://wordpress.org/news/2013/11/wordpress-3-8-beta-1/">which includes a number of exciting enhancements</a>, so the focus is on identifying any major issues and resolving them as soon as possible.</p>\n<p>If you&#8217;ve ever wondered about how to contribute to WordPress, here&#8217;s a time you can: download this release candidate and use it in as many ways as you can imagine. Try to break it, and if you do, let us know how you did it so we can make sure it never happens again. If you work for a web host, this is the release you should test as much as possible and start getting your automatic upgrade systems and 1-click installers ready.</p>\n<p><a href="http://wordpress.org/wordpress-3.8-RC1.zip">Download WordPress 3.8 RC1</a> (zip) or use the <a href="http://wordpress.org/plugins/wordpress-beta-tester/">WordPress Beta Tester</a> plugin (you&#8217;ll want &#8220;bleeding edge nightlies&#8221;).</p>\n<p>If you think you’ve found a bug, you can post to the <a href="http://wordpress.org/support/forum/alphabeta">Alpha/Beta area</a> in the support forums. Or, if you’re comfortable writing a reproducible bug report, <a href="http://core.trac.wordpress.org/">file one on the WordPress Trac</a>. There, you can also find <a href="http://core.trac.wordpress.org/report/5">a list of known bugs</a> and <a href="http://core.trac.wordpress.org/query?status=closed&amp;group=component&amp;milestone=3.8">everything we’ve fixed</a> so far.</p>\n<p><em>We&#8217;re so close to the</em><br />\n<em>finish line, jump in and help</em><br />\n<em>good karma is yours.</em></p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:50:"http://wordpress.org/news/2013/12/3-8-almost/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:7;a:6:{s:4:"data";s:45:"\n		\n		\n		\n		\n		\n				\n		\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:20:"WordPress 3.8 Beta 1";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:55:"http://wordpress.org/news/2013/11/wordpress-3-8-beta-1/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:64:"http://wordpress.org/news/2013/11/wordpress-3-8-beta-1/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 21 Nov 2013 05:21:56 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:11:"Development";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=2754";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:307:"The first beta of the 3.8 is now available, and the next dates to watch out for are code freeze on December 5th and a final release on December 12th. 3.8 brings together several of the features as plugins projects and while this isn&#8217;t our first rodeo, expect this to be more beta than usual. [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Matt Mullenweg";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2236:"<p>The first beta of the 3.8 is now available, and the next dates to watch out for are code freeze on December 5th and a final release on December 12th.</p>\n<p>3.8 brings together <a href="http://make.wordpress.org/core/features-as-plugins/">several of the features as plugins projects</a> and while this isn&#8217;t our first rodeo, expect this to be more beta than usual. The headline things to test out in this release are:</p>\n<ul>\n<li>The new admin design, especially the responsive aspect of it. Try it out on different devices and browsers, see how it goes, especially the more complex pages like widgets or seldom-looked-at-places like Press This. Color schemes, which you can change on your profile, have also been spruced up.</li>\n<li>The dashboard homepage has been refreshed, poke and prod it.</li>\n<li>Choosing themes under Appearance is completely different, try to break it however possible.</li>\n<li>There&#8217;s a new default theme, Twenty Fourteen.</li>\n<li>Over 250 issues closed already.</li>\n</ul>\n<p>Given how many things in the admin have changed it&#8217;s extra super duper important to test as many plugins and themes with admin pages against the new stuff. Also if you&#8217;re a developer consider how you can make your admin interface fit the MP6 aesthetic better.</p>\n<p>As always, if you think you’ve found a bug, you can post to the <a href="http://wordpress.org/support/forum/alphabeta">Alpha/Beta area</a> in the support forums. Or, if you’re comfortable writing a reproducible bug report, <a href="http://core.trac.wordpress.org/">file one on the WordPress Trac</a>. There, you can also find <a href="http://core.trac.wordpress.org/report/5">a list of known bugs</a> and <a href="http://core.trac.wordpress.org/query?status=closed&amp;group=component&amp;milestone=3.8">everything we’ve fixed</a> so far.</p>\n<p><a href="http://wordpress.org/wordpress-3.8-beta-1.zip">Download WordPress 3.8 Beta 1</a> (zip) or use the <a href="http://wordpress.org/plugins/wordpress-beta-tester/">WordPress Beta Tester</a> plugin (you&#8217;ll want &#8220;bleeding edge nightlies&#8221;).</p>\n<p><em>Alphabet soup of</em><br />\n<em>Plugins as features galore</em><br />\n<em>The future is here</em></p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:60:"http://wordpress.org/news/2013/11/wordpress-3-8-beta-1/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:8;a:6:{s:4:"data";s:45:"\n		\n		\n		\n		\n		\n				\n		\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:35:"WordPress 3.7.1 Maintenance Release";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:50:"http://wordpress.org/news/2013/10/wordpress-3-7-1/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:59:"http://wordpress.org/news/2013/10/wordpress-3-7-1/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 29 Oct 2013 21:04:59 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:8:"Security";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=2745";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:371:"WordPress 3.7.1 is now available! This maintenance release addresses 11 bugs in WordPress 3.7, including: Images with captions no longer appear broken in the visual editor. Allow some sites running on old or poorly configured servers to continue to check for updates from WordPress.org. Avoid fatal errors with certain plugins that were incorrectly calling some [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Andrew Nacin";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1594:"<p>WordPress 3.7.1 is now available! This maintenance release addresses 11 bugs in WordPress 3.7, including:</p>\n<ul>\n<li>Images with captions no longer appear broken in the visual editor.</li>\n<li>Allow some sites running on old or poorly configured servers to continue to check for updates from WordPress.org.</li>\n<li>Avoid fatal errors with certain plugins that were incorrectly calling some WordPress functions too early.</li>\n<li>Fix hierarchical sorting in get_pages(), exclusions in wp_list_categories(), and in_category() when called with empty values.</li>\n<li>Fix a warning that may occur in certain setups while performing a search, and a few other notices.</li>\n</ul>\n<p>For a full list of changes, consult the <a href="http://core.trac.wordpress.org/query?milestone=3.7.1">list of tickets</a> and <a href="http://core.trac.wordpress.org/log/branches/3.7?stop_rev=25914&amp;rev=25986">the changelog</a>.</p>\n<p>If you are one of the <a href="http://wordpress.org/download/counter/">nearly two million</a> already running WordPress 3.7, we will start rolling out the all-new <a href="http://wordpress.org/news/2013/10/basie/">automatic background updates</a> for WordPress 3.7.1 in the next few hours. For sites <a href="http://wordpress.org/plugins/background-update-tester/">that support them</a>, of course.</p>\n<p><a href="http://wordpress.org/download/">Download WordPress 3.7.1</a> or venture over to <strong>Dashboard → Updates</strong> and simply click &#8220;Update Now.&#8221;</p>\n<p><em>Just a few fixes<br />\nYour new update attitude:<br />\nZero clicks given</em></p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:55:"http://wordpress.org/news/2013/10/wordpress-3-7-1/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:9;a:6:{s:4:"data";s:42:"\n		\n		\n		\n		\n		\n				\n\n		\n		\n				\n			\n		\n		";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:25:"WordPress 3.7 “Basie”";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:40:"http://wordpress.org/news/2013/10/basie/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:49:"http://wordpress.org/news/2013/10/basie/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 24 Oct 2013 22:35:10 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:8:"Releases";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=2736";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:357:"Version 3.7 of WordPress, named &#8220;Basie&#8221; in honor of Count Basie, is available for download or update in your WordPress dashboard. This release features some of the most important architectural updates we&#8217;ve made to date. Here are the big ones: Updates while you sleep: With WordPress 3.7, you don&#8217;t have to lift a finger to [&#8230;]";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Matt Mullenweg";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:17229:"<p>Version 3.7 of WordPress, named &#8220;Basie&#8221; in honor of <a href="http://en.wikipedia.org/wiki/Count_basie">Count Basie</a>, is available <a href="http://wordpress.org/download/">for download</a> or update in your WordPress dashboard. This release features some of the most important architectural updates we&#8217;ve made to date. Here are the big ones:</p>\n<ul>\n<li><strong>Updates while you sleep</strong>: With WordPress 3.7, you don&#8217;t have to lift a finger to apply maintenance and security updates. Most sites are now able to automatically apply these updates in the background. The update process also has been made even more reliable and secure, with dozens of new checks and safeguards.</li>\n<li><strong>Stronger password recommendations</strong>: Your password is your site&#8217;s first line of defense. It&#8217;s best to create passwords that are complex, long, and unique. To that end, our password meter has been updated in WordPress 3.7 to recognize common mistakes that can weaken your password: dates, names, keyboard patterns (123456789), and even pop culture references.</li>\n<li><strong>Better global support</strong>: Localized versions of WordPress will receive faster and more complete translations. WordPress 3.7 adds support for automatically installing the right language files and keeping them up to date, a boon for the many millions who use WordPress in a language other than English.</li>\n</ul>\n<p>For developers there are lots of options around how to control the new updates feature, including allowing it to handle major upgrades as well as minor ones, more sophisticated date query support, and multisite improvements. As always, if you&#8217;re hungry for more <a href="http://codex.wordpress.org/Version_3.7">dive into the Codex</a> or browse the <a href="http://core.trac.wordpress.org/query?status=closed&amp;group=resolution&amp;milestone=3.7">over 400 closed tickets on Trac</a>.</p>\n<h3>A New Wave</h3>\n<p>This release was led by Andrew Nacin, backed up by Dion Hulse and Jon Cave. This is our first release using the new plugin-first development process, with a much shorter timeframe than in the past. (3.6 was released in August.) The 3.8 release, due in December, will continue this plugin-led development cycle that gives much more autonomy to plugin leads and allows us to decouple feature development from a release. You can follow this grand experiment, and what we&#8217;re learning from it, <a href="http://make.wordpress.org/core/">on the make/core blog</a>. There are 211 contributors with props in this release:</p>\n<p><a href="http://profiles.wordpress.org/technosailor">Aaron Brazell</a>, <a href="http://profiles.wordpress.org/aaroncampbell">Aaron D. Campbell</a>, <a href="http://profiles.wordpress.org/aaronholbrook">Aaron Holbrook</a>, <a href="http://profiles.wordpress.org/jorbin">Aaron Jorbin</a>, <a href="http://profiles.wordpress.org/adamsilverstein">adamsilverstein</a>, <a href="http://profiles.wordpress.org/ahoereth">Alexander Hoereth</a>, <a href="http://profiles.wordpress.org/viper007bond">Alex Mills (Viper007Bond)</a>, <a href="http://profiles.wordpress.org/sabreuse">Amy Hendrix (sabreuse)</a>, <a href="http://profiles.wordpress.org/andg">andg</a>, <a href="http://profiles.wordpress.org/nacin">Andrew Nacin</a>, <a href="http://profiles.wordpress.org/norcross">Andrew Norcross</a>, <a href="http://profiles.wordpress.org/azaozz">Andrew Ozz</a>, <a href="http://profiles.wordpress.org/andrewspittle">Andrew Spittle</a>, <a href="http://profiles.wordpress.org/askapache">askapache</a>, <a href="http://profiles.wordpress.org/atimmer">atimmer</a>, <a href="http://profiles.wordpress.org/barry">Barry</a>, <a href="http://profiles.wordpress.org/beaulebens">Beau Lebens</a>, <a href="http://profiles.wordpress.org/benmoody">ben.moody</a>, <a href="http://profiles.wordpress.org/bhengh">Ben Miller</a>, <a href="http://profiles.wordpress.org/neoxx">Bernhard Riedl</a>, <a href="http://profiles.wordpress.org/bftrick">BFTrick</a>, <a href="http://profiles.wordpress.org/bananastalktome">Billy (bananastalktome)</a>, <a href="http://profiles.wordpress.org/bmb">bmb</a>, <a href="http://profiles.wordpress.org/kraftbj">Brandon Kraft</a>, <a href="http://profiles.wordpress.org/brianhogg">brianhogg</a>, <a href="http://profiles.wordpress.org/rzen">Brian Richards</a>, <a href="http://profiles.wordpress.org/bpetty">Bryan Petty</a>, <a href="http://profiles.wordpress.org/carldanley">Carl Danley</a>, <a href="http://profiles.wordpress.org/charlesclarkson">CharlesClarkson</a>, <a href="http://profiles.wordpress.org/chipbennett">Chip Bennett</a>, <a href="http://profiles.wordpress.org/chouby">Chouby</a>, <a href="http://profiles.wordpress.org/c3mdigital">Chris Olbekson</a>, <a href="http://profiles.wordpress.org/chrisrudzki">Chris Rudzki</a>, <a href="http://profiles.wordpress.org/aeg0125">coderaaron</a>, <a href="http://profiles.wordpress.org/coenjacobs">Coen Jacobs</a>, <a href="http://profiles.wordpress.org/crrobi01">Colin Robinson</a>, <a href="http://profiles.wordpress.org/andreasnrb">cyonite</a>, <a href="http://profiles.wordpress.org/daankortenbach">Daan Kortenbach</a>, <a href="http://profiles.wordpress.org/danielbachhuber">Daniel Bachhuber</a>, <a href="http://profiles.wordpress.org/convissor">Daniel Convissor</a>, <a href="http://profiles.wordpress.org/dartiss">dartiss</a>, <a href="http://profiles.wordpress.org/koop">Daryl Koopersmith</a>, <a href="http://profiles.wordpress.org/csixty4">Dave Ross</a>, <a href="http://profiles.wordpress.org/davidjlaietta">David Laietta</a>, <a href="http://profiles.wordpress.org/dd32">Dion Hulse</a>, <a href="http://profiles.wordpress.org/dllh">dllh</a>, <a href="http://profiles.wordpress.org/ocean90">Dominik Schilling (ocean90)</a>, <a href="http://profiles.wordpress.org/dpash">dpash</a>, <a href="http://profiles.wordpress.org/drewapicture">Drew Jaynes</a>, <a href="http://profiles.wordpress.org/drprotocols">DrProtocols</a>, <a href="http://profiles.wordpress.org/dustyf">Dustin Filippini</a>, <a href="http://profiles.wordpress.org/dzver">dzver</a>, <a href="http://profiles.wordpress.org/cais">Edward Caissie</a>, <a href="http://profiles.wordpress.org/enej">enej</a>, <a href="http://profiles.wordpress.org/ericlewis">Eric Andrew Lewis</a>, <a href="http://profiles.wordpress.org/ericmann">Eric Mann</a>, <a href="http://profiles.wordpress.org/evansolomon">Evan Solomon</a>, <a href="http://profiles.wordpress.org/faishal">faishal</a>, <a href="http://profiles.wordpress.org/faison">Faison</a>, <a href="http://profiles.wordpress.org/foofy">Foofy</a>, <a href="http://profiles.wordpress.org/fjarrett">Frankie Jarrett</a>, <a href="http://profiles.wordpress.org/frank-klein">Frank Klein</a>, <a href="http://profiles.wordpress.org/garyc40">Gary Cao</a>, <a href="http://profiles.wordpress.org/pento">Gary Pendergast</a>, <a href="http://profiles.wordpress.org/gayadesign">Gaya Kessler</a>, <a href="http://profiles.wordpress.org/georgestephanis">George Stephanis</a>, <a href="http://profiles.wordpress.org/gizburdt">Gizburdt</a>, <a href="http://profiles.wordpress.org/goldenapples">goldenapples</a>, <a href="http://profiles.wordpress.org/gradyetc">gradyetc</a>, <a href="http://profiles.wordpress.org/gcorne">Gregory Cornelius</a>, <a href="http://profiles.wordpress.org/webord">Gustavo Bordoni</a>, <a href="http://profiles.wordpress.org/hakre">hakre</a>, <a href="http://profiles.wordpress.org/helen">Helen Hou-Sandi</a>, <a href="http://profiles.wordpress.org/iandunn">Ian Dunn</a>, <a href="http://profiles.wordpress.org/ipstenu">Ipstenu (Mika Epstein)</a>, <a href="http://profiles.wordpress.org/creativeinfusion">itinerant</a>, <a href="http://profiles.wordpress.org/jdgrimes">J.D. Grimes</a>, <a href="http://profiles.wordpress.org/jakubtyrcha">jakub.tyrcha</a>, <a href="http://profiles.wordpress.org/jamescollins">James Collins</a>, <a href="http://profiles.wordpress.org/jenmylo">Jen Mylo</a>, <a href="http://profiles.wordpress.org/buffler">Jeremy Buller</a>, <a href="http://profiles.wordpress.org/jeremyfelt">Jeremy Felt</a>, <a href="http://profiles.wordpress.org/jayjdk">Jesper Johansen (jayjdk)</a>, <a href="http://profiles.wordpress.org/joehoyle">Joe Hoyle</a>, <a href="http://profiles.wordpress.org/jkudish">Joey Kudish</a>, <a href="http://profiles.wordpress.org/johnnyb">John Beales</a>, <a href="http://profiles.wordpress.org/johnbillion">John Blackbourn (johnbillion)</a>, <a href="http://profiles.wordpress.org/johnafish">John Fish</a>, <a href="http://profiles.wordpress.org/johnjamesjacoby">John James Jacoby</a>, <a href="http://profiles.wordpress.org/johnpbloch">John P. Bloch</a>, <a href="http://profiles.wordpress.org/jond3r">Jonas Bolinder (jond3r)</a>, <a href="http://profiles.wordpress.org/jchristopher">Jonathan Christopher</a>, <a href="http://profiles.wordpress.org/desrosj">Jonathan Desrosiers</a>, <a href="http://profiles.wordpress.org/duck_">Jon Cave</a>, <a href="http://profiles.wordpress.org/jonlynch">Jon Lynch</a>, <a href="http://profiles.wordpress.org/joostdevalk">Joost de Valk</a>, <a href="http://profiles.wordpress.org/josephscott">Joseph Scott</a>, <a href="http://profiles.wordpress.org/betzster">Josh Betz</a>, <a href="http://profiles.wordpress.org/devesine">Justin de Vesine</a>, <a href="http://profiles.wordpress.org/justinsainton">Justin Sainton</a>, <a href="http://profiles.wordpress.org/kadamwhite">K.Adam White</a>, <a href="http://profiles.wordpress.org/trepmal">Kailey (trepmal)</a>, <a href="http://profiles.wordpress.org/ketwaroo">Ketwaroo</a>, <a href="http://profiles.wordpress.org/kevinb">kevinB</a>, <a href="http://profiles.wordpress.org/kpdesign">Kim Parsell</a>, <a href="http://profiles.wordpress.org/kitchin">kitchin</a>, <a href="http://profiles.wordpress.org/kovshenin">Konstantin Kovshenin</a>, <a href="http://profiles.wordpress.org/obenland">Konstantin Obenland</a>, <a href="http://profiles.wordpress.org/koopersmith">koopersmith</a>, <a href="http://profiles.wordpress.org/kurtpayne">Kurt Payne</a>, <a href="http://profiles.wordpress.org/lancewillett">Lance Willett</a>, <a href="http://profiles.wordpress.org/leewillis77">Lee Willis (leewillis77)</a>, <a href="http://profiles.wordpress.org/lessbloat">lessbloat</a>, <a href="http://profiles.wordpress.org/layotte">Lew Ayotte</a>, <a href="http://profiles.wordpress.org/lgedeon">Luke Gedeon</a>, <a href="http://profiles.wordpress.org/iworks">Marcin Pietrzak</a>, <a href="http://profiles.wordpress.org/cimmo">Marco Cimmino</a>, <a href="http://profiles.wordpress.org/marco_teethgrinder">Marco Galasso</a>, <a href="http://profiles.wordpress.org/markjaquith">Mark Jaquith</a>, <a href="http://profiles.wordpress.org/markmcwilliams">Mark McWilliams</a>, <a href="http://profiles.wordpress.org/markoheijnen">Marko Heijnen</a>, <a href="http://profiles.wordpress.org/melchoyce">Mel Choyce</a>, <a href="http://profiles.wordpress.org/tw2113">Michael Beckwith</a>, <a href="http://profiles.wordpress.org/mikehansenme">Mike Hansen</a>, <a href="http://profiles.wordpress.org/mikeschinkel">Mike Schinkel</a>, <a href="http://profiles.wordpress.org/dh-shredder">Mike Schroder</a>, <a href="http://profiles.wordpress.org/dimadin">Milan Dinic</a>, <a href="http://profiles.wordpress.org/mitchoyoshitaka">mitcho (Michael Yoshitaka Erlewine)</a>, <a href="http://profiles.wordpress.org/usermrpapa">Mr Papa</a>, <a href="http://profiles.wordpress.org/Nao">Naoko Takano</a>, <a href="http://profiles.wordpress.org/naomicbush">Naomi</a>, <a href="http://profiles.wordpress.org/alex-ye">Nashwan Doaqan</a>, <a href="http://profiles.wordpress.org/natejacobs">NateJacobs</a>, <a href="http://profiles.wordpress.org/nathanrice">nathanrice</a>, <a href="http://profiles.wordpress.org/niallkennedy">Niall Kennedy</a>, <a href="http://profiles.wordpress.org/nickdaugherty">Nick Daugherty</a>, <a href="http://profiles.wordpress.org/celloexpressions">Nick Halsey</a>, <a href="http://profiles.wordpress.org/nickmomrik">Nick Momrik</a>, <a href="http://profiles.wordpress.org/nikv">Nikhil Vimal (NikV)</a>, <a href="http://profiles.wordpress.org/nbachiyski">Nikolay Bachiyski</a>, <a href="http://profiles.wordpress.org/noahsilverstein">noahsilverstein</a>, <a href="http://profiles.wordpress.org/nofearinc">nofearinc</a>, <a href="http://profiles.wordpress.org/nukaga">nukaga</a>, <a href="http://profiles.wordpress.org/nullvariable">nullvariable</a>, <a href="http://profiles.wordpress.org/butuzov">Oleg Butuzov</a>, <a href="http://profiles.wordpress.org/paolal">Paolo Belcastro</a>, <a href="http://profiles.wordpress.org/xparham">Parham</a>, <a href="http://profiles.wordpress.org/pbiron">Paul Biron</a>, <a href="http://profiles.wordpress.org/pauldewouters">Paul de Wouters</a>, <a href="http://profiles.wordpress.org/pavelevap">pavelevap</a>, <a href="http://profiles.wordpress.org/peterjaap">peterjaap</a>, <a href="http://profiles.wordpress.org/westi">Peter Westwood</a>, <a href="http://profiles.wordpress.org/philiparthurmoore">Philip Arthur Moore</a>, <a href="http://profiles.wordpress.org/mordauk">Pippin Williamson</a>, <a href="http://profiles.wordpress.org/plocha">plocha</a>, <a href="http://profiles.wordpress.org/pollett">Pollett</a>, <a href="http://profiles.wordpress.org/ptahdunbar">Ptah Dunbar</a>, <a href="http://profiles.wordpress.org/ramiy">Rami Yushuvaev</a>, <a href="http://profiles.wordpress.org/rasheed">Rasheed Bydousi</a>, <a href="http://profiles.wordpress.org/raybernard">RayBernard</a>, <a href="http://profiles.wordpress.org/rboren">rboren</a>, <a href="http://profiles.wordpress.org/greuben">Reuben Gunday</a>, <a href="http://profiles.wordpress.org/rfair404">rfair404</a>, <a href="http://profiles.wordpress.org/iamfriendly">Richard Tape</a>, <a href="http://profiles.wordpress.org/r3df">Rick Radko</a>, <a href="http://profiles.wordpress.org/miqrogroove">Robert Chapin</a>, <a href="http://profiles.wordpress.org/rdall">Robert Dall</a>, <a href="http://profiles.wordpress.org/rodrigosprimo">Rodrigo Primo</a>, <a href="http://profiles.wordpress.org/wpmuguru">Ron Rennick</a>, <a href="http://profiles.wordpress.org/rpattillo">rpattillo</a>, <a href="http://profiles.wordpress.org/ryan">Ryan Boren</a>, <a href="http://profiles.wordpress.org/rmccue">Ryan McCue</a>, <a href="http://profiles.wordpress.org/hotchkissconsulting">Sam Hotchkiss</a>, <a href="http://profiles.wordpress.org/coffee2code">Scott Reilly</a>, <a href="http://profiles.wordpress.org/scottsweb">scottsweb</a>, <a href="http://profiles.wordpress.org/wonderboymusic">Scott Taylor</a>, <a href="http://profiles.wordpress.org/scribu">scribu</a>, <a href="http://profiles.wordpress.org/scruffian">scruffian</a>, <a href="http://profiles.wordpress.org/tenpura">Seisuke Kuraishi (tenpura)</a>, <a href="http://profiles.wordpress.org/sergeybiryukov">Sergey Biryukov</a>, <a href="http://profiles.wordpress.org/shinichin">ShinichiN</a>, <a href="http://profiles.wordpress.org/pross">Simon Prosser</a>, <a href="http://profiles.wordpress.org/simonwheatley">Simon Wheatley</a>, <a href="http://profiles.wordpress.org/siobhan">Siobhan</a>, <a href="http://profiles.wordpress.org/siobhyb">Siobhan Bamber (siobhyb)</a>, <a href="http://profiles.wordpress.org/sirzooro">sirzooro</a>, <a href="http://profiles.wordpress.org/solarissmoke">solarissmoke</a>, <a href="http://profiles.wordpress.org/sillybean">Stephanie Leary</a>, <a href="http://profiles.wordpress.org/netweb">Stephen Edgar (@netweb)</a>, <a href="http://profiles.wordpress.org/stephenharris">Stephen Harris</a>, <a href="http://profiles.wordpress.org/strangerstudios">strangerstudios</a>, <a href="http://profiles.wordpress.org/sweetie089">sweetie089</a>, <a href="http://profiles.wordpress.org/swissspidy">swissspidy</a>, <a href="http://profiles.wordpress.org/miyauchi">Takayuki Miyauchi</a>, <a href="http://profiles.wordpress.org/tmtoy">Takuma Morikawa</a>, <a href="http://profiles.wordpress.org/tlovett1">Taylor Lovett</a>, <a href="http://profiles.wordpress.org/tivnet">tivnet</a>, <a href="http://profiles.wordpress.org/tobiasbg">TobiasBg</a>, <a href="http://profiles.wordpress.org/tomauger">Tom Auger</a>, <a href="http://profiles.wordpress.org/toscho">toscho</a>, <a href="http://profiles.wordpress.org/wpsmith">Travis Smith</a>, <a href="http://profiles.wordpress.org/sorich87">Ulrich Sossou</a>, <a href="http://profiles.wordpress.org/vericgar">vericgar</a>, <a href="http://profiles.wordpress.org/vinod-dalvi">Vinod Dalvi</a>, <a href="http://profiles.wordpress.org/westonruter">Weston Ruter</a>, <a href="http://profiles.wordpress.org/wikicms">wikicms</a>, <a href="http://profiles.wordpress.org/willnorris">Will Norris</a>, <a href="http://profiles.wordpress.org/wojtekszkutnik">Wojtek Szkutnik</a>, <a href="http://profiles.wordpress.org/wycks">wycks</a>, <a href="http://profiles.wordpress.org/yoavf">Yoav Farhi</a>, and <a href="http://profiles.wordpress.org/yurivictor">Yuri Victor</a>.</p>\n<p>Enjoy what may be one of your last few manual updates. See you soon for version 3.8!</p>\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:45:"http://wordpress.org/news/2013/10/basie/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}}}s:27:"http://www.w3.org/2005/Atom";a:1:{s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:0:"";s:7:"attribs";a:1:{s:0:"";a:3:{s:4:"href";s:31:"http://wordpress.org/news/feed/";s:3:"rel";s:4:"self";s:4:"type";s:19:"application/rss+xml";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:44:"http://purl.org/rss/1.0/modules/syndication/";a:2:{s:12:"updatePeriod";a:1:{i:0;a:5:{s:4:"data";s:6:"hourly";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:15:"updateFrequency";a:1:{i:0;a:5:{s:4:"data";s:1:"1";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}}}}}}}}s:4:"type";i:128;s:7:"headers";a:8:{s:6:"server";s:5:"nginx";s:4:"date";s:29:"Thu, 03 Apr 2014 01:58:14 GMT";s:12:"content-type";s:23:"text/xml; charset=UTF-8";s:10:"connection";s:5:"close";s:4:"vary";s:15:"Accept-Encoding";s:10:"x-pingback";s:36:"http://wordpress.org/news/xmlrpc.php";s:13:"last-modified";s:29:"Sun, 30 Mar 2014 00:43:36 GMT";s:4:"x-nc";s:11:"HIT lax 250";}s:5:"build";s:14:"20130910210210";}', 'no');
INSERT INTO `wp_options` (`option_id`, `option_name`, `option_value`, `autoload`) VALUES
(699, '_transient_timeout_feed_mod_ac0b00fe65abe10e0c5b588f3ed8c7ca', '1396533491', 'no'),
(700, '_transient_feed_mod_ac0b00fe65abe10e0c5b588f3ed8c7ca', '1396490291', 'no'),
(701, '_transient_timeout_feed_867bd5c64f85878d03a060509cd2f92c', '1396533492', 'no');
INSERT INTO `wp_options` (`option_id`, `option_name`, `option_value`, `autoload`) VALUES
(702, '_transient_feed_867bd5c64f85878d03a060509cd2f92c', 'a:4:{s:5:"child";a:1:{s:0:"";a:1:{s:3:"rss";a:1:{i:0;a:6:{s:4:"data";s:3:"\n\n\n";s:7:"attribs";a:1:{s:0:"";a:1:{s:7:"version";s:3:"2.0";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:1:{s:0:"";a:1:{s:7:"channel";a:1:{i:0;a:6:{s:4:"data";s:61:"\n	\n	\n	\n	\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:1:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:16:"WordPress Planet";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:28:"http://planet.wordpress.org/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"language";a:1:{i:0;a:5:{s:4:"data";s:2:"en";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:47:"WordPress Planet - http://planet.wordpress.org/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"item";a:50:{i:0;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:89:"WPTavern: Introduction To Underscores: A WordPress Starter Theme With Konstantin Obenland";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=20252";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:220:"http://wptavern.com/introduction-to-underscores-a-wordpress-starter-theme-with-konstantin-obenland?utm_source=rss&utm_medium=rss&utm_campaign=introduction-to-underscores-a-wordpress-starter-theme-with-konstantin-obenland";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:10689:"<p>Without much in the way of advertising, Underscores has become a popular choice for WordPress theme developers. To learn more about it, I asked Automattic employee, <a title="http://konstantin.obenland.it" href="http://konstantin.obenland.it/">Konstantin Obenland</a>, <a href="https://twitter.com/obenland" title="https://twitter.com/obenland">@obenland</a> on Twitter, to explain what the theme is, how it got its name, and how people can contribute to the project.</p>\n<div id="attachment_19360" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/03/UnderscoresHeader.png" rel="prettyphoto[20252]"><img class="size-full wp-image-19360" alt="A Starter Theme Created by Automattic" src="http://wptavern.com/wp-content/uploads/2014/03/UnderscoresHeader.png" width="650" height="200" /></a><p class="wp-caption-text">A Starter Theme Created by Automattic</p></div>\n<p><strong>Why was Underscores created and how did it get its name?</strong></p>\n<p>Ian Stewart tells the tale in detail in the <a title="http://themeshaper.com/2012/02/13/introducing-the-underscores-theme/" href="http://themeshaper.com/2012/02/13/introducing-the-underscores-theme/">announcement post</a> for Underscores, but the gist of it is that <a title="http://theme.wordpress.com/retired/toolbox/" href="http://theme.wordpress.com/retired/toolbox/">Toolbox</a>, the theme we used as a starter theme at the time, could not be updated without backwards compatibility concerns, and needed more drastic improvements. Since the fork <em>underscores</em> the new themes we build, we called it the <a title="http://underscores.me/" href="http://underscores.me/">Underscores Theme</a>, or <strong>_s</strong> for short.</p>\n<p><strong>Without a lot of advertising, Underscores seems to be a starting point for many developers. Why do you think that is?</strong></p>\n<p>That is true, we haven’t done a lot of marketing for it yet. I think what developers really like is its simplicity and adherence to <a title="http://codex.wordpress.org/Theme_Review" href="http://codex.wordpress.org/Theme_Review">WordPress standards</a>.</p>\n<p>Underscores comes from the combined experience of building themes for millions of users on <a href="http://WordPress.com">WordPress.com</a>, and creating default themes that ship with WordPress and have to work in all environments. This is paired with excellence in theming best practices and just enough functionality, markup, and styles to get started.</p>\n<div id="attachment_20299" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/04/UnderscoresWhenActivated.png" rel="prettyphoto[20252]"><img class="size-large wp-image-20299" alt="This Is Underscores Looks Like Activated Without Modifications" src="http://wptavern.com/wp-content/uploads/2014/04/UnderscoresWhenActivated-500x312.png" width="500" height="312" /></a><p class="wp-caption-text">This Is What Underscores Looks Like Activated Without Modifications</p></div>\n<p>When you download Underscores, there is very little to tear down or take away.  You can almost immediately dive into building your theme. We put a lot of thought into keeping it as lean as possible and still do when making decisions on new features and enhancements.</p>\n<p><strong>Would you consider Underscores a starter theme, theme framework, or something else?</strong></p>\n<p>Underscores is a starter theme. It is meant to be worked with, tweaked, and styled. It is not a framework or a parent theme to be extended. It is supposed to <strong>become</strong> a theme of its own, when finished.</p>\n<p><strong>What is the ratio of Automattic developers contributing patches to Underscores versus contributions from the wider community?</strong></p>\n<div id="attachment_20298" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/04/UnderscoresContributions.png" rel="prettyphoto[20252]"><img class="size-large wp-image-20298" alt="A Sampling Of Contributors To Underscores" src="http://wptavern.com/wp-content/uploads/2014/04/UnderscoresContributions-500x170.png" width="500" height="170" /></a><p class="wp-caption-text">A Sampling Of Contributors To Underscores</p></div>\n<p>There have been <strong>64</strong> contributors on <a title="https://github.com/automattic/_s" href="https://github.com/automattic/_s">GitHub</a> so far although GitHub only counts contributors who contributed through a <a title="https://help.github.com/articles/using-pull-requests" href="https://help.github.com/articles/using-pull-requests">Pull Request</a>. Out of those <strong>64</strong>, less than <strong>20</strong> are current or former Automatticians. I don’t have stats on the amount of Issues or Pull Requests opened, but the <strong>2:1 ratio</strong> feels true for that too, maybe even <strong>3:1</strong>.</p>\n<p><strong>What projects does Automattic use Underscores for?</strong></p>\n<div id="attachment_20307" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/04/O2SiteHeader.png" rel="prettyphoto[20252]"><img class="size-large wp-image-20307" alt="O2 Is The Successor To The P2 Theme" src="http://wptavern.com/wp-content/uploads/2014/04/O2SiteHeader-500x110.png" width="500" height="110" /></a><p class="wp-caption-text">O2 Is The Successor To The P2 Theme</p></div>\n<p>We use it for pretty much all projects where it makes sense to use a theme. Be it a new theme for the WordPress.com Theme Repository, a vertical like <a title="http://wordpress.com/portfolios/" href="http://wordpress.com/portfolios/">Portfolios</a>, or a landing page for users of a certain mobile device. We even use it internally for the <a title="http://geto2.com/" href="http://geto2.com/">O2 theme</a>, the successor of P2.</p>\n<p><strong>Are themes more likely to be approved in a WordPress.com theme review if Underscores is used to build the theme?<br />\n</strong></p>\n<p>Possibly. But not for the sake of using Underscores. Rather because the code quality of those themes is more likely to meet <a title="http://developer.wordpress.com/themes/" href="http://developer.wordpress.com/themes/">our expectations</a>. Themes can be based on any kind of framework or starter theme as long as the code quality is right. We certainly don’t disqualify themes for not using it.</p>\n<p><strong>What examples do you have of beautiful sites designed with Underscores?</strong></p>\n<div id="attachment_20309" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/04/HaveBabyNeedStuffOnUnderscores.png" rel="prettyphoto[20252]"><img class="size-large wp-image-20309" alt="Have Baby. Need Stuff! Built Using Underscores" src="http://wptavern.com/wp-content/uploads/2014/04/HaveBabyNeedStuffOnUnderscores-500x222.png" width="500" height="222" /></a><p class="wp-caption-text">Have Baby. Need Stuff! Built Using Underscores</p></div>\n<p>There are plenty! Let’s start with <a title="http://twentyfourteendemo.wordpress.com/" href="http://twentyfourteendemo.wordpress.com/">Twenty Fourteen</a>, the latest default theme. It was converted from <a title="http://furtherdemo.wordpress.com/" href="http://furtherdemo.wordpress.com/">Further</a>, a premium theme based on _s. Every <a title="http://theme.wordpress.com/themes/sort/free/" href="http://theme.wordpress.com/themes/sort/free/">free theme </a>and <a title="http://theme.wordpress.com/themes/by/automattic/" href="http://theme.wordpress.com/themes/by/automattic/">every premium theme by Automattic</a> launched on WordPress.com in the last two years, are based on _s too. The official homepage of the <a title="http://www.mavs.com/" href="http://www.mavs.com/">Dallas Mavericks</a>, Mark Jaquith&#8217;s <a title="http://havebabyneedstuff.com/" href="http://havebabyneedstuff.com/">Have Baby. Need Stuff!</a>, this <a title="http://deals.ebay.com/blog/" href="http://deals.ebay.com/blog/">ebay landing page</a>, and the <a title="http://prospective.westernu.edu/" href="http://prospective.westernu.edu/">Western University site</a> are all made from _s. Not a lot of commonalities between them, even though they have the same foundation.</p>\n<p><strong>If you had to convince a developer to use Underscores, what would you tell them?</strong></p>\n<p>Take advantage of the <a title="http://themeshaper.com/2012/02/13/introducing-the-underscores-theme/" href="http://themeshaper.com/2012/02/13/introducing-the-underscores-theme/">1000 hour head start</a> tutorial to building your theme. Underscores is a proven, reliable foundation to start from, built with the knowledge and experience from running themes on millions of sites, and creating default themes for WordPress Core. If you feel _s is too bare bones for you or find yourself adding the same libraries every time you start a new project, fork _s on GitHub, add the desired libraries and use your fork as the starting point!</p>\n<p><strong>How can people get involved to help improve the theme?</strong></p>\n<p>We maintain _s on GitHub to make it as easy as possible for people to contribute. Involvement can range from sharing opinions about existing proposals, to creating a new issue with improvement suggestions, to opening pull requests with code changes.</p>\n<p><strong>What one thing do you want people to know about Underscores?</strong></p>\n<p>You really don’t need to know any PHP or be a <em>programmer</em> to be able to use Underscores. As long as you’re somewhat comfortable with CSS and some HTML, Underscores can help you build the next great WordPress theme!</p>\n<h3>Stats Related To Underscores</h3>\n<p>It&#8217;s worth noting that the following statistics are for a theme aimed at developers with little to no marketing efforts behind it.</p>\n<ul>\n<li>185,000 recorded downloads from Underscores.me since September 5, 2012 although it&#8217;s likely 250,000 to 300,000 in total.</li>\n<li>A total of 15,500 downloads for all of March</li>\n<li>Downloaded every 3.3 minutes. This excludes zip downloads from GitHub, forks, and theme updates.</li>\n<li>It’s the <a title="https://github.com/search?l=php&p=2&q=stars:%3E1&s=stars&type=Repositories" href="https://github.com/search?l=php&p=2&q=stars:%3E1&s=stars&type=Repositories">17th most starred</a> PHP project on GitHub:</li>\n<li>It is 19th in the list of <a title="https://github.com/trending?l=php&since=monthly#pa-_s" href="https://github.com/trending?l=php&since=monthly#pa-_s">trending PHP repositories on GitHub this month</a>.</li>\n</ul>\n<p><strong>If you&#8217;ve used <a href="http://underscores.me/" title="http://underscores.me/">Underscores</a> for a project or client website, send us a link in the comments.</strong></p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 02 Apr 2014 20:22:34 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Jeff Chandler";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:1;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:78:"WPTavern: Status Update On The WordPress Front-end Editor and How You Can Help";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=20165";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:200:"http://wptavern.com/status-update-on-the-wordpress-front-end-editor-and-how-you-can-help?utm_source=rss&utm_medium=rss&utm_campaign=status-update-on-the-wordpress-front-end-editor-and-how-you-can-help";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:6397:"<p>We&#8217;ve written about a number of alternate editors to WordPress for both editing and writing content. <a title="http://wptavern.com/sir-trevor-wp-an-alternative-post-editor-for-wordpress" href="http://wptavern.com/sir-trevor-wp-an-alternative-post-editor-for-wordpress">Sir Trevor WP</a>, <a title="http://wptavern.com/prettypress-plugin-reinvents-wordpress-post-editing-with-live-preview" href="http://wptavern.com/prettypress-plugin-reinvents-wordpress-post-editing-with-live-preview">PrettyPress</a>, <a title="http://wptavern.com/splitdown-a-free-ghost-style-markdown-editor-for-wordpress" href="http://wptavern.com/splitdown-a-free-ghost-style-markdown-editor-for-wordpress">Splitdown</a>, and <a title="http://wptavern.com/barley-for-wordpress-a-revolutionary-inline-content-editor" href="http://wptavern.com/barley-for-wordpress-a-revolutionary-inline-content-editor">Barley</a> to name a few. However, WordPress may soon have its own frontend editor built into core. <a title="http://wordpress.org/plugins/wp-front-end-editor/" href="http://wordpress.org/plugins/wp-front-end-editor/">WordPress Front-end Editor</a> was proposed by Janneke Van Dorpe <a title="https://make.wordpress.org/ui/2013/09/14/front-end-editor/" href="https://make.wordpress.org/ui/2013/09/14/front-end-editor/">in late 2013</a>, with the goal of merging the backend and frontend editors into one. After six months of development, I tested the plugin using a local server running WordPress 3.9 beta 3.</p>\n<h3>Rough Around The Edges</h3>\n<p>After installing WordPress Front-end Editor, it was hard to determine how to use it since the plugin doesn&#8217;t contain directions within the readme file. By trial and error, I was able to figure it out. When clicking the <strong>Edit Post</strong> link on the front end of the site, the admin bar displays a number of editing buttons such as bold, italicize, etc. In my tests, it wasn&#8217;t immediately clear what text or content became editable.</p>\n<div id="attachment_20240" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/04/WPFrontEndEditor1.png" rel="prettyphoto[20165]"><img class="size-large wp-image-20240" alt="WordPress Front End Editor In Action" src="http://wptavern.com/wp-content/uploads/2014/04/WPFrontEndEditor1-500x302.png" width="500" height="302" /></a><p class="wp-caption-text">Editor In Action</p></div>\n<p>Just about everything you can do in the visual editor can be accomplished with the inline editor. For example, you can use keyboard shortcuts to bold or italicize highlighted text. While you can change tags, categories, or access other options, there is a <a title="https://github.com/avryl/wp-front-end-editor/issues/65" href="https://github.com/avryl/wp-front-end-editor/issues/65">bug preventing them from displaying correctly.</a> When previewing unpublished posts, both the active tab and the preview tab will load the front end of the site. This is a bug and has <a title="https://github.com/avryl/wp-front-end-editor/issues/64" href="https://github.com/avryl/wp-front-end-editor/issues/64">already been reported</a>.</p>\n<p>One question I had concerning the editor is when would it be appropriate to use? It&#8217;s a great way to quickly edit typos or fix URLs without having to navigate to the backend of WordPress but that&#8217;s for content already published. I&#8217;m so used to creating content from the backend, it&#8217;s tough to imagine doing it any other way.</p>\n<h3>When A Content Editor Crosses The Line</h3>\n<p>I&#8217;m pleased to report that the editor is strictly tied to editing content. You can&#8217;t move widgets around, change the text within them, or change the site&#8217;s colors. Those tasks have been left to the theme customizer. I&#8217;m happy the team has made this decision since I believe enabling users to manipulate their theme with a content editor is crossing the line.</p>\n<h3>How You Can Help The Project</h3>\n<p>When I asked Dorpe what she needed help with the most, she responded, &#8220;We really need some people to help out with the development, because right now, I&#8217;m the <strong>only one working on it</strong>. We also really need a lot of people to <strong>test it and give feedback.</strong>&#8221; If during testing you run into a bug, please <a title="https://github.com/avryl/wp-front-end-editor" href="https://github.com/avryl/wp-front-end-editor">create a new issue</a> on the plugin&#8217;s Github page.</p>\n<div id="attachment_20245" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/04/WPFrontEndEditor2.png" rel="prettyphoto[20165]"><img class="size-large wp-image-20245" alt="WordPress Front-end Editor" src="http://wptavern.com/wp-content/uploads/2014/04/WPFrontEndEditor2-500x322.png" width="500" height="322" /></a><p class="wp-caption-text">WordPress Front-end Editor</p></div>\n<p>The team meets every <a href="http://www.timeanddate.com/worldclock/fixedtime.html?iso=20140401T1700"><abbr title="2014-04-01T17:00:00+00:00">Tuesday, at 13:00 UTC-4</abbr></a> in the #wordpress-ui IRC channel. You can keep tabs on the project by subscribing to the <a title="http://make.wordpress.org/ui/tag/front-end-editor/" href="http://make.wordpress.org/ui/tag/front-end-editor/">front-end-editor tag</a> used on the Make WordPress UI blog.</p>\n<h3>The WordPress Backend May Become A Thing Of The Past</h3>\n<p>If the <a title="http://wordpress.org/plugins/wp-front-end-editor/" href="http://wordpress.org/plugins/wp-front-end-editor/">WordPress Front-end Editor</a> succeeds in its mission of bridging the gap between the backend and frontend of WordPress, it will revamp the way users create content in WordPress. The backend will become a thing of the past for some authors as they create and edit all of their content using the inline editor. Having the editor built into core would also give WordPress a feature other modern publishing platforms like <a title="https://ghost.org/features/" href="https://ghost.org/features/">Ghost</a>, already have.</p>\n<p>There is no guarantee that the plugin will ever be merged into core but it&#8217;s an excellent example of one way to implement the feature into WordPress. Do you think having a frontend editor in WordPress would make content creation and editing easier? Can you see yourself using it as the primary method of creating content?</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 02 Apr 2014 20:00:16 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Jeff Chandler";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:2;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:51:"WPTavern: 10 Free Ultra Minimalist WordPress Themes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=20257";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:146:"http://wptavern.com/10-free-ultra-minimalist-wordpress-themes?utm_source=rss&utm_medium=rss&utm_campaign=10-free-ultra-minimalist-wordpress-themes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:8802:"<p>If you love to blog but don&#8217;t want a theme with clunky sliders and overloaded widget areas cluttering up your site, then chances are you&#8217;re on the hunt for the perfect minimalist WordPress theme. Finding a theme that provides a beautiful reading experience with an unobtrusive, high quality design is no simple task. You&#8217;ll end up wading through hundreds of themes.</p>\n<p>That&#8217;s why I&#8217;ve collected a few of the best minimalist WordPress themes from around the web. All of the themes featured here make liberal use of white space and display very little, if any, post meta.</p>\n<p>Remember that any of these themes can be even further stripped down to better reflect your spartan sensibilities. Create a <a href="https://codex.wordpress.org/Child_Themes" target="_blank">child theme</a> to preserve your ability to get updates, and then proceed to cut out post meta or anything that you feel is distracting to the reader.</p>\n<h2>Tonal</h2>\n<p><a href="http://wordpress.org/themes/tonal"><img src="http://wptavern.com/wp-content/uploads/2014/04/tonal.png" alt="tonal" width="600" height="450" class="aligncenter size-full wp-image-20261" /></a></p>\n<p><a href="http://wordpress.org/themes/tonal" target="_blank">Tonal</a> is a content-focused theme from Automattic that sports a minimal design with large featured images. The theme supports post formats and can display images and videos at full width. The menu and widgets are hidden from sight in a pull-down panel.</p>\n<p>One particularly unique aspect of Tonal is its background adaptation feature. Select any solid background color and the theme will automatically modify your typography and other elements to preserve readability with the new background color.</p>\n<p><strong><a href="http://tonaldemo.wordpress.com/" target="_blank">Demo</a> | <a href="http://wordpress.org/themes/tonal" target="_blank">Download</a></strong></p>\n<h2>Casper</h2>\n<p><a href="http://lacymorrow.com/projects/casper/"><img src="http://wptavern.com/wp-content/uploads/2014/04/casper.jpg" alt="casper" width="1073" height="815" class="aligncenter size-full wp-image-20268" /></a></p>\n<p><a href="http://lacymorrow.com/projects/casper/" target="_blank">Casper</a> is a free Ghost-style theme based on Underscores. It is essentially a port of Ghost&#8217;s default theme with WordPress-specific features added into the customizer for uploading your own logo, customizing the background and header images, text and social links.</p>\n<p><strong><a href="http://lacymorrow.com/projects/casper/" target="_blank">Demo</a> | <a href="http://lacymorrow.com/projects/casper/" target="_blank">Download</a></strong></p>\n<h2>Lingonberry</h2>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/lingonberry.png" rel="prettyphoto[20257]"><img src="http://wptavern.com/wp-content/uploads/2014/04/lingonberry.png" alt="lingonberry" width="880" height="660" class="aligncenter size-full wp-image-20279" /></a></p>\n<p>Lingonberry is a beautifully-designed minimalist theme by Anders Noren. Check out our recent interview with him on <a href="http://wptavern.com/anders-noren-on-achieving-simplicity-in-wordpress-theme-design" target="_blank">achieving simplicity in WordPress theme design</a>. The Lingonberry theme offers support for post formats. The hidden top menu pulls down navigation and a search bar.</p>\n<p><strong><a href="http://andersnoren.se/themes/lingonberry/" target="_blank">Demo</a> | <a href="http://wordpress.org/themes/lingonberry" target="_blank">Download</a></strong></p>\n<h2>TinyPress</h2>\n<p><a href="http://caslay.com/tiny/"><img src="http://wptavern.com/wp-content/uploads/2014/04/tinypress.jpg" alt="tinypress" width="1212" height="794" class="aligncenter size-full wp-image-20272" /></a></p>\n<p><a href="http://caslay.com/tiny/" target="_blank">TinyPress</a> is a mobile-friendly WordPress theme with bold headlines and a focus on readability. It includes matching social sharing buttons, styles for galleries and quotes, and a hidden menu that pops open a full page widget area when clicked.</p>\n<p><strong><a href="http://caslay.com/tiny_theme/" target="_blank">Demo</a> | <a href="http://caslay.com/tiny/" target="_blank">Download</a></strong></p>\n<h2>Gravit</h2>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/gravit.png" rel="prettyphoto[20257]"><img src="http://wptavern.com/wp-content/uploads/2014/04/gravit.png" alt="gravit" width="880" height="660" class="aligncenter size-full wp-image-20276" /></a></p>\n<p>Gravit is a bright, clean WordPress theme with support for post formats and large featured images. The theme has many options built into the customizer, including color controls for the post format icons, site title, text and background. Gravit also includes a unique &#8220;About Me&#8221; page design and template.</p>\n<p><strong><a href="http://gravit.tryand.net/" target="_blank">Demo</a> | <a href="http://wordpress.org/themes/gravit" target="_blank">Download</a></strong></p>\n<h2>Readly</h2>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/readly.jpg" rel="prettyphoto[20257]"><img src="http://wptavern.com/wp-content/uploads/2014/04/readly.jpg" alt="readly" width="1067" height="599" class="aligncenter size-full wp-image-20282" /></a></p>\n<p>Readly is a free theme from <a href="http://wpshower.com/" target="_blank">WP Shower</a> that utilizes large fonts and supports post formats. It was designed for readability on all devices. The theme has several options built into the customizer, including the ability to change the theme color and add social links. You can also easily select between three pagination options: regular, load more, and infinite scroll.</p>\n<p><strong><a href="http://wpshower.com/demo/?preview_theme=readly" target="_blank">Demo</a> | <a href="http://wpshower.com/themes/readly/" target="_blank">Download</a></strong></p>\n<h2>Aquarius</h2>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/aquarius.png" rel="prettyphoto[20257]"><img src="http://wptavern.com/wp-content/uploads/2014/04/aquarius.png" alt="aquarius" width="880" height="660" class="aligncenter size-full wp-image-20285" /></a></p>\n<p>Aquarius is a retina-ready responsive theme that supports all standard post formats. Sidebar widgets are hidden from view with a slideout panel. Navigation is fixed and available at the top of the page as you scroll.</p>\n<p><strong><a href="http://wplovin.com/themes/aquarius/" target="_blank">Demo</a> | <a href="http://wordpress.org/themes/aquarius" target="_blank">Download</a></strong></p>\n<h2>Padhang</h2>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/padhang.png" rel="prettyphoto[20257]"><img src="http://wptavern.com/wp-content/uploads/2014/04/padhang.png" alt="padhang" width="880" height="660" class="aligncenter size-full wp-image-20295" /></a></p>\n<p>Padhang is a Javanesse word that means &#8220;bright.&#8221; This theme features a large header image and a single centered column for content. The custom header, background and colors can be changed via the theme customizer.</p>\n<p><strong><a href="http://blog.hirizh.name/padhang/" target="_blank">Demo</a> | <a href="http://wordpress.org/themes/padhang" target="_blank">Download</a></strong></p>\n<h2>wp-svbtle</h2>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/wp-svbtle.png" rel="prettyphoto[20257]"><img src="http://wptavern.com/wp-content/uploads/2014/04/wp-svbtle.png" alt="wp-svbtle" width="1120" height="792" class="aligncenter size-full wp-image-20288" /></a></p>\n<p>WP-Svbtle is a theme inspired by the <a href="https://svbtle.com/" target="_blank">svbtle.com</a> design. The theme options let you upload a custom image for the header logo or select from one of the included icons. The unique thing about WP-Svbtle is that the admin area and the theme are independent of each other. The theme includes a directory that provides a new writing dashboard with a zen style interface for composing new content.</p>\n<p><strong><a href="http://wp-svbtle.themeskult.com/" target="_blank">Demo</a> | <a href="https://github.com/themeskult/wp-svbtle" target="_blank">Download</a></strong></p>\n<h2>Hellish Simplicity</h2>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/hellish.png" rel="prettyphoto[20257]"><img src="http://wptavern.com/wp-content/uploads/2014/04/hellish.png" alt="hellish" width="880" height="660" class="aligncenter size-full wp-image-20297" /></a></p>\n<p>Hellish Simplicity is a theme created by Ryan Hellyer. It&#8217;s a clean, responsive theme that looks great on mobile devices. You can easily update the header text via the customizer.</p>\n<p><strong><a href="http://ryanhellyer.net/" target="_blank">Demo</a> | <a href="http://wordpress.org/themes/hellish-simplicity" target="_blank">Download</a></strong></p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 02 Apr 2014 19:26:32 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:3;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:73:"WordPress.tv: Chris Lema: Integrating Gravity Forms and Mail Chimp Groups";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34150";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:90:"http://wordpress.tv/2014/04/02/chris-lema-integrating-gravity-forms-and-mail-chimp-groups/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:695:"<div id="v-J5hLinEC-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34150/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34150/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34150&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/04/02/chris-lema-integrating-gravity-forms-and-mail-chimp-groups/"><img alt="Chris Lema: Integrating Gravity Forms and Mail Chimp Groups" src="http://videos.videopress.com/J5hLinEC/video-4619e57f55_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 02 Apr 2014 18:59:56 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:4;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:48:"WordPress.tv: Suzette Franck: Flickr Integration";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34152";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:65:"http://wordpress.tv/2014/04/02/suzette-franck-flickr-integration/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:645:"<div id="v-6tqULDNn-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34152/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34152/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34152&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/04/02/suzette-franck-flickr-integration/"><img alt="Suzette Franck: Flickr Integration" src="http://videos.videopress.com/6tqULDNn/video-2d889a45c0_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 02 Apr 2014 18:39:41 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:5;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:64:"WordPress.tv: Brandon Dove: Using Gulp For WordPress Development";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34130";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:81:"http://wordpress.tv/2014/04/02/brandon-dove-using-gulp-for-wordpress-development/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:677:"<div id="v-inX5vGtD-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34130/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34130/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34130&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/04/02/brandon-dove-using-gulp-for-wordpress-development/"><img alt="Brandon Dove: Using Gulp For WordPress Development" src="http://videos.videopress.com/inX5vGtD/video-07c44427a6_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 02 Apr 2014 18:29:35 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:6;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:33:"Matt: Automattic Around the World";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:21:"http://ma.tt/?p=43727";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:49:"http://ma.tt/2014/04/automattic-around-the-world/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:338:"<p>In April and May, there are Automattic team meetups and events happening in Budapest, Napa Valley, Pender Island, New Orleans, Barbados, Cardiff, Konstanz, Playa Del Carmen, Portland, Toronto, Saratoga Springs, Palermo, Edinburgh, and Lisbon. Did I mention that <a href="http://automattic.com/work-with-us/">we&#8217;re hiring</a>?</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 02 Apr 2014 17:44:24 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Matt Mullenweg";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:7;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:65:"WPTavern: Okay Themes Pulls Out of Themeforest, Rebrands as Array";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=20167";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:172:"http://wptavern.com/okay-themes-pulls-out-of-themeforest-rebrands-as-array?utm_source=rss&utm_medium=rss&utm_campaign=okay-themes-pulls-out-of-themeforest-rebrands-as-array";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2436:"<p><a href="http://wptavern.com/wp-content/uploads/2014/04/array.jpg" rel="prettyphoto[20167]"><img src="http://wptavern.com/wp-content/uploads/2014/04/array.jpg" alt="array" width="1300" height="658" class="aligncenter size-full wp-image-20211" /></a></p>\n<p>Okay Themes, founded by Mike McAlister, has <a href="https://array.is/news/introducing-array/" target="_blank">rebranded</a> and is now known as &#8220;<a href="https://array.is/" target="_blank">Array</a>.&#8221; Despite the fact that the shop produced high quality WordPress themes, the previous name seemed to imply a passable, lackluster product. Array is a stronger name for a top-notch theme shop that is successfully pioneering a return to simplicity in both design and function.</p>\n<p>The rebranding represents McAlister&#8217;s departure from Themeforest, where he&#8217;s been selling for the past five years. Moving forward, his themes will be available exclusively through Array and WordPress.com. <strong>&#8220;After fighting the good fight for five years, my body of work has officially outgrown the ThemeForest marketplace,&#8221;</strong> McAlister said. &#8220;Although it has been a great platform for starting my business, my own ethos and aspirations have evolved.&#8221;</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/array.png" rel="prettyphoto[20167]"><img src="http://wptavern.com/wp-content/uploads/2014/04/array.png" alt="array" width="92" height="137" class="alignright size-full wp-image-20230" /></a>Array and its new logo, composed of an impossible shape with a perspective trick, represent the ever-changing digital landscape to McAlister and his team. &#8220;I&#8217;ve been through the ups and downs of the WordPress ecosystem,&#8221; he said. &#8220;I&#8217;ve carved a niche in a bloated, saturated marketplace.&#8221; Known for his simple, minimalist WordPress themes, McAlister has been one of the forerunners in the revolution to bring simplicity back to WordPress themes in what he perceives to be a &#8220;bloated, settings-infested theme landscape.&#8221;</p>\n<p>His team&#8217;s commitment to simplicity is helping to reshape the WordPress theme market. Consumers are slowly gravitating toward more design-specific themes that aren&#8217;t loaded down with hundreds of options. McAlister&#8217;s story is one among many WordPress theme developers who are leaving Envato&#8217;s marketplace to make their own way.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 02 Apr 2014 00:03:47 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:8;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:59:"WPTavern: How to Use Open Source Brick Fonts With WordPress";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=20161";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:162:"http://wptavern.com/how-to-use-open-source-brick-fonts-with-wordpress?utm_source=rss&utm_medium=rss&utm_campaign=how-to-use-open-source-brick-fonts-with-wordpress";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:5855:"<p>Easy access to open source typography services has made the web a more beautiful place. Google&#8217;s vast <a href="https://www.google.com/fonts" target="_blank">library of fonts</a> is free, fast-loading and hosted on high performing servers, which has resulted in ubiquitous use across the web.</p>\n<p>But have you ever looked at Google fonts and wondered why they appear to be a bit wan, almost threadbare? This is because they are <a href="https://plus.google.com/+IlyaGrigorik/posts/1sxencNkbNS" target="_blank">modified and compressed</a> for performance and the output is far from a high quality rendering.</p>\n<h3>Brick: An Alternative to Google Fonts</h3>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/brick-fonts.jpg" rel="prettyphoto[20161]"><img src="http://wptavern.com/wp-content/uploads/2014/04/brick-fonts.jpg" alt="brick-fonts" width="1222" height="466" class="aligncenter size-full wp-image-20183" /></a><a href="http://brick.im/">Brick</a> is an open source typography project that aims to improve the quality of fonts used on the web. It serves fonts that are clones of the original. The fonts are converted without modification to <a href="http://en.wikipedia.org/wiki/Web_Open_Font_Format" target="_blank">WOFF</a> format with no quality lost.</p>\n<h3>Comparison Between Brick and Google Fonts</h3>\n<p>The tagline for Brick is <strong>&#8220;Webfonts that actually look good.&#8221;</strong> But how much better are they? Here&#8217;s a quick comparison of Brick vs. Google Fonts, using EB Garamond (body text) and Libre Baskerville (header and link):</p>\n<ul>\n<li><a href="http://brick.im/preview/brick.html" target="_blank">Brick preview</a></li>\n<li><a href="http://brick.im/preview/google.html" target="_blank">Google Fonts preview</a></li>\n</ul>\n<p>To the casual observer, these examples are going to look very similar. But here&#8217;s what you need to look out for when comparing:</p>\n<ul>\n<li>Font rendering and smoothing</li>\n<li>Ligatures: the fi ligature in the title</li>\n<li>Kerning: the Ve pair in Vestibulum</li>\n<li>Character sets: although not demonstrated in the previews, Brick fonts include the entire character set that came with the original</li>\n</ul>\n<p>The kerning and ligature differences alone should slap you in the face. Overall, you can see how Brick comes much closer to the original quality of rendered type.</p>\n<h3>Brick Fonts are Unmodified and Fast</h3>\n<p>Brick provides higher quality fonts because it doesn&#8217;t modify or subset the fonts in any way. They are rendered the way they were meant to be seen. This doesn&#8217;t mean that you have to compromise on performance. Brick fonts are served through <a href="http://www.fastly.com/" target="_blank">Fastly&#8217;s CDN</a> and are supported by <a href="https://www.linode.com/" target="_blank">Linode</a> hosting.</p>\n<h3>How to Use Brick Fonts with WordPress</h3>\n<p>Let&#8217;s walk through an example of adding Brick fonts to your WordPress theme. It&#8217;s very similar to how you might add <a href="http://wptavern.com/wordpress-tip-how-to-load-google-fonts-over-ssl-and-non-ssl" target="_blank">Google fonts</a>, except with customization options.</p>\n<p><strong>Step 1. Select the font you want to use.</strong><br />\nThe <a href="http://brick.im/fonts/" target="_blank">Brick font catalog</a> is currently preview-only, but the service may be adding a URL builder in the future. It may not always be current, so you might also check out the <a href="https://github.com/alfredxing/brick/blob/gh-pages/_data/fonts.yaml" target="_blank">catalog source</a>.</p>\n<p><strong>Step 2: Add the font to your theme&#8217;s functions.php file.</strong><br />\nBuilding a font URL involves adding the font name(s) plus the various weights and available italics options that you want to use.</p>\n<p>For example, let&#8217;s say we want to use the Linux Libertine font (Public Domain licensed) in all available options (400, 600, 700, 400i, 600i, 700i).  Here&#8217;s how you would structure the URL to call it:</p>\n<pre>//brick.a.ssl.fastly.net/Linux+Libertine:400,600,700,400i,600i,700i</pre>\n<p>You would then insert that URL into your function like this:</p>\n<pre class="brush: php; title: ; notranslate">function mythemeslug_enqueue_styles() {\n            wp_register_style(''brickFonts'', ''//brick.a.ssl.fastly.net/Linux+Libertine:400,600,700,400i,600i,700i'');\n            wp_enqueue_style( ''brickFonts'');\n        }</pre>\n<p><strong>Step 3: Update your stylesheet to use the new font.</strong></p>\n<p>The last step is to change your text or headlines to use the font you added. Here&#8217;s a quick example:</p>\n<pre class="brush: css; title: ; notranslate">h1, h2, h3, h4, h5, h6 {\n	font-family: ''Linux Libertine'', serif;\n}</pre>\n<p>The result will look something like this:</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/04/linux-libertine.png" rel="prettyphoto[20161]"><img src="http://wptavern.com/wp-content/uploads/2014/04/linux-libertine.png" alt="linux-libertine" width="1200" height="513" class="aligncenter size-full wp-image-20201" /></a></p>\n<p>Using Brick fonts is just as easy as adding fonts from Google Fonts but the quality is much higher. The only disadvantage is that the Brick font library isn&#8217;t as large, but the project is open source and anyone is welcome to <a href="https://github.com/alfredxing/brick/wiki/Contributing" target="_blank">contribute</a>. You can suggest a font by opening up an issue, add a font via pull request, or support Brick&#8217;s creator, Alfred Xing, on <a href="https://www.gittip.com/Alfred%20Xing/" target="_blank">Gittip</a>. For more <a href="https://github.com/alfredxing/brick/wiki/Usage" target="_blank">usage tips</a> and information on the project, check out <a href="https://github.com/alfredxing/brick" target="_blank">Brick on Github</a>.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 01 Apr 2014 20:55:26 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:9;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:52:"WordPress.tv: Jason Tucker: Video oEmbed Integration";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34154";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:69:"http://wordpress.tv/2014/04/01/jason-tucker-video-oembed-integration/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:653:"<div id="v-MUqM7Fnc-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34154/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34154/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34154&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/04/01/jason-tucker-video-oembed-integration/"><img alt="Jason Tucker: Video oEmbed Integration" src="http://videos.videopress.com/MUqM7Fnc/video-49bf4351e6_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 01 Apr 2014 19:15:58 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:10;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:110:"WordPress.tv: Billie Hillier and Desiree Peeples: Integrating Social Media Tools In WordPress Panel Discussion";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33158";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:127:"http://wordpress.tv/2014/04/01/billie-hillier-and-desiree-peeples-integrating-social-media-tools-in-wordpress-panel-discussion/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:769:"<div id="v-oDIjgYXe-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33158/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33158/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33158&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/04/01/billie-hillier-and-desiree-peeples-integrating-social-media-tools-in-wordpress-panel-discussion/"><img alt="Billie Hillier and Desiree Peeples: Integrating Social Media Tools In WordPress Panel Discussion" src="http://videos.videopress.com/oDIjgYXe/video-2b72492261_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 01 Apr 2014 19:13:51 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:11;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:68:"WordPress.tv: Primoz Cigler: From Pet Project To Full Grown Business";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33586";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:85:"http://wordpress.tv/2014/04/01/primoz-cigler-from-pet-project-to-full-grown-business/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:685:"<div id="v-A190F6Y7-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33586/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33586/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33586&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/04/01/primoz-cigler-from-pet-project-to-full-grown-business/"><img alt="Primoz Cigler: From Pet Project To Full Grown Business" src="http://videos.videopress.com/A190F6Y7/video-535e529b7a_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 01 Apr 2014 19:11:11 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:12;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:18:"Matt: On My iPhone";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:21:"http://ma.tt/?p=43724";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:34:"http://ma.tt/2014/04/on-my-iphone/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:340:"<p>I did one of the &#8220;On My Phone&#8221; interviews for Vanity Fair, which is especially funny during Lent. You can read it here: <a href="http://www.vanityfair.com/culture/my-phone/2014/04/wordpress-matt-mullenweg-calm-childish-gambino">WordPress’ Matt Mullenweg on Calm, Childish Gambino, and Giving Up His iPhone for Lent</a>.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 01 Apr 2014 19:01:21 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Matt Mullenweg";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:13;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:82:"WPTavern: VagrantPress: A WordPress Development Environment for Themes and Plugins";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=20109";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:206:"http://wptavern.com/vagrantpress-a-wordpress-development-environment-for-themes-and-plugins?utm_source=rss&utm_medium=rss&utm_campaign=vagrantpress-a-wordpress-development-environment-for-themes-and-plugins";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:6512:"<p>There are many ways to set up a <a href="http://vagrantup.com/" target="_blank">Vagrant</a>-based development environment for WordPress. It&#8217;s likely that you&#8217;ve come across <a href="https://github.com/Varying-Vagrant-Vagrants/VVV" target="_blank">Varying Vagrant Vagrants</a> in your searches. VVV is probably one of the most popular Vagrant configurations for WordPress, but  it may include more than you need. If you&#8217;re not contributing to WordPress core, then you may not need the /src and /build directories.</p>\n<p><a href="https://github.com/chad-thompson/vagrantpress" target="_blank">VagrantPress</a> is an alternative to VVV, created by Chad Thompson. It sets up a WordPress development environment with Vagrant/Puppet that is geared toward developing themes and plugins. Thompson started the VagrantPress project in order to work on child themes for a WordPress blog.</p>\n<h3>What&#8217;s Included with VagrantPress?</h3>\n<p>The LAMP stack that you get with VagrantPress includes:</p>\n<ul>\n<li>A virtual machine running the 12.04 LTS (32-bit) version of Ubuntu.</li>\n<li>The Apache2 WebServer</li>\n<li>PHP5</li>\n<li>The MySQL Database</li>\n</ul>\n<h3>Getting Started With VagrantPress</h3>\n<p>VagrantPress is a good option for you if you&#8217;re already using Puppet as part of your development workflow and if you want to use Apache instead of NGINX.  It&#8217;s also simple to set up if the scope of your work is mostly limited to theme and plugin development.</p>\n<p>Let&#8217;s walk through the process of setting up a dev environment with VagrantPress. (Note: Steps 1 and 2 can be omitted if you already have working copies of VirtualBox and Vagrant).</p>\n<p><strong>Step 1:</strong> Download and Install a copy of <a href="https://www.virtualbox.org/" target="_blank">VirtualBox</a>.</p>\n<p><strong>Step 2:</strong> Download and Install a copy of <a href="http://www.vagrantup.com/" target="_blank">Vagrant</a>.</p>\n<p><strong>Step 3:</strong> Clone a copy of the <a href="https://github.com/chad-thompson/vagrantpress" target="_blank">VagrantPress</a> project into a vagrantpress directory.<br />\n<code>git clone git://github.com/chad-thompson/vagrantpress.git vagrantpress</code></p>\n<p><strong>Step 4:</strong> Switch to the vagrantpress directory<br />\n<code>cd vagrantpress</code></p>\n<p><strong>Step 5:</strong> vagrant up to start the provisioning process.<br />\nThis may take a couple of minutes the first time:</p>\n<p><code>vagrant up</code></p>\n<p>Once it&#8217;s finished you&#8217;ll see something like this:</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/vagrantpress.png" rel="prettyphoto[20109]"><img src="http://wptavern.com/wp-content/uploads/2014/03/vagrantpress.png" alt="vagrantpress" width="1147" height="562" class="aligncenter size-full wp-image-20120" /></a></p>\n<p>What is it doing? The puppet scripts will install all of the following:</p>\n<ul>\n<li>Ubuntu Precise (12.04)</li>\n<li>WordPress 3.8</li>\n<li>Mysql</li>\n<li>Php</li>\n<li>Phpmyadmin</li>\n<li>Subversion</li>\n<li>PEAR</li>\n<li>Xdebug</li>\n<li>PHPUnit</li>\n<li>phploc</li>\n<li>phpcpd</li>\n<li>phpdcd</li>\n<li>phpcs</li>\n<li>phpdepend</li>\n<li>phpmd</li>\n<li>PHP_CodeBrowser</li>\n<li>WordPress sniffs for phpcs</li>\n<li>WordPress Unit Tests</li>\n</ul>\n<p>Once the process is finished, here&#8217;s what you&#8217;ll find inside your vagrantpress directory:</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/vagrantpress-directory.png" rel="prettyphoto[20109]"><img src="http://wptavern.com/wp-content/uploads/2014/03/vagrantpress-directory.png" alt="vagrantpress-directory" width="1371" height="822" class="aligncenter size-full wp-image-20143" /></a></p>\n<p><strong>Step 6:</strong> Visit your new WordPress development site.</p>\n<p>Got to this location in your browser to pull up your dev site:</p>\n<p><a href="http://localhost:8080/wp-admin/" target="_blank">http://localhost:8080/wp-admin/</a></pre>\n<p><strong>Login Credentials:</strong><br />\nusername: admin<br />\npassword: vagrant</p>\n<p><strong>phpMyAdmin access:</strong></p>\n<p>http://localhost:8080/phpmyadmin/</p>\n<p>username: wordpress<br />\npassword: wordpress</p>\n<p>Congratulations - You now have a working development site at your disposal.</p>\n<h3>Clone a Theme or Plugin to Your Development Site</h3>\n<p>With a clean installation of WordPress you can now start working on your plugins and themes. Just pull them into your development site. Here''s a quick example of grabbing a theme hosted on github. Your vagrantpress directory has a wordpress folder inside. Switch to the themes directory:</p>\n<p><code>cd wordpress/wp-content/themes</code></p>\n<p>Clone the theme repo to your development site:</p>\n<p><code>git clone https://github.com/pollyplummer/ex-astris.git</code></p>\n<p>Now you''re off and running. You can probably have the whole thing set up in under 10 minutes. If you need support, <a href="https://groups.google.com/forum/#!forum/vagrantpress-users" target="_blank">join the mailing list / Google Group</a> set up for the project.</p>\n<h3>The Future of VagrantPress</h3>\n<p>Thompson has created a <a href="https://github.com/chad-thompson/vagrantpress/blob/development/README.md" target="_blank">roadmap</a> for what he''d like to do with VagrantPress in the future. He''s working on integrating WP-CLI in the <a href="https://github.com/chad-thompson/vagrantpress/blob/development/README.md" target="_blank">development branch</a>, a must-have if the project is to gain a greater audience. He would also like to tie the development environment in with an option for creating/contributing to real deployment environments, as he outlined here:</p>\n<blockquote><p>The strength of the vagrant/puppet approach to development environments is that your development environment can mimic production environments ''better'' than approaches like local PHP installs, MAMP, etc. While doing all of this work in vagrant, why not make packaging your environment into a re-deployable unit using puppet or docker on production systems? I want to make that transition easier than it is in the project today.</p></blockquote>\n<p>Thompson plans to transition the VagrantPress project from his personal Github account to a ''VagrantPress'' organization account in order to help make the project more visible and emphasize the community-driven aspect. If you''d like to help contribute to VagrantPress, get in touch on <a href="https://github.com/chad-thompson/vagrantpress" target="_blank">Github</a>.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 31 Mar 2014 23:49:02 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:14;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:38:"Matt: Statistical Validity in Big Data";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:21:"http://ma.tt/?p=43721";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:54:"http://ma.tt/2014/03/statistical-validity-in-big-data/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:443:"<blockquote><p>&#8230;there are vastly more possible comparisons than there are data points to compare. Without careful analysis, the ratio of genuine patterns to spurious patterns – of signal to noise – quickly tends to zero.</p></blockquote>\n<p>Tim Harford in the Financial Times has a great article called <a href="http://www.ft.com/intl/cms/s/2/21a6e7d8-b479-11e3-a09a-00144feabdc0.html">Big data: are we making a big mistake?</a>.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 31 Mar 2014 23:45:36 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Matt Mullenweg";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:15;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:72:"WordPress.tv: Steve Zehngut: Theme Development With Foundation Framework";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34128";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:89:"http://wordpress.tv/2014/03/31/steve-zehngut-theme-development-with-foundation-framework/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:693:"<div id="v-fdrNYvrt-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34128/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34128/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34128&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/31/steve-zehngut-theme-development-with-foundation-framework/"><img alt="Steve Zehngut: Theme Development With Foundation Framework" src="http://videos.videopress.com/fdrNYvrt/video-d44595f9e0_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 31 Mar 2014 19:40:20 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:16;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:57:"WordPress.tv: Scott Bolinger: Mobile Apps Using WordPress";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34126";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:74:"http://wordpress.tv/2014/03/31/scott-bolinger-mobile-apps-using-wordpress/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:663:"<div id="v-kQP96KZH-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34126/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34126/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34126&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/31/scott-bolinger-mobile-apps-using-wordpress/"><img alt="Scott Bolinger: Mobile Apps Using WordPress" src="http://videos.videopress.com/kQP96KZH/video-36ae3ae8be_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 31 Mar 2014 19:37:44 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:17;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:65:"WordPress.tv: Alex Vasquez: Using Bourbon And Neat With WordPress";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34124";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:82:"http://wordpress.tv/2014/03/31/alex-vasquez-using-bourbon-and-neat-with-wordpress/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:685:"<div id="v-ftEyDgRy-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34124/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34124/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34124&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/31/alex-vasquez-using-bourbon-and-neat-with-wordpress/"><img alt="Alex Vasquez: Using Bourbon And Neat With WordPress" src="http://videos.videopress.com/ftEyDgRy/video-9f5339f565_scruberthumbnail_0.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 31 Mar 2014 19:36:22 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:18;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:73:"WPTavern: weDocs: A Free WordPress Documentation Theme Based on Bootstrap";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=20034";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:188:"http://wptavern.com/wedocs-a-free-wordpress-documentation-theme-based-on-bootstrap?utm_source=rss&utm_medium=rss&utm_campaign=wedocs-a-free-wordpress-documentation-theme-based-on-bootstrap";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:3262:"<p>Writing documentation for products is oftentimes a thankless task. It&#8217;s a challenge to style and organize docs in a clear and approachable way. Unfortunately this tends to be an afterthought for many projects, even though it is the first point of connection for users seeking support.</p>\n<p>A WordPress theme specifically created for documentation makes this task much easier. When adding new docs is as easy as writing a new post, getting your project fully documented is suddenly not as overwhelming.</p>\n<p><a href="https://github.com/tareq1988/wedocs" target="_blank">weDocs</a> is a free WordPress theme designed for documentation. Created by WordPress developer <a href="http://wedevs.com/" target="_blank">Tareq Hasan</a>, this theme is built with <a href="http://getbootstrap.com/" target="_blank">Bootstrap</a>, <a href="http://roots.io/" target="_blank">Roots</a> and <a href="http://www.lesscss.org/" target="_blank">Less</a>.</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/weDocs.png" rel="prettyphoto[20034]"><img src="http://wptavern.com/wp-content/uploads/2014/03/weDocs.png" alt="weDocs" width="880" height="660" class="aligncenter size-full wp-image-20068" /></a></p>\n<h3>Documentation Structured in Posts and Categories</h3>\n<p>weDocs organizes documentation with a very simple structure. All of the information is housed in posts and categories. Top level categories are shown on the homepage. Once you drill down through subcategories to individual topics, the theme displays a left hand vertical menu for further organizing subheaders to navigate down the page.</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/weDocs-post.png" rel="prettyphoto[20034]"><img src="http://wptavern.com/wp-content/uploads/2014/03/weDocs-post.png" alt="weDocs-post" width="1200" height="679" class="aligncenter size-full wp-image-20076" /></a></p>\n<p>weDocs Features:</p>\n<ul>\n<li>Responsive, mobile-friendly documentation thanks to Bootstrap and Roots</li>\n<li>Search bar lets you search &#8220;All Documents&#8221; or search within specific categories</li>\n<li>Upload site logo within the customizer</li>\n<li>Set header and footer text in the customizer</li>\n<li>Support for <a href="http://fontawesome.io/" target="_blank">Font Awesome</a> icons</li>\n<li>Built-in feedback feature on posts for voting on the usefulness of the content</li>\n</ul>\n<p>View a <a href="http://docs.wedevs.com/" target="_blank">live demo</a> of weDocs in action.</p>\n<p>Obviously, the theme has a very traditional Bootstrap style but it provides a decent starting point for customizing your docs. Please note that this theme should be used on a site that is dedicated entirely to documentation, as it takes over the design of the site. However, given the post/category structure for the docs, the theme does a good job of preserving data portability, in case you want to use a different theme further down the road.</p>\n<p>With any luck, the better your documentation is, the fewer support requests you&#8217;ll receive. If you&#8217;re looking for a simple and responsive theme for organizing your docs, take weDocs for a test drive on your site. Download it from <a href="https://github.com/tareq1988/wedocs" target="_blank">Github</a>.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 31 Mar 2014 15:12:20 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:19;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:88:"WPTavern: Which Method Do You Primarily Use To Add Items To The WordPress Media Library?";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19954";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:218:"http://wptavern.com/which-method-do-you-primarily-use-to-add-items-to-the-wordpress-media-library?utm_source=rss&utm_medium=rss&utm_campaign=which-method-do-you-primarily-use-to-add-items-to-the-wordpress-media-library";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1964:"<p><a href="http://wptavern.com/wp-content/uploads/2014/03/DragAndDropFeaturedImage.png" rel="prettyphoto[19954]"><img class="alignright size-full wp-image-20072" alt="Drag and Drop Featured Images" src="http://wptavern.com/wp-content/uploads/2014/03/DragAndDropFeaturedImage.png" width="266" height="258" /></a>If drag and drop is your preferred method to add content to the WordPress media library and you&#8217;d like to extend that functionality to the featured images meta box, you&#8217;re in luck. Developed by <a title="Visit author homepage" href="http://www.jonathanlundstrom.me">Jonathan Lundström</a>, <a title="http://wordpress.org/extend/plugins/drag-drop-featured-image/description/" href="http://wordpress.org/extend/plugins/drag-drop-featured-image/description/">Drag and Drop Featured Image</a> adds the ability to drag and drop images into the featured image meta box when writing a post.</p>\n<p>Since the plugin utilizes the default functions in WordPress, the meta box compresses all image sizes as well as respects any custom image sizes. If you&#8217;re using WordPress 3.5 or lower, the page will refresh in order to show the new image. Newer versions of WordPress show the new image without reloading the page. The plugin works as advertised without any issues with WordPress 3.8.1</p>\n<h3>Drag and Drop or Select Files?</h3>\n<p>I rarely use the drag and drop method for two reasons. First, both monitors usually have a full browser window meaning I&#8217;d have to reduce its size in order to access the media files and drag them into the window. Second, since I&#8217;m already working within a full size browser window, I find it more convenient to select multiple files using the <strong>select files feature</strong> in the media library. Let me know in the comments why you prefer one over the other or why you use both.</p>\nNote: There is a poll embedded within this post, please visit the site to participate in this post''s poll.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 31 Mar 2014 13:47:45 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Jeff Chandler";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:20;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:72:"WordPress.tv: Roger Williams: Teaching Clients To Love WordPress And You";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34061";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:89:"http://wordpress.tv/2014/03/30/roger-williams-teaching-clients-to-love-wordpress-and-you/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:693:"<div id="v-jlJQQxdA-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34061/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34061/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34061&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/30/roger-williams-teaching-clients-to-love-wordpress-and-you/"><img alt="Roger Williams: Teaching Clients To Love WordPress And You" src="http://videos.videopress.com/jlJQQxdA/video-e7b95fe4a1_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sun, 30 Mar 2014 18:46:09 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:21;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:46:"WordPress.tv: Jeffrey Zinn: Weaving Javascript";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34044";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:63:"http://wordpress.tv/2014/03/30/jeffrey-zinn-weaving-javascript/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:647:"<div id="v-IDcZPc61-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34044/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34044/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34044&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/30/jeffrey-zinn-weaving-javascript/"><img alt="Jeffrey Zinn: Weaving Javascript" src="http://videos.videopress.com/IDcZPc61/video-1805f8401d_scruberthumbnail_0.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sun, 30 Mar 2014 18:20:32 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:22;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:116:"WordPress.tv: Alex Vasquez: Choosing The Right Tool For The Job: Child Themes, Starter Themes And Frameworks. OH MY!";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34052";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:129:"http://wordpress.tv/2014/03/30/alex-vasquez-choosing-the-right-tool-for-the-job-child-themes-starter-themes-and-frameworks-oh-my/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:777:"<div id="v-Ovy673Y6-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34052/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34052/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34052&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/30/alex-vasquez-choosing-the-right-tool-for-the-job-child-themes-starter-themes-and-frameworks-oh-my/"><img alt="Alex Vasquez: Choosing The Right Tool For The Job: Child Themes, Starter Themes And Frameworks. OH MY!" src="http://videos.videopress.com/Ovy673Y6/video-555cc789a6_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sun, 30 Mar 2014 18:02:26 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:23;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:131:"WordPress.tv: Interview de Xavier Tellier, orateur de “Étude de cas : Utiliser WordPress multisite pour un media télévisuel”";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34141";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:137:"http://wordpress.tv/2014/03/29/interview-de-xavier-tellier-orateur-de-etude-de-cas-utiliser-wordpress-multisite-pour-un-media-televisuel/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:721:"<div id="v-M4GTu79O-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34141/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34141/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34141&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/29/interview-de-xavier-tellier-orateur-de-etude-de-cas-utiliser-wordpress-multisite-pour-un-media-televisuel/"><img alt="08 &#8211; Tellier-Itw-WCParis2014.mp4" src="http://videos.videopress.com/M4GTu79O/video-00715ddf7b_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 22:39:36 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:24;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:47:"WordPress.tv: Ben Lobaugh: Unit Testing Plugins";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34026";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:64:"http://wordpress.tv/2014/03/29/ben-lobaugh-unit-testing-plugins/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:643:"<div id="v-91mUOVgT-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34026/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34026/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34026&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/29/ben-lobaugh-unit-testing-plugins/"><img alt="Ben Lobaugh: Unit Testing Plugins" src="http://videos.videopress.com/91mUOVgT/video-158628c1fb_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 18:47:50 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:25;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:63:"WordPress.tv: Dan Birlew: WordPress and Masonry: Brick By Brick";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34035";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:79:"http://wordpress.tv/2014/03/29/dan-birlew-wordpress-and-masonry-brick-by-brick/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:674:"<div id="v-1s1CDhtK-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34035/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34035/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34035&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/29/dan-birlew-wordpress-and-masonry-brick-by-brick/"><img alt="Dan Birlew: WordPress and Masonry: Brick By Brick" src="http://videos.videopress.com/1s1CDhtK/video-31cffc8bcc_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 18:38:27 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:26;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:66:"WPTavern: WordPress 3.9 Release Date Officially Set for April 16th";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=20037";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:176:"http://wptavern.com/wordpress-3-9-release-date-officially-set-for-april-16th?utm_source=rss&utm_medium=rss&utm_campaign=wordpress-3-9-release-date-officially-set-for-april-16th";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2620:"<div id="attachment_20046" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/03/wordpress.jpg" rel="prettyphoto[20037]"><img src="http://wptavern.com/wp-content/uploads/2014/03/wordpress.jpg" alt="photo credit: Andrea_R - cc" width="1025" height="485" class="size-full wp-image-20046" /></a><p class="wp-caption-text">photo credit: <a href="http://www.flickr.com/photos/andrea_r/6339221762/">Andrea_R</a> &#8211; <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/">cc</a></p></div>\n<p>WordPress 3.9 Beta 3 went out the door today. Andrew Nacin <a href="http://wordpress.org/news/2014/03/wordpress-3-9-beta-3/" target="_blank">announced</a> the beta and set April 16th as the official release day.</p>\n<p>Beta 3 isn&#8217;t just a slightly better version of Beta 2. In fact, this third and possibly final beta includes more than <a href="https://core.trac.wordpress.org/log?rev=27639&stop_rev=27500&limit=200" target="_blank">200 changes</a>. Nacin cites several major changes that will be important to test:</p>\n<ul>\n<li>More polished versions of the live widget previews and the new theme installer</li>\n<li>UI refinements when editing images and when working with media in the editor, including the reinstatement of  some of the advanced image display settings</li>\n<li>Audio and video playlists &#8211; links will appear in the media manager once you&#8217;ve uploaded an audio or video file.</li>\n<li>HTML5 caption support (<a href="https://core.trac.wordpress.org/ticket/26642" target="_blank">#26642</a>) to match the new gallery support (<a href="https://core.trac.wordpress.org/ticket/26697" target="_blank">#26697</a>)</li>\n<li>Performance updates for the formatting function that turns straight quotes into smart quotes (among other things)</li>\n</ul>\n<p>WordPress 3.9 is nearing the station. It&#8217;s now time to start identifying and squashing some bugs. WordPress testers of any skill level are welcome to participate in getting 3.9 ready for release.</p>\n<p>The easiest way to get started is to set up a test WordPress installation and add the <a href="http://wordpress.org/extend/plugins/wordpress-beta-tester/">WordPress Beta Tester</a> plugin. Select &#8220;bleeding edge nightlies&#8221; and start putting the new features through the paces. Report any bugs to the <a href="http://wordpress.org/support/forum/alphabeta" target="_blank">Alpha/Beta</a> forum where Nacin says that friendly moderators are standing by to help facilitate bug reports. If you&#8217;ve never tested a WordPress release, this is the easiest way to jump in and make a difference.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 18:33:32 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:27;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:121:"WordPress.tv: John Gough: WordPress For Fun and Profit: Managing Profitable Design/Dev Projects For Individuals And Teams";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33468";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:136:"http://wordpress.tv/2014/03/29/john-gough-wordpress-for-fun-and-profit-managing-profitable-designdev-projects-for-individuals-and-teams/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:795:"<div id="v-MpbMdiBi-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33468/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33468/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33468&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/29/john-gough-wordpress-for-fun-and-profit-managing-profitable-designdev-projects-for-individuals-and-teams/"><img alt="John Gough: WordPress For Fun and Profit: Managing Profitable Design/Dev Projects For Individuals And Teams" src="http://videos.videopress.com/MpbMdiBi/video-f1dc15e614_scruberthumbnail_0.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 18:23:40 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:28;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:30:"Dev Blog: WordPress 3.9 Beta 3";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"http://wordpress.org/news/?p=3106";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:55:"http://wordpress.org/news/2014/03/wordpress-3-9-beta-3/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2659:"<p>The third (and maybe last) beta of WordPress 3.9 is now available for download.</p>\n<p>Beta 3 includes more than 200 <a href="https://core.trac.wordpress.org/log?rev=27850&stop_rev=27639&limit=300">changes</a>, including:</p>\n<ul>\n<li>New features like live widget previews and the new theme installer are now more ready for prime time, so check &#8216;em out.</li>\n<li>UI refinements when editing images and when working with media in the editor. We&#8217;ve also brought back some of the advanced display settings for images.</li>\n<li>If you want to test out audio and video playlists, the links will appear in the media manager once you&#8217;ve uploaded an audio or video file.</li>\n<li>For theme developers, we&#8217;ve added HTML5 caption support (<a class="reopened ticket" title="task (blessed): HTML5 captions (reopened)" href="https://core.trac.wordpress.org/ticket/26642">#26642</a>) to match the new gallery support (<a class="closed ticket" title="enhancement: HTML5 Galleries (closed: fixed)" href="https://core.trac.wordpress.org/ticket/26697">#26697</a>).</li>\n<li>The formatting function that turns straight quotes into smart quotes (among other things) underwent some changes to drastically speed it up, so let us know if you see anything weird.</li>\n</ul>\n<p><strong>We need your help</strong>. We&#8217;re still aiming for an April release, which means the next week will be critical for identifying and squashing bugs. If you&#8217;re just joining us, please see <a href="https://wordpress.org/news/2014/03/wordpress-3-9-beta-1/">the Beta 1 announcement post</a> for what to look out for.</p>\n<p><strong>If you think you’ve found a bug</strong>, you can post to the <a href="http://wordpress.org/support/forum/alphabeta">Alpha/Beta area</a> in the support forums, where friendly moderators are standing by. <b>Plugin developers</b><strong>,</strong> if you haven&#8217;t tested WordPress 3.9 yet, now is the time — and be sure to update the &#8220;tested up to&#8221; version for your plugins so they&#8217;re listed as compatible with 3.9.</p>\n<p><strong>This software is still in development,</strong> so we don’t recommend you run it on a production site. Consider setting up a test site just to play with the new version. To test WordPress 3.9, try the <a href="http://wordpress.org/extend/plugins/wordpress-beta-tester/">WordPress Beta Tester</a> plugin (you’ll want “bleeding edge nightlies”). Or you can <a href="http://wordpress.org/wordpress-3.9-beta3.zip">download the beta here</a> (zip).</p>\n<p><em>WordPress 3.9<br />\nLet&#8217;s make the date official<br />\nIt&#8217;s April 16</em></p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 13:15:10 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Andrew Nacin";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:29;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:50:"WPTavern: BuddyPress 2.0 Beta 1: Ready for Testing";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=20013";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:142:"http://wptavern.com/buddypress-2-0-beta-1-ready-for-testing?utm_source=rss&utm_medium=rss&utm_campaign=buddypress-2-0-beta-1-ready-for-testing";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2733:"<p><a href="http://wptavern.com/wp-content/uploads/2014/03/signups-featured.jpg" rel="prettyphoto[20013]"><img src="http://wptavern.com/wp-content/uploads/2014/03/signups-featured.jpg" alt="signups-featured" width="800" height="438" class="aligncenter size-full wp-image-19429" /></a></p>\n<p>Fire up your test environments; BuddyPress 2.0 Beta 1 was just <a href="http://buddypress.org/2014/03/buddypress-2-0-beta-1-is-now-available/" target="_blank">released</a>. 2.0 is going to be a stellar release and is packed full of exciting updates and performance optimizations. BuddyPress core developer Boone Gorges announced the beta and summarized new features and changes that will be important for you to test.</p>\n<p>This release will introduce a handful of new admin tools for managing BP communities:</p>\n<ul>\n<li><a href="http://wptavern.com/buddypress-2-0-to-add-profile-editing-in-the-wordpress-admin" target="_blank">User profile data can be edited in the admin</a>: Dashboard > Users</li>\n<li><a href="http://wptavern.com/buddypress-2-0-to-add-better-spam-management-capabilities-for-administrators" target="_blank">Non-multisite installations can ham/spam users</a>: Dashboard > Users</li>\n<li><a href="http://wptavern.com/buddypress-2-0-to-add-signups-administration-screen" target="_blank">New admin screen for managing signups</a>: Dashboard > Users > Pending</li>\n<li>BuddyPress tools menu has new tools for correcting data that occasionally gets out of sync: Dashboard > Tools > BuddyPress</li>\n</ul>\n<p>One front-end feature that should be tested is the synchronization of blog-related activity comments with blog comments. If a user replies to a new blog post activity item, that activity reply will also post back to the blog as a comment. This helps to keep the conversation synchronized in both places.</p>\n<p>Those are the most visible items to test. However, a large portion of the updates in this release are non-visible improvements under the hood. This includes performance improvements for object caching and pre-caching of activity-related data, a new API for registering xprofile field types, and rewritten metadata functions that now use WordPress&#8217; core metadata API. Refer to Boone Gorges&#8217; <a href="http://buddypress.org/2014/03/buddypress-2-0-beta-1-is-now-available/" target="_blank">beta announcement post</a> for more details on what to test.</p>\n<p>If you have some free time this weekend or can dedicate some time in the coming week, give <a href="http://downloads.wordpress.org/plugin/buddypress.2.0-beta1.zip" target="_blank">BuddyPress 2.0 Beta 1</a> a test drive. Please report any bugs to the <a href="https://buddypress.trac.wordpress.org/" target="_blank">BuddyPress trac</a>.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 02:31:54 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:30;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:50:"BuddyPress: BuddyPress 2.0 Beta 1 is now available";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:31:"http://buddypress.org/?p=180458";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:69:"http://buddypress.org/2014/03/buddypress-2-0-beta-1-is-now-available/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:4867:"<p>The first beta for BuddyPress 2.0 is now ready for testing!</p>\n<p>BuddyPress 2.0 is shaping up to be a very exciting upgrade, and is currently on track for our an on-time release in mid-April. <strong>But we need your help!</strong> If you are a plugin or theme developer, or if you are running a BuddyPress site and you have a development/sandbox environment available, please <a href="http://downloads.wordpress.org/plugin/buddypress.2.0-beta1.zip">download the 2.0-beta1 zip</a> or get a copy via Subversion, and put it through its paces.</p>\n<p>We&#8217;ll have more details about the changes in our official release documents, but in the meantime, here&#8217;s a quick overview of some of the largest changes that need attention. (For a complete list, see <a href="https://buddypress.trac.wordpress.org/query?status=closed&group=resolution&milestone=2.0">this report</a>). First, user-facing stuff:</p>\n<ul>\n<li>We have a number of new administrative tools:\n<ul>\n<li>User Extended Profile data is now editable at Dashboard &gt; [Network Admin &gt;] Users</li>\n<li>Non-Multisite installations can now perform spam actions from Dashboard &gt; Users</li>\n<li>Dashboard &gt; Tools &gt; BuddyPress contains a number of tools for correcting data that occasionally gets out of sync on BP installs</li>\n</ul>\n</li>\n<li>In addition, signups/registrations have been completely overhauled. There is now a subsection on Dashboard &gt; [Network Admin &gt;] Users for handling Pending users, where you can resend activation emails, perform manual activations, and more. The way BP integrates with WP&#8217;s signup system under the hood has also been rewritten; on non-Multisite, we now mimic WPMS&#8217;s wp_signups functionality. We thinkhttps://buddypress.trac.wordpress.org/ticket/4551 this is a much more flexible, consistent system for all users of BuddyPress. These new workflows need the particular attention of people who are currently administrators on BP sites with open registration &#8211; you will best understand the pain points that these changes are meant to address.</li>\n<li>Blog-related activity comments now sync back to the source blog. That is, a reply in the activity stream to a &#8220;Boone posted a new blog post&#8221; item will create a corresponding comment on the blog post itself.</li>\n</ul>\n<p>There have been extensive changes under the hood, including large performance increases and new developer tools:</p>\n<ul>\n<li>Activity actions &#8211; strings in the activity stream like &#8220;Boone and Ray are now friends&#8221; &#8211; are no longer (only) stored statically in the database, but are generated dynamically at runtime. This should alleviate several longtime headaches related to data staleness and multilingual sites. But it has also resulted in a number of changes related to the pre-caching of activity-related data. Watch http://bpdevel.wordpress.com in the upcoming days for a discussion of what plugin developers will need to know about the new system (short version &#8211; plugins that insert activity items will continue to work as before, but should be good citizens and update to the new technique). See <a href="https://buddypress.trac.wordpress.org/ticket/3856">#3856</a> for background.</li>\n<li>There&#8217;s a brand new API for registering xprofile field types, and our own field types have been completely rewritten to use it. See <a href="https://buddypress.trac.wordpress.org/ticket/5220">#5220</a>.</li>\n<li>User <code>last_activity</code> data has been moved from the usermeta table to the activity table. This ought to result in very sizable performance improvements for larger sites. Plugin developers should verify that their plugins are working correctly with these changes. See <a href="http://bpdevel.wordpress.com/2014/02/21/user-last_activity-data-and-buddypress-2-0/">this post on bpdevel</a> for more background and specifics.</li>\n<li>Major improvements have taken place with respect to object caching throughout BuddyPress. If you use Memcached, APC, or some other persistent object caching backend on your BuddyPress site, please consider testing this beta.</li>\n<li>Metadata functions have been completely rewritten to leverage WP&#8217;s core metadata API. See <a href="https://buddypress.trac.wordpress.org/ticket/4551">#4551</a> and especially <a href="https://buddypress.trac.wordpress.org/ticket/5399">#5399</a> for what plugin devs will need to know about backward compatibility.</li>\n</ul>\n<p><strong>If you think you&#8217;ve found a bug</strong>, please report it to <a href="http://buddypress.org/support">the support forums</a> or <a href="https://buddypress.trac.wordpress.org">our development tracker</a>. And remember, this is beta software &#8211; we don&#8217;t recommend that you run it on a production site. Thanks in advance for your help &#8211; onward we march to 2.0!</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 01:40:45 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Boone Gorges";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:31;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:60:"WPTavern: WPWeekly Episode 143 – Something To Smiley About";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:44:"http://wptavern.com?p=20005&preview_id=20005";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:156:"http://wptavern.com/wpweekly-episode-143-something-to-smiley-about?utm_source=rss&utm_medium=rss&utm_campaign=wpweekly-episode-143-something-to-smiley-about";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:3079:"<p>Sarah Gooding and I debated whether or not smilies are content and what the true focus of debate should be concerning the emoticons. I shared my experience upgrading to WordPress For iOS 4.0 and the problems it solved. Last but not least, we discussed the dangers of downloading plugins from untrusted sources.</p>\n<h2>Stories Discussed:</h2>\n<p><a href="http://wptavern.com/wordpress-for-ios-4-0-available-new-and-improved-stats" title="http://wptavern.com/wordpress-for-ios-4-0-available-new-and-improved-stats">WordPress For iOS 4.0 Available, New and Improved Stats </a><br />\n<a href="http://wptavern.com/qik-is-shutting-down-how-to-save-your-videos" title="http://wptavern.com/qik-is-shutting-down-how-to-save-your-videos">Qik Is Shutting Down, How To Save Your Videos </a><br />\n<a href="http://wptavern.com/wordpress-smiley-wars-will-core-adopt-new-emoticons" title="http://wptavern.com/wordpress-smiley-wars-will-core-adopt-new-emoticons">WordPress Smiley Wars: Will Core Adopt New Emoticons?</a><br />\n<a href="http://wptavern.com/wordcamp-miami-to-host-free-wordpress-beginners-workshop-for-kids" title="http://wptavern.com/wordcamp-miami-to-host-free-wordpress-beginners-workshop-for-kids">WordCamp Miami to Host Free WordPress Beginners Workshop for Kids</a><br />\n<a href="http://wptavern.com/the-dangers-of-using-wordpress-plugins-from-untrusted-sources" title="http://wptavern.com/the-dangers-of-using-wordpress-plugins-from-untrusted-sources">The Dangers Of Using WordPress Plugins From Untrusted Sources</a><br />\n<a href="http://wptavern.com/buddypress-2-0-to-add-better-spam-management-capabilities-for-administrators" title="http://wptavern.com/buddypress-2-0-to-add-better-spam-management-capabilities-for-administrators">BuddyPress 2.0 to Add Better Spam Management Capabilities for Administrators</a></p>\n<h2>WPWeekly Meta:</h2>\n<p><strong>Next Episode:</strong> Friday, April 4th 3 P.M. Eastern &#8211; Special Guests:</p>\n<ul>\n<li>Chris Wiegman – Lead Developer of <a title="https://wordpress.org/plugins/better-wp-security/" href="https://wordpress.org/plugins/better-wp-security/">iThemes Security</a></li>\n<li>Regina Smola – Founder of <a title="http://wpsecuritylock.com/" href="http://wpsecuritylock.com/">WPSecurityLock</a></li>\n<li>Brennen Byrne – Founder and CEO of <a title="https://getclef.com/" href="https://getclef.com/">Clef</a></li>\n<li>Sam Hotchkiss – Founder of <a title="https://bruteprotect.com/" href="https://bruteprotect.com/">BruteProtect</a></li>\n</ul>\n<p><strong>Subscribe To WPWeekly Via Itunes: </strong><a href="https://itunes.apple.com/us/podcast/wordpress-weekly/id694849738" target="_blank">Click here to subscribe</a></p>\n<p><strong>Subscribe To WPWeekly Via RSS: </strong><a href="http://www.wptavern.com/feed/podcast" target="_blank">Click here to subscribe</a></p>\n<p><strong>Subscribe To WPWeekly Via Stitcher Radio: </strong><a href="http://www.stitcher.com/podcast/wordpress-weekly-podcast?refid=stpr" target="_blank">Click here to subscribe</a></p>\n<p><strong>Listen To Episode #143:</strong><br />\n</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 01:01:41 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Jeff Chandler";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:32;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:49:"WPTavern: How To Keep Track Of Upcoming WordCamps";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=18997";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:142:"http://wptavern.com/how-to-keep-track-of-upcoming-wordcamps?utm_source=rss&utm_medium=rss&utm_campaign=how-to-keep-track-of-upcoming-wordcamps";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:3995:"<p>It seems like there is a WordCamp or two happening every weekend. With so many, it&#8217;s tough to keep track unless you routinely browse the schedule on <a title="http://central.wordcamp.org/schedule/" href="http://central.wordcamp.org/schedule/">WordCamp Central</a>. However, I&#8217;ve discovered a few other ways to monitor upcoming WordCamps.</p>\n<div id="attachment_19870" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/03/WordCampScheduleFeaturedImage.png" rel="prettyphoto[18997]"><img class="size-full wp-image-19870" alt="WordCamp Schedule Featured Image" src="http://wptavern.com/wp-content/uploads/2014/03/WordCampScheduleFeaturedImage.png" width="639" height="226" /></a><p class="wp-caption-text">photo credit: <a href="http://www.flickr.com/photos/keso/2262459574/">keso</a> &#8211; <a href="http://creativecommons.org/licenses/by-nc-nd/2.0/">cc</a></p></div>\n<p>In late 2013, <a title="http://central.wordcamp.org/wordcamps/feed/" href="http://central.wordcamp.org/wordcamps/feed/">WordCamp central added RSS feeds</a> that notify subscribers when an event is added to the schedule. To subscribe via RSS, copy and paste <a title="http://central.wordcamp.org/wordcamps/feed/" href="http://central.wordcamp.org/wordcamps/feed/">this URL</a> into your favorite feedreader. You can also subscribe to the feed via email by using <a title="http://blogtrottr.com/" href="http://blogtrottr.com/">Blogtrottr</a>. If you&#8217;d rather see a calendar view of the next 50 events scheduled, you can use the <a title="http://central.wordcamp.org/calendar.ics" href="http://central.wordcamp.org/calendar.ics">WordCamp Central ICS</a> file. ICS is a file extension used to display calendar data and is supported by iCalendar and Google Calendar.</p>\n<div id="attachment_19967" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/03/wordcampcalendar.png" rel="prettyphoto[18997]"><img class="size-large wp-image-19967" alt="Upcoming WordCamps In iCalendar" src="http://wptavern.com/wp-content/uploads/2014/03/wordcampcalendar-500x383.png" width="500" height="383" /></a><p class="wp-caption-text">Upcoming WordCamps In iCalendar</p></div>\n<p>Unfortunately, we discovered a <a title="https://productforums.google.com/forum/#!category-topic/calendar/report-an-issue/importing-and-exporting/google-chrome/UQ6P1Im8eY8" href="https://productforums.google.com/forum/#!category-topic/calendar/report-an-issue/importing-and-exporting/google-chrome/UQ6P1Im8eY8">bug with Google Calendar</a> that doesn&#8217;t allow importing from a URL or from the actual ICS file. If an event is declared with only a date and not the full time stamp, Google Calendar ignores it. To work around this bug, the calendar file has been recreated to use the full time stamp. Importing the ICS file into iCalendar presented no issues.</p>\n<h3>Paving The Way To Integrate Data Into Mobile Apps</h3>\n<p>There is <a title="https://meta.trac.wordpress.org/ticket/338" href="https://meta.trac.wordpress.org/ticket/338">work underway</a> to make the scheduling data more accessible. One idea is to move the ICS file into a plugin and then place the data into a JSON endpoint. However, the <a title="http://wptavern.com/ryan-mccue-on-creating-the-json-rest-api-for-wordpress" href="http://wptavern.com/ryan-mccue-on-creating-the-json-rest-api-for-wordpress">JSON API</a> has yet to be added to core. I asked Ian Dunn, one of many volunteers working on improving the WordCamp central website, what opportunities become available by using JSON. He said, &#8220;By using the JSON API, we&#8217;ll be able to integrate the data into mobile apps.&#8221; With the possibility of an official <a title="http://wptavern.com/what-would-you-like-a-wordcamp-mobile-app-to-do" href="http://wptavern.com/what-would-you-like-a-wordcamp-mobile-app-to-do">WordCamp mobile app</a> being developed, having access to a schedule of upcoming WordCamps seems like a natural fit.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sat, 29 Mar 2014 00:29:51 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Jeff Chandler";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:33;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:56:"WPTavern: iThemes Working Fast To Fix Users Upgrade Woes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19974";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:156:"http://wptavern.com/ithemes-working-fast-to-fix-users-upgrade-woes?utm_source=rss&utm_medium=rss&utm_campaign=ithemes-working-fast-to-fix-users-upgrade-woes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:4498:"<p><a href="http://wptavern.com/wp-content/uploads/2014/03/BetterWPSecurityFeaturedImage.png" rel="prettyphoto[19974]"><img class="aligncenter size-large wp-image-19190" alt="Better WP Security Featured Image" src="http://wptavern.com/wp-content/uploads/2014/03/BetterWPSecurityFeaturedImage-500x159.png" width="500" height="159" /></a></p>\n<p>Last week, <a title="http://wptavern.com/better-wordpress-security-plugin-gets-major-update-to-address-security-vulnerabilities" href="http://wptavern.com/better-wordpress-security-plugin-gets-major-update-to-address-security-vulnerabilities">we reported</a> the Better WordPress Security plugin would be renamed to <a title="http://wordpress.org/plugins/better-wp-security/" href="http://wordpress.org/plugins/better-wp-security/">iThemes Security</a>. We also shared important details to prepare users for the upgrade. Because of the name change, users needed to re-enable the plugin or risk seeing errors. Despite the beta testing period, the upgrade process hasn&#8217;t gone smoothly for some users. Some have chosen to vent their frustrations by writing <a title="http://wordpress.org/support/view/plugin-reviews/better-wp-security?filter=1" href="http://wordpress.org/support/view/plugin-reviews/better-wp-security?filter=1">one star negative reviews</a>.</p>\n<blockquote><p>I don&#8217;t like writing bad reviews. Three days ago I would give this plugin five stars without hesitation. Unfortunately, upgrading to 4.02 and then 4.05 broke the checkout functionality on my web store which resulted in lost sales and no clear solution in sight. Definitely a rushed update with insufficient testing.</p></blockquote>\n<p>Considering the plugin has over 1.8 million downloads, it&#8217;s inevitable some users would run into problems. As is the nature of software development, internal testing can only get you so far. According to Chris Wiegman, primary developer for iThemes Security, the plugin underwent the largest amount of beta testing by iThemes.</p>\n<blockquote class="twitter-tweet" width="550"><p>This weekend’s agenda: bugfixes. Even with the largest beta weve ever done its amazing what isnt caught. fortunately there arent many to fix</p>\n<p>&mdash; Chris Wiegman (@ChrisWiegman) <a href="https://twitter.com/ChrisWiegman/statuses/449629198244528128">March 28, 2014</a></p></blockquote>\n<p></p>\n<p>If you haven&#8217;t upgraded yet, I encourage you to <a title="http://wordpress.org/support/topic/common-issues-related-to-40-update-read-first?replies=1" href="http://wordpress.org/support/topic/common-issues-related-to-40-update-read-first?replies=1">read this guide</a> which lists the most common issues related to the 4.0 update.</p>\n<h3>Beta Testing Only Gets You So Far</h3>\n<p>While some of the blame can be placed on iThemes Security for not picking up on specific bugs, it&#8217;s impossible to test in every conceivable environment or combination thereof. Take WordPress for example. Despite thousands of people participating in the WordPress beta period, a lot of bugs and problems are reported after the stable version is released. It makes sense because the amount of users and environments using the stable version are far greater than the number participating in the beta period.</p>\n<h3>iThemes Is Working As Fast As They Can To Fix Bugs</h3>\n<p>I got in touch with Cory Miller, CEO of iThemes, and asked him what the team is doing to address issues users are having with iThemes Security. Considering the number of users and types of changes made to the plugin, the team thinks overall, the upgrade has gone well.</p>\n<blockquote><p>Our motto has always been to ship good, tested work and iterate on it fast. As we get more data on bugs and issues, we&#8217;re seeking to figure them out and handle them accordingly. This is a commitment we&#8217;ve held since 2008 and will into the future.</p>\n<p>Prior to launch, we had the biggest beta program for this release we&#8217;ve ever had and tested as thoroughly as we could (internally and with our beta group). We did our best, testing this before release, but any good software developer will tell you, especially with the variety of hosting and WordPress setups that you&#8217;re bound to miss something.</p></blockquote>\n<p>If you encounter a bug, please <a title="http://ithemes.com/security/bugs/" href="http://ithemes.com/security/bugs/">report it to iThemes</a>. The team will be working hard this weekend to squash any bugs that have been reported thus far.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 28 Mar 2014 23:56:47 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Jeff Chandler";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:34;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:67:"WPTavern: Pressgram 2.0 Removes Social Layer to Focus on Publishing";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19852";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:178:"http://wptavern.com/pressgram-2-0-removes-social-layer-to-focus-on-publishing?utm_source=rss&utm_medium=rss&utm_campaign=pressgram-2-0-removes-social-layer-to-focus-on-publishing";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:6172:"<p><a href="http://wptavern.com/wp-content/uploads/2014/03/pressgram.png" rel="prettyphoto[19852]"><img src="http://wptavern.com/wp-content/uploads/2014/03/pressgram.png" alt="pressgram" width="620" height="465" class="aligncenter size-full wp-image-19959" /></a></p>\n<p><a href="http://pressgr.am/">PressGram</a>, the WordPress-powered photo sharing app, has significantly evolved since its <a href="http://wptavern.com/pressgram-launches-wordpress-powered-photo-sharing-app" target="_blank">launch</a>. The app broke onto the scene last year, positioned as a game-changing challenger to the increasingly unpopular policies of Facebook and Instagram.</p>\n<p>After supporting the native social networking aspect for several months, John Saddington, the app&#8217;s creator, found that most users were not looking to get signed up to yet another social network. The costs of supporting that aspect of the app were also skyrocketing. Saddington knew he needed to make some tough decisions.</p>\n<h3>Pressgram Moves to Focus on More Concentrated Publishing Capabilities</h3>\n<p>Version 2.0, <a href="http://blog.pressgr.am/v2-0-release/" target="_blank">released</a> last week, is a major update that completely <a href="http://blog.pressgr.am/native-social/" target="_blank">removes the social layer</a>, which Saddington had been working to pare from the app since the beginning of this year. He felt that it was time to bring Pressgram around to its original purpose. &#8220;<span class="pullquote alignleft">The heart of my intent was always about digital publishing</span>,&#8221;</strong> Saddington said. &#8220;This version is much more aligned with that original intent and vision.&#8221;</p>\n<p>Cutting a major feature from a popular app is bound to bring some disappointment to users, but it is part of the natural process of discovering which features can be best supported and maintained long term. No app is born perfect in its first iteration, and Saddington decided that keeping &#8220;publishing first&#8221; was the best way to strengthen the app from both a technical and cost perspective.</p>\n<p>Though Pressgram first began as a WordPress-powered app, it has evolved to become a more open system, designed to support all kinds of publishing platforms. &#8220;I figured that if we were going to start encouraging more people to tell their visual stories then it was worth spending the time inviting all types of visual storytellers to the table!&#8221; Saddington said. Pressgram 2.0 expands the app&#8217;s publishing capabilities to include more platforms:</p>\n<ul>\n<li>WordPress.com</li>\n<li>WordPress.org</li>\n<li>Blogger / Blogspot</li>\n<li>Squarespace</li>\n<li>Tumblr</li>\n<li>Google+</li>\n<li>Typepad</li>\n<li>MovableType</li>\n<li>Twitter</li>\n<li>Facebook</li>\n</ul>\n<h3>Pressgram Licensing Will Remain Proprietary</h3>\n<p>Pressgram was fairly groundbreaking in the WordPress app space when it launched. However, many in the WordPress community were disgruntled that the app wasn&#8217;t open source, as it was based on OS software and could potentially serve to move the WP app space forward.</p>\n<p>The last time we spoke with Saddington, he was open to considering an open source license for the app down the road. At this point in time, however, it seems that Pressgram will continue under a proprietary license.</p>\n<blockquote><p>There will always be those that feel strongly about &#8220;open source ALL THE THINGS&#8221; and I&#8217;m not sure I will ever satisfy those folks with any answer at this point in time &#8211; there are already some amazing OS alternatives to Pressgram that will suit their needs, for sure!</p></blockquote>\n<p>Saddington cut his teeth with proprietary software working with Macromedia Flash in the 90&#8242;s and has worked with a number of proprietary languages over the course of his career. He naturally floats back and forth between open and closed source software and appreciates the pros and cons of working with both. In the end, it comes to down to pure pragmatism for him in tackling his projects:</p>\n<blockquote><p>That being said, people will always be people and I&#8217;ve come to realize that I&#8217;m much more interested in working with pragmatists first and politicians second; in other words, I really enjoy building great stuff that helps people and far less interested in spending time debating the merits of this development philosophy over that one. I&#8217;m not a political person to being with so that always helps.</p></blockquote>\n<p>Saddington will continue to polish Pressgram&#8217;s publishing features and focus on making the app better in the long term. At this time, he doesn&#8217;t have plans to expand the app&#8217;s audience to Android, although he&#8217;s open to the idea. &#8220;I simply don&#8217;t have time at this very moment to give it much thought or development time (or project manage a team that could help),&#8221; he said.</p>\n<p>I can&#8217;t help but wonder whether or not someone would have already built an Android app if the original app were open source. Ultimately, licensing is a personal decision for an engineer, which comes down to philosophy, workflow and communities. Saddington said that it has been refreshing and healthy for him to engage in other online cultures and connect with other developer communities.</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/desk-pm-icon-brand.png" rel="prettyphoto[19852]"><img src="http://wptavern.com/wp-content/uploads/2014/03/desk-pm-icon-brand.png" alt="desk-pm-icon-brand" width="256" height="256" class="alignright size-full wp-image-19980" /></a>He&#8217;s currently working on a new desktop publishing client called <a href="http://desk.pm" target="_blank">Desk PM</a>, which will support Markdown. The app enables you to publish to various platforms from a desktop app with only the bare necessities. Desk PM makes use of the Obj-C code from Pressgram, given that they share all the same integration points with publishing tools. Saddington will continue to support Pressgram and will draw on that experience to roll out a new desktop app for publishing to multiple platforms.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 28 Mar 2014 22:01:05 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:35;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:102:"WordPress.tv: Kathryn Presner: Help Me Help You: The Art And Science Of Getting Good WordPress Support";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33392";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:118:"http://wordpress.tv/2014/03/28/kathryn-presner-help-me-help-you-the-art-and-science-of-getting-good-wordpress-support/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:752:"<div id="v-78NB6yjI-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33392/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33392/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33392&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/28/kathryn-presner-help-me-help-you-the-art-and-science-of-getting-good-wordpress-support/"><img alt="Kathryn Presner: Help Me Help You: The Art And Science Of Getting Good WordPress Support" src="http://videos.videopress.com/78NB6yjI/video-f7a258dd35_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 28 Mar 2014 18:44:18 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:36;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:100:"WordPress.tv: Stacey Harris: Hit Publish, Now What? How To Promote Your Content Through Social Media";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33975";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:115:"http://wordpress.tv/2014/03/28/stacey-harris-hit-publish-now-what-how-to-promote-your-content-through-social-media/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:747:"<div id="v-9uiBgjK3-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33975/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33975/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33975&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/28/stacey-harris-hit-publish-now-what-how-to-promote-your-content-through-social-media/"><img alt="Stacey Harris: Hit Publish, Now What? How To Promote Your Content Through Social Media" src="http://videos.videopress.com/9uiBgjK3/video-449481d107_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 28 Mar 2014 18:19:08 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:37;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:63:"WordPress.tv: Michael Corkum: 3.5 Ways To Make Your Life Easier";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33301";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:80:"http://wordpress.tv/2014/03/28/michael-corkum-3-5-ways-to-make-your-life-easier/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:675:"<div id="v-CliCuT5S-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33301/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33301/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33301&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/28/michael-corkum-3-5-ways-to-make-your-life-easier/"><img alt="Michael Corkum: 3.5 Ways To Make Your Life Easier" src="http://videos.videopress.com/CliCuT5S/video-926d5a0a2d_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 28 Mar 2014 18:02:21 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:38;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:78:"WPTavern: Underscores for EDD: A Free Starter Theme for Easy Digital Downloads";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19905";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:198:"http://wptavern.com/underscores-for-edd-a-free-starter-theme-for-easy-digital-downloads?utm_source=rss&utm_medium=rss&utm_campaign=underscores-for-edd-a-free-starter-theme-for-easy-digital-downloads";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:3438:"<p>Over the past two years, <a href="https://easydigitaldownloads.com/" target="_blank">Easy Digital Downloads</a> has become a dominant player among WordPress plugins for selling digital products. EDD has been downloaded nearly 300,000 times due to its developer-friendly codebase and comprehensive set of features tailored to digital stores.</p>\n<p>While there are several dozen EDD-ready <a href="https://easydigitaldownloads.com/themes" target="_blank">themes</a> available, many developers prefer to build their own in order to create a unique design and incorporate custom features. <a href="http://buildwpyourself.com/downloads/_s-easy-digital-downloads/" target="_blank">Underscores for EDD</a> is a free starter theme that makes it easy to develop EDD themes.</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/edd_s.png" rel="prettyphoto[19905]"><img src="http://wptavern.com/wp-content/uploads/2014/03/edd_s.png" alt="edd_s" width="800" height="351" class="aligncenter size-full wp-image-19921" /></a></p>\n<p>Created by WordPress developer <a href="http://seandavis.co/" target="_blank">Sean Davis</a>, the theme incorporates EDD-specific templates into Automattic&#8217;s <a href="http://underscores.me/" target="_blank">Underscores</a> theme to lay a styleless foundation for your digital store. &#8220;Every time I build a WordPress theme with _s and integrate it with EDD, I do a couple of hours of dirty work,&#8221; Davis said. &#8220;No more. All the dirty work is done here in this starter theme.&#8221;</p>\n<p>Underscores for EDD takes care of several time-intensive aspects of building a custom theme, including page templates for all the default EDD pages and a members area template. The theme has a grid-ready storefront template for digital downloads, which is a common layout for EDD stores.</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/s-edd-store.png" rel="prettyphoto[19905]"><img src="http://wptavern.com/wp-content/uploads/2014/03/s-edd-store.png" alt="s-edd-store" width="1137" height="643" class="aligncenter size-full wp-image-19930" /></a></p>\n<p>Davis has written in several theme customizer options for manipulating EDD-specific output in addition to regular blog settings. This makes it easy to customize basic settings for your storefront.</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/s-edd-customizer-store.png" rel="prettyphoto[19905]"><img src="http://wptavern.com/wp-content/uploads/2014/03/s-edd-customizer-store.png" alt="s-edd-customizer-store" width="1114" height="699" class="aligncenter size-full wp-image-19932" /></a></p>\n<p>Underscores for EDD also includes a sidebar for download pages with download information at the top, a full _s CSS reset, basic responsive styles and support for <a href="http://fontawesome.io/icons/" target="_blank">Font Awesome</a> icons.</p>\n<p>This theme gives you a big head start when developing for Easy Digital Downloads, especially if you&#8217;re just getting started creating custom storefronts. It includes all the templates you need so that the only thing left to do is add your CSS. For more screenshots and instructions on using Underscores for EDD, check out the theme&#8217;s <a href="http://buildwpyourself.com/downloads/_s-easy-digital-downloads/" target="_blank">homepage</a> and download it from <a href="https://github.com/sdavis2702/_s-easy-digital-downloads" target="_blank">Github</a>.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 28 Mar 2014 07:36:25 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:39;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:86:"WPTavern: BuddyPress 2.0 to Add Better Spam Management Capabilities for Administrators";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19893";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:216:"http://wptavern.com/buddypress-2-0-to-add-better-spam-management-capabilities-for-administrators?utm_source=rss&utm_medium=rss&utm_campaign=buddypress-2-0-to-add-better-spam-management-capabilities-for-administrators";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:1967:"<p>BuddyPress 2.0 is due in approximately three weeks. The release <a href="https://buddypress.trac.wordpress.org/roadmap" target="_blank">roadmap</a> shows it as being 74% complete. In addition to <a href="http://wptavern.com/big-performance-improvements-coming-to-buddypress-2-0" target="_blank">big performance improvements</a>, this release will introduce several new WordPress admin tools to speed up common maintenance tasks for community managers.</p>\n<p>An <a href="https://buddypress.trac.wordpress.org/changeset/8174/" target="_blank">update</a> committed today makes it easier for administrators to mark users as ham/spam within the admin users panel. WordPress multisite administrators will already be familiar with this functionality, as it is native to network installations. BuddyPress 2.0 will make it possible for single site administrators to spam/ham users in the same way.</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/mark-as-spam.jpg" rel="prettyphoto[19893]"><img src="http://wptavern.com/wp-content/uploads/2014/03/mark-as-spam.jpg" alt="mark-as-spam" width="810" height="388" class="aligncenter size-full wp-image-19908" /></a></p>\n<p>Having this capability in the admin is vital to keeping spammers at bay in an instance where a single site installation might have the front-end settings component turned off. Non-multisite admins would have no way to spam/unspam users, as BuddyPress developer Boone Gorges explained in the commit <a href="https://buddypress.trac.wordpress.org/changeset/8174/" target="_blank">message</a>. This change makes the spam/ham tools available to administrators at all times.</p>\n<p>Spammers will always have WordPress and BuddyPress sites among their favorite targets. While these changes coming in version 2.0 don&#8217;t actually do anything to reduce the onslaught of spam, the burden of managing a surge is easier to handle with the ham/spam user capability added to the WordPress admin.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 27 Mar 2014 22:17:14 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:40;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:71:"WPTavern: The Dangers Of Using WordPress Plugins From Untrusted Sources";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19886";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:186:"http://wptavern.com/the-dangers-of-using-wordpress-plugins-from-untrusted-sources?utm_source=rss&utm_medium=rss&utm_campaign=the-dangers-of-using-wordpress-plugins-from-untrusted-sources";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2890:"<p>The folks over at Sucuri have reminded us once again why it&#8217;s important to only download plugins from trusted sources. In a <a title="http://blog.sucuri.net/2014/03/unmasking-free-premium-wordpress-plugins.html" href="http://blog.sucuri.net/2014/03/unmasking-free-premium-wordpress-plugins.html">disturbing post</a> published on the Sucuri blog, Denis Sinegubko highlights the dangers of using plugins from untrusted sources.</p>\n<blockquote><p>In this post, we’ll talk about “patched” malicious premium plugins. We’ll talk about what they do, how they work, and about websites that build their businesses around stolen WordPress themes and plugins.</p></blockquote>\n<p>The article contains a lot of great information but it classifies commercial plugins being available for free as <em>stolen plugins</em>. If a commercial plugin is licensed under the GPL, the code can&#8217;t be stolen. There are always people looking to get something for nothing which is why malicious developers will always have some success using free versions of commercial plugins.</p>\n<p>While users are getting commercial plugins for free, they may also be getting backdoors and malicious software. This is not a new problem and it doesn&#8217;t affect just plugins. In 2009, Leland Fiegel published a screencast that shows how dangerous it is to use free themes discovered by Google.</p>\n<p><span class="embed-youtube"></span></p>\n<p>The <a title="http://wordpress.org/plugins/" href="http://wordpress.org/plugins/">WordPress plugin repository</a> is the most trustworthy place to download plugins. There are a team of volunteers that review plugins to make sure they abide by a <a title="http://wordpress.org/plugins/about/guidelines/" href="http://wordpress.org/plugins/about/guidelines/">strict set of guidelines</a> before they&#8217;re added. The repository is constantly under the watchful eyes of the community and if anything malicious is added to a plugin after it&#8217;s been approved, it&#8217;s removed until it&#8217;s fixed.</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/01/wpvsgithub.jpg" rel="prettyphoto[19886]"><img class="aligncenter size-large wp-image-15216" alt="WordPress Versus Github" src="http://wptavern.com/wp-content/uploads/2014/01/wpvsgithub-500x185.jpg" width="500" height="185" /></a></p>\n<p>More and more plugin developers are moving their plugins over to <a title="https://github.com/" href="https://github.com/">Github</a>. If you&#8217;re going to use a plugin from Github, research the author and make sure they&#8217;re legitimate. Check to see if the plugin is also available on the plugin repository since development can be synchronized between the two. The best advice is to purchase plugins from the original source. This way, you know what you&#8217;re getting and you&#8217;ll be able to receive support if you run into problems.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 27 Mar 2014 21:10:07 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Jeff Chandler";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:41;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:75:"WPTavern: WordCamp Miami to Host Free WordPress Beginners Workshop for Kids";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19858";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:194:"http://wptavern.com/wordcamp-miami-to-host-free-wordpress-beginners-workshop-for-kids?utm_source=rss&utm_medium=rss&utm_campaign=wordcamp-miami-to-host-free-wordpress-beginners-workshop-for-kids";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2084:"<div id="attachment_19878" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/03/kids.jpg" rel="prettyphoto[19858]"><img src="http://wptavern.com/wp-content/uploads/2014/03/kids.jpg" alt="photo credit: Lupuca - cc" width="1024" height="478" class="size-full wp-image-19878" /></a><p class="wp-caption-text">photo credit: <a href="http://www.flickr.com/photos/lupuca/8720604364/">Lupuca</a> &#8211; <a href="http://creativecommons.org/licenses/by-sa/2.0/">cc</a></p></div>\n<p><a href="http://2014.miami.wordcamp.org/" target="_blank">WordCamp Miami</a> is nearly sold out with an estimated 700 WordPress fans to be in attendance. The event is celebrating its fifth anniversary this year and the organization team has announced its first <a href="http://2014.miami.wordcamp.org/wordcamp-miami-kids-workshop/" target="_blank">WordPress beginner’s workshop for kids</a>.</p>\n<p>Tammie Lister and I will be leading the workshop, which will introduce kids and their parents to publishing with WordPress. We&#8217;ll walk them through the process of setting up and customizing a blog on WordPress.com. This will be a fun, interactive session where everyone will be encouraged to participate and ask questions.</p>\n<p>Although the session is geared toward kids aged 8-12, it will be open to any age. Children under 18 can attend for free with a parent who has a ticket to WordCamp Miami. The workshop will be held Sunday morning, May 11th, which also coincides with Mother&#8217;s Day.</p>\n<p>The last remaining tickets to WordCamp Miami are selling fast. If you have kids, your ticket includes this family-oriented WordPress beginner&#8217;s workshop. Get in touch with WordCamp Miami organizers via email (<a href="mailto:miami@wordcamp.org">miami@wordcamp.org</a>) if you&#8217;d like to attend.</p>\n<p>For those of you who have children in the 8-12 age range who use WordPress, we&#8217;d love to hear from you about topics that would be most beneficial. When it comes to publishing, what does the next generation of WordPress bloggers want to know?</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 27 Mar 2014 19:33:22 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:42;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:59:"WordPress.tv: Kirk Wight: Fundamentals Of Theme Development";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33966";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:76:"http://wordpress.tv/2014/03/27/kirk-wight-fundamentals-of-theme-development/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:667:"<div id="v-i3IjF5NZ-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33966/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33966/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33966&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/27/kirk-wight-fundamentals-of-theme-development/"><img alt="Kirk Wight: Fundamentals Of Theme Development" src="http://videos.videopress.com/i3IjF5NZ/video-123a6a9feb_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 27 Mar 2014 18:45:57 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:43;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:91:"WordPress.tv: Carolyn Sonnek: Podcasting With WordPress: Getting Started And Best Practices";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33964";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:107:"http://wordpress.tv/2014/03/27/carolyn-sonnek-podcasting-with-wordpress-getting-started-and-best-practices/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:730:"<div id="v-quA2YELF-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33964/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33964/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33964&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/27/carolyn-sonnek-podcasting-with-wordpress-getting-started-and-best-practices/"><img alt="Carolyn Sonnek: Podcasting With WordPress: Getting Started And Best Practices" src="http://videos.videopress.com/quA2YELF/video-c570b545a9_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 27 Mar 2014 18:25:04 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:44;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:76:"WordPress.tv: Christoph Trappe: Getting Started With WordPress For Beginners";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33162";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:93:"http://wordpress.tv/2014/03/27/christoph-trappe-getting-started-with-wordpress-for-beginners/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:707:"<div id="v-aEAzn0Oe-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33162/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33162/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33162&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/27/christoph-trappe-getting-started-with-wordpress-for-beginners/"><img alt="Christoph Trappe: Getting Started With WordPress For Beginners" src="http://videos.videopress.com/aEAzn0Oe/video-11149f0f1b_scruberthumbnail_0.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 27 Mar 2014 18:21:04 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:45;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:131:"WordPress.tv: Xavier Tellier et Samy Ranavela : Étude de cas – utiliser WordPress multisite pour un media télévisuel français";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=34096";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:139:"http://wordpress.tv/2014/03/27/xavier-tellier-et-samy-ranavela-etude-de-cas-utiliser-wordpress-multisite-pour-un-media-televisuel-francais/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:733:"<div id="v-2lhHlRSR-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/34096/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/34096/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=34096&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/27/xavier-tellier-et-samy-ranavela-etude-de-cas-utiliser-wordpress-multisite-pour-un-media-televisuel-francais/"><img alt="08 &#8211; Tellier-Ranavela-Conf-WCParis2014.mp4" src="http://videos.videopress.com/2lhHlRSR/video-e9ff5c124f_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 27 Mar 2014 16:03:02 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:46;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:63:"WPTavern: Monster Widget: A Useful WordPress Theme Testing Tool";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19833";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:168:"http://wptavern.com/monster-widget-a-useful-wordpress-theme-testing-tool?utm_source=rss&utm_medium=rss&utm_campaign=monster-widget-a-useful-wordpress-theme-testing-tool";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2021:"<p>Activating and deactivating widgets can become quite tedious when testing WordPress themes. <a href="http://wordpress.org/plugins/monster-widget/" target="_blank">Monster Widget</a> is a handy plugin, created by the folks at Automattic. It adds all of the default WordPress widgets to a &#8220;monster&#8221; widget that you can deploy as one collective instance.</p>\n<div id="attachment_19838" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/03/monsterwidget.png" rel="prettyphoto[19833]"><img src="http://wptavern.com/wp-content/uploads/2014/03/monsterwidget.png" alt="Monster Widget" width="800" height="647" class="size-full wp-image-19838" /></a><p class="wp-caption-text">Monster Widget</p></div>\n<p>Once the widget is added to your sidebar, you&#8217;ll see all of the following standard core widgets on the frontend:<br />\n<a href="http://wptavern.com/wp-content/uploads/2014/03/widgets.png" rel="prettyphoto[19833]"><img src="http://wptavern.com/wp-content/uploads/2014/03/widgets-300x263.png" alt="widgets" width="300" height="263" class="alignright size-medium wp-image-19842" /></a></p>\n<ul>\n<li>Archives List and Dropdown</li>\n<li>Calendar</li>\n<li>Categories List and Drowpdown</li>\n<li>Pages</li>\n<li>Meta</li>\n<li>Recent Comments</li>\n<li>Recent Posts</li>\n<li>RSS</li>\n<li>Search</li>\n<li>Text (with images and text)</li>\n<li>Tag Cloud</li>\n<li>Nav Menu</li>\n<li>Blogroll</li>\n</ul>\n<p>If you&#8217;re creating a WordPress theme for public distribution or for a client, the Monster Widget will give you an instant picture of how different kinds of widgets will display in your theme.</p>\n<p>Once you&#8217;re done testing, you can easily remove all of the widgets in one click. The plugin was not created for production use but can save you quite a bit of time (at least a couple dozen clicks) during theme development and testing. Download the <a href="http://wordpress.org/plugins/monster-widget/" target="_blank">Monster Widget</a> plugin from WordPress.org.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 27 Mar 2014 04:49:21 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:47;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:78:"WPTavern: WordPress Security Plugin Roundtable On Upcoming Episode Of WPWeekly";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19734";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:200:"http://wptavern.com/wordpress-security-plugin-roundtable-on-upcoming-episode-of-wpweekly?utm_source=rss&utm_medium=rss&utm_campaign=wordpress-security-plugin-roundtable-on-upcoming-episode-of-wpweekly";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:2258:"<p>Earlier this month, <a title="http://wptavern.com/wpweekly-episode-140-dre-armeda-and-tony-perez-of-sucuri" href="http://wptavern.com/wpweekly-episode-140-dre-armeda-and-tony-perez-of-sucuri">we interviewed</a> Dre Armeda and Tony Perez of <a title="http://sucuri.net/" href="http://sucuri.net/">Sucuri.net</a> to talk about WordPress security. Both guests shared information from a services perspective. We received a lot of positive feedback on the amount information presented in the episode. We&#8217;re going to turn the tables and discuss securing WordPress from the perspective of using plugins.</p>\n<div id="attachment_19827" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/03/SecurityRoundTableFeaturedImage.png" rel="prettyphoto[19734]"><img class="size-full wp-image-19827" alt="Security Plugin Roundtable" src="http://wptavern.com/wp-content/uploads/2014/03/SecurityRoundTableFeaturedImage.png" width="637" height="240" /></a><p class="wp-caption-text">photo credit: <a href="http://www.flickr.com/photos/stuckincustoms/3838460593/">Stuck in Customs</a> &#8211; <a href="http://creativecommons.org/licenses/by-nc-sa/2.0/">cc</a></p></div>\n<p>On <strong>Friday April 4th</strong>, we&#8217;ll be hosting a WordPress security plugin roundtable. Guests scheduled to appear are:</p>\n<ul>\n<li>Chris Wiegman &#8211; Lead Developer of <a title="https://wordpress.org/plugins/better-wp-security/" href="https://wordpress.org/plugins/better-wp-security/">iThemes Security</a></li>\n<li>Regina Smola &#8211; Founder of <a title="http://wpsecuritylock.com/" href="http://wpsecuritylock.com/">WPSecurityLock</a></li>\n<li>Brennen Byrne &#8211; Founder and CEO of <a title="https://getclef.com/" href="https://getclef.com/">Clef</a></li>\n<li>Sam Hotchkiss &#8211; Founder of <a title="https://bruteprotect.com/" href="https://bruteprotect.com/">BruteProtect</a></li>\n</ul>\n<p>The goal of this episode is to inform users what security plugins are capable of and why you shouldn&#8217;t be afraid to use them. We&#8217;ll also cover a wide range of good security practices you should be aware of. The guests are monitoring the comments on this post and will answer any questions you have about their plugins or services.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 26 Mar 2014 22:55:36 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Jeff Chandler";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:48;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:82:"WPTavern: Blogging Tip: How to Link to a Dubious Website Without Improving Its SEO";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wptavern.com/?p=19728";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:206:"http://wptavern.com/blogging-tip-how-to-link-to-a-dubious-website-without-improving-its-seo?utm_source=rss&utm_medium=rss&utm_campaign=blogging-tip-how-to-link-to-a-dubious-website-without-improving-its-seo";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:3459:"<div id="attachment_19821" class="wp-caption aligncenter"><a href="http://wptavern.com/wp-content/uploads/2014/03/snake-oil.jpg" rel="prettyphoto[19728]"><img src="http://wptavern.com/wp-content/uploads/2014/03/snake-oil.jpg" alt="photo credit: opacity - cc" width="1024" height="499" class="size-full wp-image-19821" /></a><p class="wp-caption-text">photo credit: <a href="http://www.flickr.com/photos/opacity/2771769725/">opacity</a> &#8211; <a href="http://creativecommons.org/licenses/by-nc-nd/2.0/">cc</a></p></div>\n<p>In the course of blogging about important issues, there are times when you may need to link to dubious or objectionable material in order to provide context for your post. For example, some subject matter may necessitate a reference to racist material or a fraudulent business.</p>\n<p>Unfortunately, when it comes to SEO, the age old maxim &#8220;Any press is good press&#8221; still proves to be true. By linking to a dubious website you are involuntarily strengthening the site&#8217;s position in search engines.</p>\n<p>If you don&#8217;t want to be complicit in promoting a site of ill-repute, there&#8217;s a service that you can use to deny these sites the SEO benefits of your link. <a href="http://www.donotlink.com/" target="_blank">Donotlink</a> is a site where you can paste in links to shady websites and receive a custom URL that will not not improve their search engine rankings.</p>\n<p><a href="http://wptavern.com/wp-content/uploads/2014/03/donotlink.jpg" rel="prettyphoto[19728]"><img src="http://wptavern.com/wp-content/uploads/2014/03/donotlink.jpg" alt="donotlink" width="773" height="278" class="aligncenter size-full wp-image-19812" /></a></p>\n<p>It works in a similar way to your standard url shorteners, except that it goes one step further to route questionable links through a unique intermediate URL which then forwards the visitor to the final destination via Javascript.</p>\n<p>Donotlink employs three additional methods to prevent search engines from crawling the questionable site:</p>\n<ul>\n<li>Blocks the URL in its robots.txt file, so (search engine) robots are discouraged from crawling it</li>\n<li>Adds the &#8220;nofollow&#8221; attribute to the link</li>\n<li>If a known robot decides to crawl the link, Donotlink will identify it and serve it a blank page (403 Forbidden) instead of redirecting to the url.</li>\n</ul>\n<p>Who might use donotlink? The site offers a few secenarios wherein one might consider using the service:</p>\n<blockquote><p>Skeptics, bloggers, journalists and friends on social media use donotlink to link to scams, pseudoscience, misinformation, alternative medicine, conspiracy theories, racist / sexist blog posts, etc. without improving the search engine position of the site they are discussing.</p></blockquote>\n<p>If you want to use the service but don&#8217;t want to be bothered to visit the site each time, you can structure your URL like so:</p>\n<pre>http://www.donotlink.com/www.example.com/shady/stuff.html</pre>\n<p>If you&#8217;re linking to questionable material quite often or simply want to take a principled stand against the spread of misinformation, <a href="http://www.donotlink.com/" target="_blank">Donotlink</a> is an easy way to prevent your site from sending &#8220;Google juice&#8221; to the bad guys. This seems like it would be an easy WordPress plugin to create and could be useful for publications that help bring attention to shady practices.</p>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 26 Mar 2014 18:44:35 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Gooding";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:49;a:6:{s:4:"data";s:13:"\n	\n	\n	\n	\n	\n	\n";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:59:"WordPress.tv: Rami Sayar: Professional WordPress Deployment";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:28:"http://wordpress.tv/?p=33389";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:76:"http://wordpress.tv/2014/03/26/rami-sayar-professional-wordpress-deployment/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:667:"<div id="v-awXdDgoB-1" class="video-player">\n</div><br />  <a rel="nofollow" href="http://feeds.wordpress.com/1.0/gocomments/wptv.wordpress.com/33389/"><img alt="" border="0" src="http://feeds.wordpress.com/1.0/comments/wptv.wordpress.com/33389/" /></a> <img alt="" border="0" src="http://stats.wordpress.com/b.gif?host=wordpress.tv&blog=5089392&post=33389&subd=wptv&ref=&feed=1" width="1" height="1" /><div><a href="http://wordpress.tv/2014/03/26/rami-sayar-professional-wordpress-deployment/"><img alt="Rami Sayar: Professional WordPress Deployment" src="http://videos.videopress.com/awXdDgoB/video-e6961d4683_std.original.jpg" width="160" height="120" /></a></div>";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Wed, 26 Mar 2014 18:44:09 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"WordPress.tv";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}}}}}}}}}}}}s:4:"type";i:128;s:7:"headers";a:9:{s:6:"server";s:5:"nginx";s:4:"date";s:29:"Thu, 03 Apr 2014 01:58:15 GMT";s:12:"content-type";s:8:"text/xml";s:14:"content-length";s:6:"157510";s:10:"connection";s:5:"close";s:4:"vary";s:15:"Accept-Encoding";s:13:"last-modified";s:29:"Thu, 03 Apr 2014 01:45:13 GMT";s:4:"x-nc";s:11:"HIT lax 250";s:13:"accept-ranges";s:5:"bytes";}s:5:"build";s:14:"20130910210210";}', 'no');
INSERT INTO `wp_options` (`option_id`, `option_name`, `option_value`, `autoload`) VALUES
(703, '_transient_timeout_feed_mod_867bd5c64f85878d03a060509cd2f92c', '1396533493', 'no'),
(704, '_transient_feed_mod_867bd5c64f85878d03a060509cd2f92c', '1396490293', 'no'),
(705, '_transient_timeout_feed_b9388c83948825c1edaef0d856b7b109', '1396533493', 'no'),
(706, '_transient_feed_b9388c83948825c1edaef0d856b7b109', 'a:4:{s:5:"child";a:1:{s:0:"";a:1:{s:3:"rss";a:1:{i:0;a:6:{s:4:"data";s:3:"\n	\n";s:7:"attribs";a:1:{s:0:"";a:1:{s:7:"version";s:3:"2.0";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:1:{s:0:"";a:1:{s:7:"channel";a:1:{i:0;a:6:{s:4:"data";s:72:"\n		\n		\n		\n		\n		\n		\n				\n\n		\n		\n		\n		\n		\n		\n		\n		\n		\n		\n		\n		\n		\n		\n		\n\n	";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:39:"WordPress Plugins » View: Most Popular";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:44:"http://wordpress.org/plugins/browse/popular/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:39:"WordPress Plugins » View: Most Popular";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"language";a:1:{i:0;a:5:{s:4:"data";s:5:"en-US";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 03 Apr 2014 01:42:42 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:9:"generator";a:1:{i:0;a:5:{s:4:"data";s:25:"http://bbpress.org/?v=1.1";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"item";a:15:{i:0;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:7:"Akismet";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:45:"http://wordpress.org/plugins/akismet/#post-15";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 09 Mar 2007 22:11:30 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"15@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:98:"Akismet checks your comments against the Akismet web service to see if they look like spam or not.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Matt Mullenweg";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:1;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:22:"WordPress SEO by Yoast";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:53:"http://wordpress.org/plugins/wordpress-seo/#post-8321";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 01 Jan 2009 20:34:44 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:34:"8321@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:131:"Improve your WordPress SEO: Write better content and have a fully optimized WordPress site using the WordPress SEO plugin by Yoast.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Joost de Valk";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:2;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:19:"Google XML Sitemaps";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:63:"http://wordpress.org/plugins/google-sitemap-generator/#post-132";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 09 Mar 2007 22:31:32 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"132@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:105:"This plugin will generate a special XML sitemap which will help search engines to better index your blog.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:5:"Arnee";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:3;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:14:"Contact Form 7";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:54:"http://wordpress.org/plugins/contact-form-7/#post-2141";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 02 Aug 2007 12:45:03 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:34:"2141@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:54:"Just another contact form plugin. Simple but flexible.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:16:"Takayuki Miyoshi";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:4;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:24:"Jetpack by WordPress.com";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:48:"http://wordpress.org/plugins/jetpack/#post-23862";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 20 Jan 2011 02:21:38 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:35:"23862@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:104:"Supercharge your WordPress site with powerful features previously only available to WordPress.com users.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:9:"Tim Moore";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:5;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:33:"WooCommerce - excelling eCommerce";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:52:"http://wordpress.org/plugins/woocommerce/#post-29860";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 05 Sep 2011 08:13:36 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:35:"29860@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:97:"WooCommerce is a powerful, extendable eCommerce plugin that helps you sell anything. Beautifully.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:9:"WooThemes";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:6;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:46:"iThemes Security (formerly Better WP Security)";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:59:"http://wordpress.org/plugins/better-wp-security/#post-21738";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 22 Oct 2010 22:06:05 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:35:"21738@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:63:"The easiest, most effective way to secure WordPress in seconds.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Chris Wiegman";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:7;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:15:"NextGEN Gallery";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:55:"http://wordpress.org/plugins/nextgen-gallery/#post-1169";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 23 Apr 2007 20:08:06 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:34:"1169@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:120:"The most popular WordPress gallery plugin and one of the most popular plugins of all time with over 9 million downloads.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:9:"Alex Rabe";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:8;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:18:"WordPress Importer";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:59:"http://wordpress.org/plugins/wordpress-importer/#post-18101";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 20 May 2010 17:42:45 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:35:"18101@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:101:"Import posts, pages, comments, custom fields, categories, tags and more from a WordPress export file.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"Brian Colinger";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:9;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:21:"Really Simple CAPTCHA";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:61:"http://wordpress.org/plugins/really-simple-captcha/#post-9542";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 09 Mar 2009 02:17:35 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:34:"9542@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:138:"Really Simple CAPTCHA is a CAPTCHA module intended to be called from other plugins. It is originally created for my Contact Form 7 plugin.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:16:"Takayuki Miyoshi";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:10;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:20:"MailPoet Newsletters";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:59:"http://wordpress.org/plugins/wysija-newsletters/#post-32629";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 02 Dec 2011 17:09:16 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:35:"32629@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:94:"Send newsletters, post notifications or autoresponders from WordPress easily, and beautifully.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:14:"MailPoet Staff";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:11;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:19:"All in One SEO Pack";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:58:"http://wordpress.org/plugins/all-in-one-seo-pack/#post-753";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 30 Mar 2007 20:08:18 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:33:"753@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:126:"All in One SEO Pack is a WordPress SEO plugin to automatically optimize your WordPress blog for Search Engines such as Google.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:8:"uberdose";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:12;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:33:"Google Analytics Dashboard for WP";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:74:"http://wordpress.org/plugins/google-analytics-dashboard-for-wp/#post-50539";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Sun, 10 Mar 2013 17:07:11 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:35:"50539@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:148:"Displays Google Analytics Reports and Real-Time Statistics in your Dashboard. Automatically inserts the tracking code in every page of your website.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Alin Marcu";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:13;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:19:"Broken Link Checker";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:59:"http://wordpress.org/plugins/broken-link-checker/#post-2441";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 08 Oct 2007 21:35:04 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:34:"2441@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:131:"This plugin will check your posts, comments and other content for broken links and missing images, and notify you if any are found.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:11:"Janis Elsts";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:14;a:6:{s:4:"data";s:30:"\n			\n			\n			\n			\n			\n			\n					";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:2:{s:0:"";a:5:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:22:"Advanced Custom Fields";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:63:"http://wordpress.org/plugins/advanced-custom-fields/#post-25254";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 17 Mar 2011 04:07:30 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:35:"25254@http://wordpress.org/plugins/";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:150:"Fully customise WordPress edit screens with powerful fields. Boasting a professional interface and a powerful API, it’s a must have for any web deve";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"elliotcondon";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}}}s:27:"http://www.w3.org/2005/Atom";a:1:{s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:0:"";s:7:"attribs";a:1:{s:0:"";a:3:{s:4:"href";s:45:"http://wordpress.org/plugins/rss/view/popular";s:3:"rel";s:4:"self";s:4:"type";s:19:"application/rss+xml";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}}}}}}}}s:4:"type";i:128;s:7:"headers";a:10:{s:6:"server";s:5:"nginx";s:4:"date";s:29:"Thu, 03 Apr 2014 01:58:17 GMT";s:12:"content-type";s:23:"text/xml; charset=UTF-8";s:10:"connection";s:5:"close";s:4:"vary";s:15:"Accept-Encoding";s:7:"expires";s:29:"Thu, 03 Apr 2014 02:17:42 GMT";s:13:"cache-control";s:0:"";s:6:"pragma";s:0:"";s:13:"last-modified";s:31:"Thu, 03 Apr 2014 01:42:42 +0000";s:4:"x-nc";s:11:"HIT lax 250";}s:5:"build";s:14:"20130910210210";}', 'no'),
(707, '_transient_timeout_feed_mod_b9388c83948825c1edaef0d856b7b109', '1396533493', 'no'),
(708, '_transient_feed_mod_b9388c83948825c1edaef0d856b7b109', '1396490293', 'no'),
(709, '_transient_timeout_plugin_slugs', '1396596830', 'no'),
(710, '_transient_plugin_slugs', 'a:7:{i:0;s:33:"addthis/addthis_social_widget.php";i:1;s:55:"custom-css-manager-plugin/custom-css-manager-loader.php";i:2;s:55:"display-categories-widget/display_categories_widget.php";i:3;s:53:"facebook-like-box-widget/facebook-like-box-widget.php";i:4;s:39:"syntaxhighlighter/syntaxhighlighter.php";i:5;s:51:"wordpress-popular-posts/wordpress-popular-posts.php";i:6;s:42:"yet-another-related-posts-plugin/yarpp.php";}', 'no'),
(711, '_transient_timeout_dash_4077549d03da2e451c8b5f002294ff51', '1396533494', 'no'),
(712, '_transient_dash_4077549d03da2e451c8b5f002294ff51', '<div class="rss-widget"><ul><li><a class=''rsswidget'' href=''http://wordpress.org/news/2014/03/wordpress-3-9-beta-3/'' title=''The third (and maybe last) beta of WordPress 3.9 is now available for download. Beta 3 includes more than 200 changes, including: New features like live widget previews and the new theme installer are now more ready for prime time, so check ‘em out. UI refinements when editing images and when working with media in the editor. We’ve also brought […]''>WordPress 3.9 Beta 3</a> <span class="rss-date">March 29, 2014</span><div class=''rssSummary''>The third (and maybe last) beta of WordPress 3.9 is now available for download. Beta 3 includes more than 200 changes, including: New features like live widget previews and the new theme installer are now more ready for prime time, so check ‘em out. UI refinements when editing images and when working with media in the editor. We’ve also brought […]</div></li></ul></div><div class="rss-widget"><ul><li><a class=''rsswidget'' href=''http://wptavern.com/introduction-to-underscores-a-wordpress-starter-theme-with-konstantin-obenland?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=introduction-to-underscores-a-wordpress-starter-theme-with-konstantin-obenland'' title=''Without much in the way of advertising, Underscores has become a popular choice for WordPress theme developers. To learn more about it, I asked Automattic employee, Konstantin Obenland, @obenland on Twitter, to explain what the theme is, how it got its name, and how people can contribute to the project. A Starter Theme Created by Automattic Why was Underscores created and how did it get its name? Ian Stewart tells the tale in detail in the announcement post for Underscores, but the gist of it is that Toolbox, the theme we used as a starter theme at the time, could not be updated without backwards compatibility concerns, and needed more drastic improvements. Since the fork underscores the new themes we build, we called it the Underscores Theme, or _s for short. Without a lot of advertising, Underscores seems to be a starting point for many developers. Why do you think that is? That is true, we haven’t done a lot of marketing for it yet. I think what developers really like is its simplicity and adherence to WordPress standards. Underscores comes from the combined experience of building themes for millions of users on WordPress.com, and creating default themes that ship with WordPress and have to work in all environments. This is paired with excellence in theming best practices and just enough functionality, markup, and styles to get started. This Is What Underscores Looks Like Activated Without Modifications When you download Underscores, there is very little to tear down or take away.  You can almost immediately dive into building your theme. We put a lot of thought into keeping it as lean as possible and still do when making decisions on new features and enhancements. Would you consider Underscores a starter theme, theme framework, or something else? Underscores is a starter theme. It is meant to be worked with, tweaked, and styled. It is not a framework or a parent theme to be extended. It is supposed to become a theme of its own, when finished. What is the ratio of Automattic developers contributing patches to Underscores versus contributions from the wider community? A Sampling Of Contributors To Underscores There have been 64 contributors on GitHub so far although GitHub only counts contributors who contributed through a Pull Request. Out of those 64, less than 20 are current or former Automatticians. I don’t have stats on the amount of Issues or Pull Requests opened, but the 2:1 ratio feels true for that too, maybe even 3:1. What projects does Automattic use Underscores for? O2 Is The Successor To The P2 Theme We use it for pretty much all projects where it makes sense to use a theme. Be it a new theme for the WordPress.com Theme Repository, a vertical like Portfolios, or a landing page for users of a certain mobile device. We even use it internally for the O2 theme, the successor of P2. Are themes more likely to be approved in a WordPress.com theme review if Underscores is used to build the theme?  Possibly. But not for the sake of using Underscores. Rather because the code quality of those themes is more likely to meet our expectations. Themes can be based on any kind of framework or starter theme as long as the code quality is right. We certainly don’t disqualify themes for not using it. What examples do you have of beautiful sites designed with Underscores? Have Baby. Need Stuff! Built Using Underscores There are plenty! Let’s start with Twenty Fourteen, the latest default theme. It was converted from Further, a premium theme based on _s. Every free theme and every premium theme by Automattic launched on WordPress.com in the last two years, are based on _s too. The official homepage of the Dallas Mavericks, Mark Jaquith’s Have Baby. Need Stuff!, this ebay landing page, and the Western University site are all made from _s. Not a lot of commonalities between them, even though they have the same foundation. If you had to convince a developer to use Underscores, what would you tell them? Take advantage of the 1000 hour head start tutorial to building your theme. Underscores is a proven, reliable foundation to start from, built with the knowledge and experience from running themes on millions of sites, and creating default themes for WordPress Core. If you feel _s is too bare bones for you or find yourself adding the same libraries every time you start a new project, fork _s on GitHub, add the desired libraries and use your fork as the starting point! How can people get involved to help improve the theme? We maintain _s on GitHub to make it as easy as possible for people to contribute. Involvement can range from sharing opinions about existing proposals, to creating a new issue with improvement suggestions, to opening pull requests with code changes. What one thing do you want people to know about Underscores? You really don’t need to know any PHP or be a programmer to be able to use Underscores. As long as you’re somewhat comfortable with CSS and some HTML, Underscores can help you build the next great WordPress theme! Stats Related To Underscores It’s worth noting that the following statistics are for a theme aimed at developers with little to no marketing efforts behind it.  185,000 recorded downloads from Underscores.me since September 5, 2012 although it’s likely 250,000 to 300,000 in total. A total of 15,500 downloads for all of March Downloaded every 3.3 minutes. This excludes zip downloads from GitHub, forks, and theme updates. It’s the 17th most starred PHP project on GitHub: It is 19th in the list of trending PHP repositories on GitHub this month.  If you’ve used Underscores for a project or client website, send us a link in the comments.''>WPTavern: Introduction To Underscores: A WordPress Starter Theme With Konstantin Obenland</a></li><li><a class=''rsswidget'' href=''http://wptavern.com/status-update-on-the-wordpress-front-end-editor-and-how-you-can-help?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=status-update-on-the-wordpress-front-end-editor-and-how-you-can-help'' title=''We’ve written about a number of alternate editors to WordPress for both editing and writing content. Sir Trevor WP, PrettyPress, Splitdown, and Barley to name a few. However, WordPress may soon have its own frontend editor built into core. WordPress Front-end Editor was proposed by Janneke Van Dorpe in late 2013, with the goal of merging the backend and frontend editors into one. After six months of development, I tested the plugin using a local server running WordPress 3.9 beta 3. Rough Around The Edges After installing WordPress Front-end Editor, it was hard to determine how to use it since the plugin doesn’t contain directions within the readme file. By trial and error, I was able to figure it out. When clicking the Edit Post link on the front end of the site, the admin bar displays a number of editing buttons such as bold, italicize, etc. In my tests, it wasn’t immediately clear what text or content became editable. Editor In Action Just about everything you can do in the visual editor can be accomplished with the inline editor. For example, you can use keyboard shortcuts to bold or italicize highlighted text. While you can change tags, categories, or access other options, there is a bug preventing them from displaying correctly. When previewing unpublished posts, both the active tab and the preview tab will load the front end of the site. This is a bug and has already been reported. One question I had concerning the editor is when would it be appropriate to use? It’s a great way to quickly edit typos or fix URLs without having to navigate to the backend of WordPress but that’s for content already published. I’m so used to creating content from the backend, it’s tough to imagine doing it any other way. When A Content Editor Crosses The Line I’m pleased to report that the editor is strictly tied to editing content. You can’t move widgets around, change the text within them, or change the site’s colors. Those tasks have been left to the theme customizer. I’m happy the team has made this decision since I believe enabling users to manipulate their theme with a content editor is crossing the line. How You Can Help The Project When I asked Dorpe what she needed help with the most, she responded, “We really need some people to help out with the development, because right now, I’m the only one working on it. We also really need a lot of people to test it and give feedback.” If during testing you run into a bug, please create a new issue on the plugin’s Github page. WordPress Front-end Editor The team meets every Tuesday, at 13:00 UTC-4 in the #wordpress-ui IRC channel. You can keep tabs on the project by subscribing to the front-end-editor tag used on the Make WordPress UI blog. The WordPress Backend May Become A Thing Of The Past If the WordPress Front-end Editor succeeds in its mission of bridging the gap between the backend and frontend of WordPress, it will revamp the way users create content in WordPress. The backend will become a thing of the past for some authors as they create and edit all of their content using the inline editor. Having the editor built into core would also give WordPress a feature other modern publishing platforms like Ghost, already have. There is no guarantee that the plugin will ever be merged into core but it’s an excellent example of one way to implement the feature into WordPress. Do you think having a frontend editor in WordPress would make content creation and editing easier? Can you see yourself using it as the primary method of creating content?''>WPTavern: Status Update On The WordPress Front-end Editor and How You Can Help</a></li><li><a class=''rsswidget'' href=''http://wptavern.com/10-free-ultra-minimalist-wordpress-themes?utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=10-free-ultra-minimalist-wordpress-themes'' title=''If you love to blog but don’t want a theme with clunky sliders and overloaded widget areas cluttering up your site, then chances are you’re on the hunt for the perfect minimalist WordPress theme. Finding a theme that provides a beautiful reading experience with an unobtrusive, high quality design is no simple task. You’ll end up wading through hundreds of themes. That’s why I’ve collected a few of the best minimalist WordPress themes from around the web. All of the themes featured here make liberal use of white space and display very little, if any, post meta. Remember that any of these themes can be even further stripped down to better reflect your spartan sensibilities. Create a child theme to preserve your ability to get updates, and then proceed to cut out post meta or anything that you feel is distracting to the reader. Tonal  Tonal is a content-focused theme from Automattic that sports a minimal design with large featured images. The theme supports post formats and can display images and videos at full width. The menu and widgets are hidden from sight in a pull-down panel. One particularly unique aspect of Tonal is its background adaptation feature. Select any solid background color and the theme will automatically modify your typography and other elements to preserve readability with the new background color. Demo | Download Casper  Casper is a free Ghost-style theme based on Underscores. It is essentially a port of Ghost’s default theme with WordPress-specific features added into the customizer for uploading your own logo, customizing the background and header images, text and social links. Demo | Download Lingonberry  Lingonberry is a beautifully-designed minimalist theme by Anders Noren. Check out our recent interview with him on achieving simplicity in WordPress theme design. The Lingonberry theme offers support for post formats. The hidden top menu pulls down navigation and a search bar. Demo | Download TinyPress  TinyPress is a mobile-friendly WordPress theme with bold headlines and a focus on readability. It includes matching social sharing buttons, styles for galleries and quotes, and a hidden menu that pops open a full page widget area when clicked. Demo | Download Gravit  Gravit is a bright, clean WordPress theme with support for post formats and large featured images. The theme has many options built into the customizer, including color controls for the post format icons, site title, text and background. Gravit also includes a unique “About Me” page design and template. Demo | Download Readly  Readly is a free theme from WP Shower that utilizes large fonts and supports post formats. It was designed for readability on all devices. The theme has several options built into the customizer, including the ability to change the theme color and add social links. You can also easily select between three pagination options: regular, load more, and infinite scroll. Demo | Download Aquarius  Aquarius is a retina-ready responsive theme that supports all standard post formats. Sidebar widgets are hidden from view with a slideout panel. Navigation is fixed and available at the top of the page as you scroll. Demo | Download Padhang  Padhang is a Javanesse word that means “bright.” This theme features a large header image and a single centered column for content. The custom header, background and colors can be changed via the theme customizer. Demo | Download wp-svbtle  WP-Svbtle is a theme inspired by the svbtle.com design. The theme options let you upload a custom image for the header logo or select from one of the included icons. The unique thing about WP-Svbtle is that the admin area and the theme are independent of each other. The theme includes a directory that provides a new writing dashboard with a zen style interface for composing new content. Demo | Download Hellish Simplicity  Hellish Simplicity is a theme created by Ryan Hellyer. It’s a clean, responsive theme that looks great on mobile devices. You can easily update the header text via the customizer. Demo | Download''>WPTavern: 10 Free Ultra Minimalist WordPress Themes</a></li></ul></div><div class="rss-widget"><ul><li class=''dashboard-news-plugin''><span>Popular Plugin:</span> <a href=''http://wordpress.org/plugins/woocommerce/'' class=''dashboard-news-plugin-link''>WooCommerce - excelling eCommerce</a></h5>&nbsp;<span>(<a href=''plugin-install.php?tab=plugin-information&amp;plugin=woocommerce&amp;_wpnonce=ee2c5f4e6e&amp;TB_iframe=true&amp;width=600&amp;height=800'' class=''thickbox'' title=''WooCommerce - excelling eCommerce''>Install</a>)</span></li></ul></div>', 'no'),
(770, '_site_transient_timeout_theme_roots', '1396510506', 'yes'),
(771, '_site_transient_theme_roots', 'a:1:{s:7:"refresh";s:7:"/themes";}', 'yes'),
(772, 'yarpp_version_info_timeout', '1396512306', 'no'),
(778, '_site_transient_timeout_wporg_theme_feature_list', '1396520603', 'yes'),
(779, '_site_transient_wporg_theme_feature_list', 'a:5:{s:6:"Colors";a:15:{i:0;s:5:"black";i:1;s:4:"blue";i:2;s:5:"brown";i:3;s:4:"gray";i:4;s:5:"green";i:5;s:6:"orange";i:6;s:4:"pink";i:7;s:6:"purple";i:8;s:3:"red";i:9;s:6:"silver";i:10;s:3:"tan";i:11;s:5:"white";i:12;s:6:"yellow";i:13;s:4:"dark";i:14;s:5:"light";}s:7:"Columns";a:6:{i:0;s:10:"one-column";i:1;s:11:"two-columns";i:2;s:13:"three-columns";i:3;s:12:"four-columns";i:4;s:12:"left-sidebar";i:5;s:13:"right-sidebar";}s:6:"Layout";a:3:{i:0;s:12:"fixed-layout";i:1;s:12:"fluid-layout";i:2;s:17:"responsive-layout";}s:8:"Features";a:20:{i:0;s:19:"accessibility-ready";i:1;s:8:"blavatar";i:2;s:10:"buddypress";i:3;s:17:"custom-background";i:4;s:13:"custom-colors";i:5;s:13:"custom-header";i:6;s:11:"custom-menu";i:7;s:12:"editor-style";i:8;s:21:"featured-image-header";i:9;s:15:"featured-images";i:10;s:15:"flexible-header";i:11;s:20:"front-page-post-form";i:12;s:19:"full-width-template";i:13;s:12:"microformats";i:14;s:12:"post-formats";i:15;s:20:"rtl-language-support";i:16;s:11:"sticky-post";i:17;s:13:"theme-options";i:18;s:17:"threaded-comments";i:19;s:17:"translation-ready";}s:7:"Subject";a:3:{i:0;s:7:"holiday";i:1;s:13:"photoblogging";i:2;s:8:"seasonal";}}', 'yes'),
(780, 'theme_mods_twentyfourteen', 'a:1:{s:16:"sidebars_widgets";a:2:{s:4:"time";i:1396509929;s:4:"data";a:4:{s:19:"wp_inactive_widgets";a:5:{i:0;s:6:"text-2";i:1;s:25:"displaycategorieswidget-2";i:2;s:25:"displaycategorieswidget-3";i:3;s:17:"facebooklikebox-3";i:4;s:5:"wpp-2";}s:18:"orphaned_widgets_1";a:2:{i:0;s:10:"archives-2";i:1;s:12:"categories-2";}s:18:"orphaned_widgets_2";a:0:{}s:18:"orphaned_widgets_3";a:0:{}}}}', 'yes'),
(781, '_site_transient_update_themes', 'O:8:"stdClass":4:{s:12:"last_checked";i:1396510183;s:7:"checked";a:1:{s:7:"refresh";s:3:"1.6";}s:8:"response";a:1:{s:7:"refresh";a:4:{s:5:"theme";s:7:"refresh";s:11:"new_version";s:5:"1.6.1";s:3:"url";s:36:"https://wordpress.org/themes/refresh";s:7:"package";s:55:"https://wordpress.org/themes/download/refresh.1.6.1.zip";}}s:12:"translations";a:0:{}}', 'yes'),
(783, '_site_transient_update_plugins', 'O:8:"stdClass":4:{s:12:"last_checked";i:1396510190;s:7:"checked";a:13:{s:33:"addthis/addthis_social_widget.php";s:5:"3.5.9";s:19:"akismet/akismet.php";s:5:"2.5.9";s:55:"custom-css-manager-plugin/custom-css-manager-loader.php";s:5:"1.5.2";s:55:"display-categories-widget/display_categories_widget.php";s:3:"1.0";s:53:"facebook-like-box-widget/facebook-like-box-widget.php";s:3:"2.7";s:37:"category-feature/category-feature.php";s:5:"1.7.1";s:9:"hello.php";s:3:"1.6";s:61:"related-posts-via-categories/related-posts-via-categories.php";s:5:"2.1.2";s:39:"syntaxhighlighter/syntaxhighlighter.php";s:5:"3.1.9";s:51:"wordpress-popular-posts/wordpress-popular-posts.php";s:5:"2.3.7";s:54:"wordpress-23-related-posts-plugin/wp_related_posts.php";s:5:"3.3.3";s:23:"wp-syntax/wp-syntax.php";s:3:"1.0";s:42:"yet-another-related-posts-plugin/yarpp.php";s:5:"4.1.2";}s:8:"response";a:0:{}s:12:"translations";a:0:{}}', 'yes');

-- --------------------------------------------------------

--
-- Table structure for table `wp_popularpostsdata`
--

CREATE TABLE IF NOT EXISTS `wp_popularpostsdata` (
  `postid` int(10) NOT NULL,
  `day` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `last_viewed` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `pageviews` int(10) DEFAULT '1',
  UNIQUE KEY `id` (`postid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Dumping data for table `wp_popularpostsdata`
--

INSERT INTO `wp_popularpostsdata` (`postid`, `day`, `last_viewed`, `pageviews`) VALUES
(4, '2014-02-19 08:11:39', '2014-03-19 09:07:09', 6),
(8, '2014-02-26 08:30:17', '2014-03-25 10:32:10', 15),
(63, '2014-03-06 01:49:00', '2014-03-25 10:35:04', 6),
(66, '2014-03-19 09:00:18', '2014-03-24 03:09:18', 3),
(103, '2014-04-03 05:55:49', '2014-04-03 05:57:23', 2);

-- --------------------------------------------------------

--
-- Table structure for table `wp_popularpostsdatacache`
--

CREATE TABLE IF NOT EXISTS `wp_popularpostsdatacache` (
  `id` int(10) NOT NULL,
  `day` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `day_no_time` date NOT NULL DEFAULT '0000-00-00',
  `pageviews` int(10) DEFAULT '1',
  UNIQUE KEY `compositeID` (`id`,`day_no_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Dumping data for table `wp_popularpostsdatacache`
--

INSERT INTO `wp_popularpostsdatacache` (`id`, `day`, `day_no_time`, `pageviews`) VALUES
(4, '2014-03-19 09:07:09', '2014-03-19', 2),
(8, '2014-03-19 08:59:46', '2014-03-19', 3),
(8, '2014-03-24 07:30:49', '2014-03-24', 2),
(8, '2014-03-25 10:32:10', '2014-03-25', 8),
(63, '2014-03-06 01:49:00', '2014-03-06', 1),
(63, '2014-03-24 03:07:36', '2014-03-24', 2),
(63, '2014-03-25 10:35:04', '2014-03-25', 3),
(66, '2014-03-19 09:00:18', '2014-03-19', 1),
(66, '2014-03-24 03:09:18', '2014-03-24', 2),
(103, '2014-04-03 05:57:23', '2014-04-03', 2);

-- --------------------------------------------------------

--
-- Table structure for table `wp_postmeta`
--

CREATE TABLE IF NOT EXISTS `wp_postmeta` (
  `meta_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `post_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `meta_key` varchar(255) DEFAULT NULL,
  `meta_value` longtext,
  PRIMARY KEY (`meta_id`),
  KEY `post_id` (`post_id`),
  KEY `meta_key` (`meta_key`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=536 ;

--
-- Dumping data for table `wp_postmeta`
--

INSERT INTO `wp_postmeta` (`meta_id`, `post_id`, `meta_key`, `meta_value`) VALUES
(1, 2, '_wp_page_template', 'default'),
(2, 4, '_edit_last', '1'),
(3, 4, '_edit_lock', '1396511241:1'),
(4, 5, '_wp_attached_file', '2014/02/1395373_694473480565667_2030017099_n.jpg'),
(5, 5, '_wp_attachment_metadata', 'a:5:{s:5:"width";i:480;s:6:"height";i:720;s:4:"file";s:48:"2014/02/1395373_694473480565667_2030017099_n.jpg";s:5:"sizes";a:3:{s:9:"thumbnail";a:4:{s:4:"file";s:48:"1395373_694473480565667_2030017099_n-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:6:"medium";a:4:{s:4:"file";s:48:"1395373_694473480565667_2030017099_n-200x300.jpg";s:5:"width";i:200;s:6:"height";i:300;s:9:"mime-type";s:10:"image/jpeg";}s:12:"defaultthumb";a:4:{s:4:"file";s:48:"1395373_694473480565667_2030017099_n-160x160.jpg";s:5:"width";i:160;s:6:"height";i:160;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:10:{s:8:"aperture";i:0;s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";i:0;s:9:"copyright";s:0:"";s:12:"focal_length";i:0;s:3:"iso";i:0;s:13:"shutter_speed";i:0;s:5:"title";s:0:"";}}'),
(10, 1, '_edit_lock', '1393465020:1'),
(12, 1, '_edit_last', '1'),
(15, 4, '_thumbnail_id', '5'),
(18, 8, '_edit_last', '1'),
(19, 8, '_edit_lock', '1396507523:1'),
(24, 11, '_menu_item_type', 'custom'),
(25, 11, '_menu_item_menu_item_parent', '0'),
(26, 11, '_menu_item_object_id', '11'),
(27, 11, '_menu_item_object', 'custom'),
(28, 11, '_menu_item_target', ''),
(29, 11, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(30, 11, '_menu_item_xfn', ''),
(31, 11, '_menu_item_url', 'http://localhost/'),
(32, 11, '_menu_item_orphaned', '1392360330'),
(33, 12, '_menu_item_type', 'post_type'),
(34, 12, '_menu_item_menu_item_parent', '0'),
(35, 12, '_menu_item_object_id', '2'),
(36, 12, '_menu_item_object', 'page'),
(37, 12, '_menu_item_target', ''),
(38, 12, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(39, 12, '_menu_item_xfn', ''),
(40, 12, '_menu_item_url', ''),
(41, 12, '_menu_item_orphaned', '1392360331'),
(42, 13, '_menu_item_type', 'custom'),
(43, 13, '_menu_item_menu_item_parent', '0'),
(44, 13, '_menu_item_object_id', '13'),
(45, 13, '_menu_item_object', 'custom'),
(46, 13, '_menu_item_target', ''),
(47, 13, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(48, 13, '_menu_item_xfn', ''),
(49, 13, '_menu_item_url', 'http://localhost/'),
(50, 13, '_menu_item_orphaned', '1392360773'),
(51, 14, '_menu_item_type', 'post_type'),
(52, 14, '_menu_item_menu_item_parent', '0'),
(53, 14, '_menu_item_object_id', '2'),
(54, 14, '_menu_item_object', 'page'),
(55, 14, '_menu_item_target', ''),
(56, 14, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(57, 14, '_menu_item_xfn', ''),
(58, 14, '_menu_item_url', ''),
(59, 14, '_menu_item_orphaned', '1392360773'),
(60, 15, '_menu_item_type', 'custom'),
(61, 15, '_menu_item_menu_item_parent', '0'),
(62, 15, '_menu_item_object_id', '15'),
(63, 15, '_menu_item_object', 'custom'),
(64, 15, '_menu_item_target', ''),
(65, 15, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(66, 15, '_menu_item_xfn', ''),
(67, 15, '_menu_item_url', 'http://localhost/'),
(68, 15, '_menu_item_orphaned', '1392360790'),
(69, 16, '_menu_item_type', 'post_type'),
(70, 16, '_menu_item_menu_item_parent', '0'),
(71, 16, '_menu_item_object_id', '2'),
(72, 16, '_menu_item_object', 'page'),
(73, 16, '_menu_item_target', ''),
(74, 16, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(75, 16, '_menu_item_xfn', ''),
(76, 16, '_menu_item_url', ''),
(77, 16, '_menu_item_orphaned', '1392360791'),
(96, 19, '_menu_item_type', 'custom'),
(97, 19, '_menu_item_menu_item_parent', '0'),
(98, 19, '_menu_item_object_id', '19'),
(99, 19, '_menu_item_object', 'custom'),
(100, 19, '_menu_item_target', ''),
(101, 19, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(102, 19, '_menu_item_xfn', ''),
(103, 19, '_menu_item_url', 'http://localhost/'),
(104, 19, '_menu_item_orphaned', '1392360885'),
(105, 20, '_menu_item_type', 'post_type'),
(106, 20, '_menu_item_menu_item_parent', '0'),
(107, 20, '_menu_item_object_id', '2'),
(108, 20, '_menu_item_object', 'page'),
(109, 20, '_menu_item_target', ''),
(110, 20, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(111, 20, '_menu_item_xfn', ''),
(112, 20, '_menu_item_url', ''),
(113, 20, '_menu_item_orphaned', '1392360886'),
(116, 22, '_menu_item_type', 'custom'),
(117, 22, '_menu_item_menu_item_parent', '0'),
(118, 22, '_menu_item_object_id', '22'),
(119, 22, '_menu_item_object', 'custom'),
(120, 22, '_menu_item_target', ''),
(121, 22, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(122, 22, '_menu_item_xfn', ''),
(123, 22, '_menu_item_url', 'http://localhost/'),
(124, 22, '_menu_item_orphaned', '1392362858'),
(125, 23, '_menu_item_type', 'post_type'),
(126, 23, '_menu_item_menu_item_parent', '0'),
(127, 23, '_menu_item_object_id', '2'),
(128, 23, '_menu_item_object', 'page'),
(129, 23, '_menu_item_target', ''),
(130, 23, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(131, 23, '_menu_item_xfn', ''),
(132, 23, '_menu_item_url', ''),
(133, 23, '_menu_item_orphaned', '1392362858'),
(134, 24, '_menu_item_type', 'custom'),
(135, 24, '_menu_item_menu_item_parent', '0'),
(136, 24, '_menu_item_object_id', '24'),
(137, 24, '_menu_item_object', 'custom'),
(138, 24, '_menu_item_target', ''),
(139, 24, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(140, 24, '_menu_item_xfn', ''),
(141, 24, '_menu_item_url', 'http://localhost/'),
(142, 24, '_menu_item_orphaned', '1392362880'),
(143, 25, '_menu_item_type', 'post_type'),
(144, 25, '_menu_item_menu_item_parent', '0'),
(145, 25, '_menu_item_object_id', '2'),
(146, 25, '_menu_item_object', 'page'),
(147, 25, '_menu_item_target', ''),
(148, 25, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(149, 25, '_menu_item_xfn', ''),
(150, 25, '_menu_item_url', ''),
(151, 25, '_menu_item_orphaned', '1392362881'),
(152, 8, 'Views', '1'),
(153, 26, '_menu_item_type', 'custom'),
(154, 26, '_menu_item_menu_item_parent', '0'),
(155, 26, '_menu_item_object_id', '26'),
(156, 26, '_menu_item_object', 'custom'),
(157, 26, '_menu_item_target', ''),
(158, 26, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(159, 26, '_menu_item_xfn', ''),
(160, 26, '_menu_item_url', 'http://localhost/'),
(161, 26, '_menu_item_orphaned', '1392364575'),
(162, 27, '_menu_item_type', 'post_type'),
(163, 27, '_menu_item_menu_item_parent', '0'),
(164, 27, '_menu_item_object_id', '2'),
(165, 27, '_menu_item_object', 'page'),
(166, 27, '_menu_item_target', ''),
(167, 27, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(168, 27, '_menu_item_xfn', ''),
(169, 27, '_menu_item_url', ''),
(170, 27, '_menu_item_orphaned', '1392364576'),
(171, 28, '_menu_item_type', 'custom'),
(172, 28, '_menu_item_menu_item_parent', '0'),
(173, 28, '_menu_item_object_id', '28'),
(174, 28, '_menu_item_object', 'custom'),
(175, 28, '_menu_item_target', ''),
(176, 28, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(177, 28, '_menu_item_xfn', ''),
(178, 28, '_menu_item_url', 'http://localhost/'),
(179, 28, '_menu_item_orphaned', '1392617570'),
(180, 29, '_menu_item_type', 'post_type'),
(181, 29, '_menu_item_menu_item_parent', '0'),
(182, 29, '_menu_item_object_id', '2'),
(183, 29, '_menu_item_object', 'page'),
(184, 29, '_menu_item_target', ''),
(185, 29, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(186, 29, '_menu_item_xfn', ''),
(187, 29, '_menu_item_url', ''),
(188, 29, '_menu_item_orphaned', '1392617570'),
(189, 30, '_edit_last', '1'),
(190, 30, '_edit_lock', '1393322134:1'),
(191, 33, '_wp_attached_file', '2014/02/181126_445599318792808_2037045957_n.jpg'),
(192, 33, '_wp_attachment_metadata', 'a:5:{s:5:"width";i:405;s:6:"height";i:720;s:4:"file";s:47:"2014/02/181126_445599318792808_2037045957_n.jpg";s:5:"sizes";a:3:{s:9:"thumbnail";a:4:{s:4:"file";s:47:"181126_445599318792808_2037045957_n-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:6:"medium";a:4:{s:4:"file";s:47:"181126_445599318792808_2037045957_n-168x300.jpg";s:5:"width";i:168;s:6:"height";i:300;s:9:"mime-type";s:10:"image/jpeg";}s:12:"defaultthumb";a:4:{s:4:"file";s:47:"181126_445599318792808_2037045957_n-160x160.jpg";s:5:"width";i:160;s:6:"height";i:160;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:10:{s:8:"aperture";i:0;s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";i:0;s:9:"copyright";s:0:"";s:12:"focal_length";i:0;s:3:"iso";i:0;s:13:"shutter_speed";i:0;s:5:"title";s:0:"";}}'),
(193, 34, '_wp_attached_file', '2014/02/598413_4929493236886_532811421_n.jpg'),
(194, 34, '_wp_attachment_metadata', 'a:5:{s:5:"width";i:450;s:6:"height";i:720;s:4:"file";s:44:"2014/02/598413_4929493236886_532811421_n.jpg";s:5:"sizes";a:3:{s:9:"thumbnail";a:4:{s:4:"file";s:44:"598413_4929493236886_532811421_n-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:6:"medium";a:4:{s:4:"file";s:44:"598413_4929493236886_532811421_n-187x300.jpg";s:5:"width";i:187;s:6:"height";i:300;s:9:"mime-type";s:10:"image/jpeg";}s:12:"defaultthumb";a:4:{s:4:"file";s:44:"598413_4929493236886_532811421_n-160x160.jpg";s:5:"width";i:160;s:6:"height";i:160;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:10:{s:8:"aperture";i:0;s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";i:0;s:9:"copyright";s:0:"";s:12:"focal_length";i:0;s:3:"iso";i:0;s:13:"shutter_speed";i:0;s:5:"title";s:0:"";}}'),
(195, 35, '_wp_attached_file', '2014/02/1656046_606399599430789_1180022678_n.jpg'),
(196, 35, '_wp_attachment_metadata', 'a:5:{s:5:"width";i:588;s:6:"height";i:960;s:4:"file";s:48:"2014/02/1656046_606399599430789_1180022678_n.jpg";s:5:"sizes";a:3:{s:9:"thumbnail";a:4:{s:4:"file";s:48:"1656046_606399599430789_1180022678_n-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:6:"medium";a:4:{s:4:"file";s:48:"1656046_606399599430789_1180022678_n-183x300.jpg";s:5:"width";i:183;s:6:"height";i:300;s:9:"mime-type";s:10:"image/jpeg";}s:12:"defaultthumb";a:4:{s:4:"file";s:48:"1656046_606399599430789_1180022678_n-160x160.jpg";s:5:"width";i:160;s:6:"height";i:160;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:10:{s:8:"aperture";i:0;s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";i:0;s:9:"copyright";s:0:"";s:12:"focal_length";i:0;s:3:"iso";i:0;s:13:"shutter_speed";i:0;s:5:"title";s:0:"";}}'),
(197, 36, '_wp_attached_file', '2014/02/Ads-and-Sponsored-Stories-One-Pager-as-of-10-14-13.pptx.pdf'),
(198, 38, '_edit_last', '1'),
(199, 38, '_edit_lock', '1396507790:1'),
(200, 41, '_menu_item_type', 'custom'),
(201, 41, '_menu_item_menu_item_parent', '0'),
(202, 41, '_menu_item_object_id', '41'),
(203, 41, '_menu_item_object', 'custom'),
(204, 41, '_menu_item_target', ''),
(205, 41, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(206, 41, '_menu_item_xfn', ''),
(207, 41, '_menu_item_url', 'http://localhost/'),
(208, 41, '_menu_item_orphaned', '1392976088'),
(209, 42, '_menu_item_type', 'post_type'),
(210, 42, '_menu_item_menu_item_parent', '0'),
(211, 42, '_menu_item_object_id', '30'),
(212, 42, '_menu_item_object', 'page'),
(213, 42, '_menu_item_target', ''),
(214, 42, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(215, 42, '_menu_item_xfn', ''),
(216, 42, '_menu_item_url', ''),
(217, 42, '_menu_item_orphaned', '1392976088'),
(218, 43, '_menu_item_type', 'post_type'),
(219, 43, '_menu_item_menu_item_parent', '0'),
(220, 43, '_menu_item_object_id', '2'),
(221, 43, '_menu_item_object', 'page'),
(222, 43, '_menu_item_target', ''),
(223, 43, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(224, 43, '_menu_item_xfn', ''),
(225, 43, '_menu_item_url', ''),
(226, 43, '_menu_item_orphaned', '1392976088'),
(227, 44, '_menu_item_type', 'custom'),
(228, 44, '_menu_item_menu_item_parent', '0'),
(229, 44, '_menu_item_object_id', '44'),
(230, 44, '_menu_item_object', 'custom'),
(231, 44, '_menu_item_target', ''),
(232, 44, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(233, 44, '_menu_item_xfn', ''),
(234, 44, '_menu_item_url', 'http://localhost/'),
(235, 44, '_menu_item_orphaned', '1393227460'),
(236, 45, '_menu_item_type', 'post_type'),
(237, 45, '_menu_item_menu_item_parent', '0'),
(238, 45, '_menu_item_object_id', '30'),
(239, 45, '_menu_item_object', 'page'),
(240, 45, '_menu_item_target', ''),
(241, 45, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(242, 45, '_menu_item_xfn', ''),
(243, 45, '_menu_item_url', ''),
(244, 45, '_menu_item_orphaned', '1393227461'),
(245, 46, '_menu_item_type', 'post_type'),
(246, 46, '_menu_item_menu_item_parent', '0'),
(247, 46, '_menu_item_object_id', '2'),
(248, 46, '_menu_item_object', 'page'),
(249, 46, '_menu_item_target', ''),
(250, 46, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(251, 46, '_menu_item_xfn', ''),
(252, 46, '_menu_item_url', ''),
(253, 46, '_menu_item_orphaned', '1393227461'),
(254, 8, '_thumbnail_id', '33'),
(257, 48, '_menu_item_type', 'custom'),
(258, 48, '_menu_item_menu_item_parent', '0'),
(259, 48, '_menu_item_object_id', '48'),
(260, 48, '_menu_item_object', 'custom'),
(261, 48, '_menu_item_target', ''),
(262, 48, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(263, 48, '_menu_item_xfn', ''),
(264, 48, '_menu_item_url', 'http://localhost/'),
(265, 48, '_menu_item_orphaned', '1393322024'),
(266, 49, '_menu_item_type', 'post_type'),
(267, 49, '_menu_item_menu_item_parent', '0'),
(268, 49, '_menu_item_object_id', '30'),
(269, 49, '_menu_item_object', 'page'),
(270, 49, '_menu_item_target', ''),
(271, 49, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(272, 49, '_menu_item_xfn', ''),
(273, 49, '_menu_item_url', ''),
(274, 49, '_menu_item_orphaned', '1393322025'),
(275, 50, '_menu_item_type', 'post_type'),
(276, 50, '_menu_item_menu_item_parent', '0'),
(277, 50, '_menu_item_object_id', '2'),
(278, 50, '_menu_item_object', 'page'),
(279, 50, '_menu_item_target', ''),
(280, 50, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(281, 50, '_menu_item_xfn', ''),
(282, 50, '_menu_item_url', ''),
(283, 50, '_menu_item_orphaned', '1393322026'),
(284, 51, '_menu_item_type', 'custom'),
(285, 51, '_menu_item_menu_item_parent', '0'),
(286, 51, '_menu_item_object_id', '51'),
(287, 51, '_menu_item_object', 'custom'),
(288, 51, '_menu_item_target', ''),
(289, 51, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(290, 51, '_menu_item_xfn', ''),
(291, 51, '_menu_item_url', 'http://localhost/'),
(292, 51, '_menu_item_orphaned', '1393322118'),
(293, 52, '_menu_item_type', 'post_type'),
(294, 52, '_menu_item_menu_item_parent', '0'),
(295, 52, '_menu_item_object_id', '30'),
(296, 52, '_menu_item_object', 'page'),
(297, 52, '_menu_item_target', ''),
(298, 52, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(299, 52, '_menu_item_xfn', ''),
(300, 52, '_menu_item_url', ''),
(301, 52, '_menu_item_orphaned', '1393322119'),
(302, 53, '_menu_item_type', 'post_type'),
(303, 53, '_menu_item_menu_item_parent', '0'),
(304, 53, '_menu_item_object_id', '2'),
(305, 53, '_menu_item_object', 'page'),
(306, 53, '_menu_item_target', ''),
(307, 53, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(308, 53, '_menu_item_xfn', ''),
(309, 53, '_menu_item_url', ''),
(310, 53, '_menu_item_orphaned', '1393322119'),
(311, 54, '_menu_item_type', 'custom'),
(312, 54, '_menu_item_menu_item_parent', '0'),
(313, 54, '_menu_item_object_id', '54'),
(314, 54, '_menu_item_object', 'custom'),
(315, 54, '_menu_item_target', ''),
(316, 54, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(317, 54, '_menu_item_xfn', ''),
(318, 54, '_menu_item_url', 'http://localhost/'),
(319, 54, '_menu_item_orphaned', '1393322347'),
(320, 55, '_menu_item_type', 'post_type'),
(321, 55, '_menu_item_menu_item_parent', '0'),
(322, 55, '_menu_item_object_id', '30'),
(323, 55, '_menu_item_object', 'page'),
(324, 55, '_menu_item_target', ''),
(325, 55, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(326, 55, '_menu_item_xfn', ''),
(327, 55, '_menu_item_url', ''),
(328, 55, '_menu_item_orphaned', '1393322348'),
(329, 56, '_menu_item_type', 'post_type'),
(330, 56, '_menu_item_menu_item_parent', '0'),
(331, 56, '_menu_item_object_id', '2'),
(332, 56, '_menu_item_object', 'page'),
(333, 56, '_menu_item_target', ''),
(334, 56, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(335, 56, '_menu_item_xfn', ''),
(336, 56, '_menu_item_url', ''),
(337, 56, '_menu_item_orphaned', '1393322348'),
(338, 59, '_menu_item_type', 'custom'),
(339, 59, '_menu_item_menu_item_parent', '0'),
(340, 59, '_menu_item_object_id', '59'),
(341, 59, '_menu_item_object', 'custom'),
(342, 59, '_menu_item_target', ''),
(343, 59, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(344, 59, '_menu_item_xfn', ''),
(345, 59, '_menu_item_url', 'http://localhost/'),
(346, 59, '_menu_item_orphaned', '1393834023'),
(347, 60, '_menu_item_type', 'post_type'),
(348, 60, '_menu_item_menu_item_parent', '0'),
(349, 60, '_menu_item_object_id', '30'),
(350, 60, '_menu_item_object', 'page'),
(351, 60, '_menu_item_target', ''),
(352, 60, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(353, 60, '_menu_item_xfn', ''),
(354, 60, '_menu_item_url', ''),
(355, 60, '_menu_item_orphaned', '1393834024'),
(356, 61, '_menu_item_type', 'post_type'),
(357, 61, '_menu_item_menu_item_parent', '0'),
(358, 61, '_menu_item_object_id', '2'),
(359, 61, '_menu_item_object', 'page'),
(360, 61, '_menu_item_target', ''),
(361, 61, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(362, 61, '_menu_item_xfn', ''),
(363, 61, '_menu_item_url', ''),
(364, 61, '_menu_item_orphaned', '1393834024'),
(365, 63, '_edit_last', '1'),
(368, 63, '_edit_lock', '1395051780:1'),
(369, 66, '_edit_last', '1'),
(370, 66, '_edit_lock', '1396503547:1'),
(373, 68, '_menu_item_type', 'custom'),
(374, 68, '_menu_item_menu_item_parent', '0'),
(375, 68, '_menu_item_object_id', '68'),
(376, 68, '_menu_item_object', 'custom'),
(377, 68, '_menu_item_target', ''),
(378, 68, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(379, 68, '_menu_item_xfn', ''),
(380, 68, '_menu_item_url', 'http://localhost/'),
(381, 68, '_menu_item_orphaned', '1394446950'),
(382, 69, '_menu_item_type', 'post_type'),
(383, 69, '_menu_item_menu_item_parent', '0'),
(384, 69, '_menu_item_object_id', '30'),
(385, 69, '_menu_item_object', 'page'),
(386, 69, '_menu_item_target', ''),
(387, 69, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(388, 69, '_menu_item_xfn', ''),
(389, 69, '_menu_item_url', ''),
(390, 69, '_menu_item_orphaned', '1394446952'),
(391, 70, '_menu_item_type', 'post_type'),
(392, 70, '_menu_item_menu_item_parent', '0'),
(393, 70, '_menu_item_object_id', '2'),
(394, 70, '_menu_item_object', 'page'),
(395, 70, '_menu_item_target', ''),
(396, 70, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(397, 70, '_menu_item_xfn', ''),
(398, 70, '_menu_item_url', ''),
(399, 70, '_menu_item_orphaned', '1394446953'),
(400, 72, '_menu_item_type', 'custom'),
(401, 72, '_menu_item_menu_item_parent', '0'),
(402, 72, '_menu_item_object_id', '72'),
(403, 72, '_menu_item_object', 'custom'),
(404, 72, '_menu_item_target', ''),
(405, 72, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(406, 72, '_menu_item_xfn', ''),
(407, 72, '_menu_item_url', 'http://localhost/'),
(408, 72, '_menu_item_orphaned', '1394447075'),
(409, 73, '_menu_item_type', 'post_type'),
(410, 73, '_menu_item_menu_item_parent', '0'),
(411, 73, '_menu_item_object_id', '30'),
(412, 73, '_menu_item_object', 'page'),
(413, 73, '_menu_item_target', ''),
(414, 73, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(415, 73, '_menu_item_xfn', ''),
(416, 73, '_menu_item_url', ''),
(417, 73, '_menu_item_orphaned', '1394447076'),
(418, 74, '_menu_item_type', 'post_type'),
(419, 74, '_menu_item_menu_item_parent', '0'),
(420, 74, '_menu_item_object_id', '2'),
(421, 74, '_menu_item_object', 'page'),
(422, 74, '_menu_item_target', ''),
(423, 74, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(424, 74, '_menu_item_xfn', ''),
(425, 74, '_menu_item_url', ''),
(426, 74, '_menu_item_orphaned', '1394447078'),
(427, 75, '_menu_item_type', 'taxonomy'),
(428, 75, '_menu_item_menu_item_parent', '0'),
(429, 75, '_menu_item_object_id', '5'),
(430, 75, '_menu_item_object', 'category'),
(431, 75, '_menu_item_target', ''),
(432, 75, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(433, 75, '_menu_item_xfn', ''),
(434, 75, '_menu_item_url', ''),
(435, 75, '_menu_item_orphaned', '1394447128'),
(436, 76, '_menu_item_type', 'taxonomy'),
(437, 76, '_menu_item_menu_item_parent', '0'),
(438, 76, '_menu_item_object_id', '6'),
(439, 76, '_menu_item_object', 'category'),
(440, 76, '_menu_item_target', ''),
(441, 76, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(442, 76, '_menu_item_xfn', ''),
(443, 76, '_menu_item_url', ''),
(444, 76, '_menu_item_orphaned', '1394447129'),
(445, 77, '_menu_item_type', 'taxonomy'),
(446, 77, '_menu_item_menu_item_parent', '0'),
(447, 77, '_menu_item_object_id', '1'),
(448, 77, '_menu_item_object', 'category'),
(449, 77, '_menu_item_target', ''),
(450, 77, '_menu_item_classes', 'a:1:{i:0;s:0:"";}'),
(451, 77, '_menu_item_xfn', ''),
(452, 77, '_menu_item_url', ''),
(453, 77, '_menu_item_orphaned', '1394447130'),
(476, 4, '_syntaxhighlighter_encoded', '1'),
(477, 103, '_edit_last', '1'),
(478, 103, '_edit_lock', '1396509377:1'),
(481, 103, '_syntaxhighlighter_encoded', '1'),
(484, 103, '_wp_rp_image', 'empty'),
(485, 66, '_wp_rp_image', 'empty'),
(486, 63, '_wp_rp_image', 'empty'),
(487, 1, '_wp_rp_image', 'empty'),
(488, 103, '_wp_rp_related_posts_query_result_cache_expiration', '1396080941'),
(490, 103, '_wp_rp_selected_related_posts', 'a:6:{i:0;O:8:"stdClass":3:{s:2:"ID";b:0;s:3:"pos";i:0;s:4:"type";s:5:"empty";}i:1;O:8:"stdClass":3:{s:2:"ID";b:0;s:3:"pos";i:1;s:4:"type";s:5:"empty";}i:2;O:8:"stdClass":3:{s:2:"ID";b:0;s:3:"pos";i:2;s:4:"type";s:5:"empty";}i:3;O:8:"stdClass":3:{s:2:"ID";b:0;s:3:"pos";i:3;s:4:"type";s:5:"empty";}i:4;O:8:"stdClass":3:{s:2:"ID";b:0;s:3:"pos";i:4;s:4:"type";s:5:"empty";}i:5;O:8:"stdClass":3:{s:2:"ID";b:0;s:3:"pos";i:5;s:4:"type";s:5:"empty";}}'),
(491, 103, '_wp_rp_related_posts_query_result_cache_6', 'a:3:{i:0;O:8:"stdClass":2:{s:7:"post_id";s:1:"8";s:5:"score";s:16:"7.16703787691222";}i:1;O:8:"stdClass":2:{s:7:"post_id";s:1:"4";s:5:"score";s:17:"2.772588722239781";}i:2;O:8:"stdClass":2:{s:7:"post_id";s:2:"66";s:5:"score";s:18:"2.1972245773362196";}}'),
(500, 110, '_wp_attached_file', '2014/03/railsmvc.png'),
(501, 110, '_wp_attachment_metadata', 'a:5:{s:5:"width";i:587;s:6:"height";i:475;s:4:"file";s:20:"2014/03/railsmvc.png";s:5:"sizes";a:3:{s:9:"thumbnail";a:4:{s:4:"file";s:20:"railsmvc-150x150.png";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:9:"image/png";}s:6:"medium";a:4:{s:4:"file";s:20:"railsmvc-300x242.png";s:5:"width";i:300;s:6:"height";i:242;s:9:"mime-type";s:9:"image/png";}s:12:"defaultthumb";a:4:{s:4:"file";s:20:"railsmvc-160x160.png";s:5:"width";i:160;s:6:"height";i:160;s:9:"mime-type";s:9:"image/png";}}s:10:"image_meta";a:10:{s:8:"aperture";i:0;s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";i:0;s:9:"copyright";s:0:"";s:12:"focal_length";i:0;s:3:"iso";i:0;s:13:"shutter_speed";i:0;s:5:"title";s:0:"";}}'),
(502, 103, '_thumbnail_id', '110'),
(515, 115, '_wp_attached_file', '2014/02/5Bmyo1m.jpg'),
(516, 115, '_wp_attachment_metadata', 'a:5:{s:5:"width";i:665;s:6:"height";i:191;s:4:"file";s:19:"2014/02/5Bmyo1m.jpg";s:5:"sizes";a:3:{s:9:"thumbnail";a:4:{s:4:"file";s:19:"5Bmyo1m-150x150.jpg";s:5:"width";i:150;s:6:"height";i:150;s:9:"mime-type";s:10:"image/jpeg";}s:6:"medium";a:4:{s:4:"file";s:18:"5Bmyo1m-300x86.jpg";s:5:"width";i:300;s:6:"height";i:86;s:9:"mime-type";s:10:"image/jpeg";}s:12:"defaultthumb";a:4:{s:4:"file";s:19:"5Bmyo1m-160x160.jpg";s:5:"width";i:160;s:6:"height";i:160;s:9:"mime-type";s:10:"image/jpeg";}}s:10:"image_meta";a:10:{s:8:"aperture";i:0;s:6:"credit";s:0:"";s:6:"camera";s:0:"";s:7:"caption";s:0:"";s:17:"created_timestamp";i:0;s:9:"copyright";s:0:"";s:12:"focal_length";i:0;s:3:"iso";i:0;s:13:"shutter_speed";i:0;s:5:"title";s:0:"";}}'),
(529, 8, '_syntaxhighlighter_encoded', '1'),
(532, 38, '_wp_trash_meta_status', 'publish'),
(533, 38, '_wp_trash_meta_time', '1396507816');

-- --------------------------------------------------------

--
-- Table structure for table `wp_posts`
--

CREATE TABLE IF NOT EXISTS `wp_posts` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `post_author` bigint(20) unsigned NOT NULL DEFAULT '0',
  `post_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `post_date_gmt` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `post_content` longtext NOT NULL,
  `post_title` text NOT NULL,
  `post_excerpt` text NOT NULL,
  `post_status` varchar(20) NOT NULL DEFAULT 'publish',
  `comment_status` varchar(20) NOT NULL DEFAULT 'open',
  `ping_status` varchar(20) NOT NULL DEFAULT 'open',
  `post_password` varchar(20) NOT NULL DEFAULT '',
  `post_name` varchar(200) NOT NULL DEFAULT '',
  `to_ping` text NOT NULL,
  `pinged` text NOT NULL,
  `post_modified` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `post_modified_gmt` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `post_content_filtered` longtext NOT NULL,
  `post_parent` bigint(20) unsigned NOT NULL DEFAULT '0',
  `guid` varchar(255) NOT NULL DEFAULT '',
  `menu_order` int(11) NOT NULL DEFAULT '0',
  `post_type` varchar(20) NOT NULL DEFAULT 'post',
  `post_mime_type` varchar(100) NOT NULL DEFAULT '',
  `comment_count` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`ID`),
  KEY `post_name` (`post_name`),
  KEY `type_status_date` (`post_type`,`post_status`,`post_date`,`ID`),
  KEY `post_parent` (`post_parent`),
  KEY `post_author` (`post_author`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=123 ;

--
-- Dumping data for table `wp_posts`
--

INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(1, 1, '2014-02-14 03:13:02', '2014-02-14 03:13:02', 'Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!', 'Hello world!', '', 'publish', 'open', 'open', '', 'hello-world', '', '', '2014-02-27 01:36:57', '2014-02-27 01:36:57', '', 0, 'http://localhost/?p=1', 0, 'post', '', 1),
(2, 1, '2014-02-14 03:13:02', '2014-02-14 03:13:02', 'This is an example page. It''s different from a blog post because it will stay in one place and will show up in your site navigation (in most themes). Most people start with an About page that introduces them to potential site visitors. It might say something like this:\n\n<blockquote>Hi there! I''m a bike messenger by day, aspiring actor by night, and this is my blog. I live in Los Angeles, have a great dog named Jack, and I like pi&#241;a coladas. (And gettin'' caught in the rain.)</blockquote>\n\n...or something like this:\n\n<blockquote>The XYZ Doohickey Company was founded in 1971, and has been providing quality doohickeys to the public ever since. Located in Gotham City, XYZ employs over 2,000 people and does all kinds of awesome things for the Gotham community.</blockquote>\n\nAs a new WordPress user, you should go to <a href="http://localhost/wp-admin/">your dashboard</a> to delete this page and create new pages for your content. Have fun!', 'Sample Page', '', 'publish', 'open', 'open', '', 'sample-page', '', '', '2014-02-14 03:13:02', '2014-02-14 03:13:02', '', 0, 'http://localhost/?page_id=2', 0, 'page', '', 0),
(4, 1, '2014-02-14 04:44:00', '2014-02-14 04:44:00', 'Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n\r\n[php]selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);[/php]\r\n\r\nI. API with Sinatra.\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.<span style="line-height: 1.5em;">Chúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:</span>\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover"></div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'publish', 'open', 'open', '', 'ruby-api-with-sinatra', '', '', '2014-04-03 07:40:10', '2014-04-03 07:40:10', '', 0, 'http://localhost/?p=4', 0, 'post', '', 0),
(5, 1, '2014-02-14 04:42:37', '2014-02-14 04:42:37', '', '1395373_694473480565667_2030017099_n', '', 'inherit', 'open', 'open', '', '1395373_694473480565667_2030017099_n', '', '', '2014-02-14 04:42:37', '2014-02-14 04:42:37', '', 4, 'http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg', 0, 'attachment', 'image/jpeg', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(6, 1, '2014-02-14 04:44:00', '2014-02-14 04:44:00', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n<h3>I. API with Sinatra.</h3>\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n\r\n&nbsp;\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-02-14 04:44:00', '2014-02-14 04:44:00', '', 4, 'http://localhost/?p=6', 0, 'revision', '', 0),
(7, 1, '2014-02-14 05:02:02', '2014-02-14 05:02:02', 'Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!', 'Hello world!', '', 'inherit', 'open', 'open', '', '1-revision-v1', '', '', '2014-02-14 05:02:02', '2014-02-14 05:02:02', '', 1, 'http://localhost/?p=7', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(8, 1, '2014-02-14 06:28:23', '2014-02-14 06:28:23', 'Trong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này.\r\n\r\n<a href="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg"><img class="alignnone size-full wp-image-115" alt="5Bmyo1m" src="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg" width="665" height="191" /></a>\r\n<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n<h3>II. Cài Đặt Môi Trường</h3>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable</code>\r\n<h4>## Cài đặt những gói thư viện phụ thuộc khác</h4>\r\n[php]// The ''toEqual'' matcher\r\ndescribe(&quot;The ''toEqual'' matcher&quot;, function() {\r\n\r\n    it(&quot;should work for objects&quot;, function() {\r\n        var foo = {\r\n            a: 12,\r\n            b: 34\r\n        };\r\n        var bar = {\r\n            a: 12,\r\n            b: 34\r\n        };\r\n        expect(foo).toEqual(bar);\r\n    });\r\n\r\n    it(&quot;The ''toMatch'' matcher is for regular expressions&quot;, function() {\r\n        var message = &quot;foo bar baz&quot;;\r\n\r\n        expect(message).toMatch(/bar/);\r\n        expect(message).toMatch(&quot;bar&quot;);\r\n        expect(message).not.toMatch(/quux/);\r\n    });\r\n\r\n    it(&quot;The ''toBeDefined'' matcher compares against `undefined`&quot;, function() {\r\n        var a = {\r\n          foo: &quot;foo&quot;\r\n        };\r\n\r\n        expect(a.foo).toBeDefined();\r\n        expect(a.bar).not.toBeDefined();\r\n    });\r\n\r\n    it(&quot;The `toBeUndefined` matcher compares against `undefined`&quot;, function() {\r\n        var a = {\r\n          foo: &quot;foo&quot;\r\n        };\r\n\r\n        expect(a.foo).not.toBeUndefined();\r\n        expect(a.bar).toBeUndefined();\r\n    });\r\n\r\n    it(&quot;The ''toBeNull'' matcher compares against null&quot;, function() {\r\n        var a = null;\r\n        var foo = &quot;foo&quot;;\r\n\r\n        expect(null).toBeNull();\r\n        expect(a).toBeNull();\r\n        expect(foo).not.toBeNull();\r\n    });\r\n\r\n    it(&quot;The ''toBeTruthy'' matcher is for boolean casting testing&quot;, function() {\r\n        var a, foo = &quot;foo&quot;;\r\n\r\n        expect(foo).toBeTruthy();\r\n        expect(a).not.toBeTruthy();\r\n    });\r\n\r\n    it(&quot;The ''toBeFalsy'' matcher is for boolean casting testing&quot;, function() {\r\n        var a, foo = &quot;foo&quot;;\r\n\r\n        expect(a).toBeFalsy();\r\n        expect(foo).not.toBeFalsy();\r\n    });\r\n\r\n    it(&quot;The ''toContain'' matcher is for finding an item in an Array&quot;, function() {\r\n        var a = [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;];\r\n\r\n        expect(a).toContain(&quot;bar&quot;);\r\n        expect(a).not.toContain(&quot;quux&quot;);\r\n    });\r\n\r\n    it(&quot;The ''toBeLessThan'' matcher is for mathematical comparisons&quot;, function() {\r\n        var pi = 3.1415926,\r\n          e = 2.78;\r\n\r\n        expect(e).toBeLessThan(pi);\r\n        expect(pi).not.toBeLessThan(e);\r\n    });\r\n\r\n    it(&quot;The ''toBeGreaterThan'' is for mathematical comparisons&quot;, function() {\r\n        var pi = 3.1415926,\r\n          e = 2.78;\r\n\r\n        expect(pi).toBeGreaterThan(e);\r\n        expect(e).not.toBeGreaterThan(pi);\r\n    });\r\n\r\n    it(&quot;The ''toBeCloseTo'' matcher is for precision math comparison&quot;, function() {\r\n        var pi = 3.1415926,\r\n          e = 2.78;\r\n\r\n        expect(pi).not.toBeCloseTo(e, 2);\r\n        expect(pi).toBeCloseTo(e, 0);\r\n    });\r\n\r\n    it(&quot;The ''toThrow'' matcher is for testing if a function throws an exception&quot;, function() {\r\n        var foo = function() {\r\n            return 1 + 2;\r\n        };\r\n        var bar = function() {\r\n            return a + 1;\r\n        };\r\n\r\n        expect(foo).not.toThrow();\r\n        expect(bar).toThrow();\r\n    });\r\n});[/php]\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby\r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails', 'Format style for blog', '', 'publish', 'open', 'open', '', 'blogging-rails-mo-dau', '', '', '2014-04-03 06:41:32', '2014-04-03 06:41:32', '', 0, 'http://localhost/?p=8', 0, 'post', '', 0),
(9, 1, '2014-02-14 06:28:23', '2014-02-14 06:28:23', '<h1>I. Giới Thiệu</h1>\r\n<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n\r\n&nbsp;\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n\r\n&nbsp;\r\n<h1>II. Cài Đặt Môi Trường</h1>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n\r\nĐầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.\r\n\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable\r\n\r\n## Cài đặt những gói thư viện phụ thuộc khác\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby \r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails</code>', '[Blogging Rails] Mở Đầu', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-02-14 06:28:23', '2014-02-14 06:28:23', '', 8, 'http://localhost/?p=9', 0, 'revision', '', 0),
(10, 1, '2014-02-14 06:30:34', '2014-02-14 06:30:34', '<h1>I. Giới Thiệu</h1>\r\n<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n\r\n&nbsp;\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n\r\n&nbsp;\r\n<h1>II. Cài Đặt Môi Trường</h1>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n\r\n\r\n\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n\r\n\r\n\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable\r\n\r\n## Cài đặt những gói thư viện phụ thuộc khác\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby \r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails</code>', '[Blogging Rails] Mở Đầu', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-02-14 06:30:34', '2014-02-14 06:30:34', '', 8, 'http://localhost/?p=10', 0, 'revision', '', 0),
(11, 1, '2014-02-14 06:45:30', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 06:45:30', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=11', 1, 'nav_menu_item', '', 0),
(12, 1, '2014-02-14 06:45:30', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 06:45:30', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=12', 1, 'nav_menu_item', '', 0),
(13, 1, '2014-02-14 06:52:52', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 06:52:52', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=13', 1, 'nav_menu_item', '', 0),
(14, 1, '2014-02-14 06:52:53', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 06:52:53', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=14', 1, 'nav_menu_item', '', 0),
(15, 1, '2014-02-14 06:53:10', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 06:53:10', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=15', 1, 'nav_menu_item', '', 0),
(16, 1, '2014-02-14 06:53:10', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 06:53:10', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=16', 1, 'nav_menu_item', '', 0),
(19, 1, '2014-02-14 06:54:45', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 06:54:45', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=19', 1, 'nav_menu_item', '', 0),
(20, 1, '2014-02-14 06:54:45', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 06:54:45', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=20', 1, 'nav_menu_item', '', 0),
(22, 1, '2014-02-14 07:27:37', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 07:27:37', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=22', 1, 'nav_menu_item', '', 0),
(23, 1, '2014-02-14 07:27:38', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 07:27:38', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=23', 1, 'nav_menu_item', '', 0),
(24, 1, '2014-02-14 07:28:00', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 07:28:00', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=24', 1, 'nav_menu_item', '', 0),
(25, 1, '2014-02-14 07:28:00', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 07:28:00', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=25', 1, 'nav_menu_item', '', 0),
(26, 1, '2014-02-14 07:56:15', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 07:56:15', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=26', 1, 'nav_menu_item', '', 0),
(27, 1, '2014-02-14 07:56:15', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-14 07:56:15', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=27', 1, 'nav_menu_item', '', 0),
(28, 1, '2014-02-17 06:12:50', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-17 06:12:50', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=28', 1, 'nav_menu_item', '', 0),
(29, 1, '2014-02-17 06:12:50', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-17 06:12:50', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=29', 1, 'nav_menu_item', '', 0),
(30, 1, '2014-02-17 09:12:14', '2014-02-17 09:12:14', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" alt="1395373_694473480565667_2030017099_n" width="150" height="150" class="alignnone size-thumbnail wp-image-5" /></a>', 'abc', '', 'publish', 'open', 'open', '', 'abc', '', '', '2014-02-17 09:12:28', '2014-02-17 09:12:28', '', 0, 'http://localhost/?page_id=30', 0, 'page', '', 0),
(31, 1, '2014-02-17 09:12:14', '2014-02-17 09:12:14', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" alt="1395373_694473480565667_2030017099_n" width="150" height="150" class="alignnone size-thumbnail wp-image-5" /></a>', 'abc', '', 'inherit', 'open', 'open', '', '30-revision-v1', '', '', '2014-02-17 09:12:14', '2014-02-17 09:12:14', '', 30, 'http://localhost/?p=31', 0, 'revision', '', 0),
(33, 1, '2014-02-17 09:40:38', '2014-02-17 09:40:38', '', '181126_445599318792808_2037045957_n', '', 'inherit', 'open', 'open', '', '181126_445599318792808_2037045957_n', '', '', '2014-02-17 09:40:38', '2014-02-17 09:40:38', '', 0, 'http://localhost/wp-content/uploads/2014/02/181126_445599318792808_2037045957_n.jpg', 0, 'attachment', 'image/jpeg', 0),
(34, 1, '2014-02-17 09:40:40', '2014-02-17 09:40:40', '', '598413_4929493236886_532811421_n', '', 'inherit', 'open', 'open', '', '598413_4929493236886_532811421_n', '', '', '2014-02-17 09:40:40', '2014-02-17 09:40:40', '', 0, 'http://localhost/wp-content/uploads/2014/02/598413_4929493236886_532811421_n.jpg', 0, 'attachment', 'image/jpeg', 0),
(35, 1, '2014-02-17 09:40:42', '2014-02-17 09:40:42', '', '1656046_606399599430789_1180022678_n', '', 'inherit', 'open', 'open', '', '1656046_606399599430789_1180022678_n', '', '', '2014-02-17 09:40:42', '2014-02-17 09:40:42', '', 0, 'http://localhost/wp-content/uploads/2014/02/1656046_606399599430789_1180022678_n.jpg', 0, 'attachment', 'image/jpeg', 0),
(36, 1, '2014-02-17 09:40:43', '2014-02-17 09:40:43', '', 'Ads and Sponsored Stories One Pager (as of 10 14 13).pptx', '', 'inherit', 'open', 'open', '', 'ads-and-sponsored-stories-one-pager-as-of-10-14-13-pptx', '', '', '2014-02-17 09:40:43', '2014-02-17 09:40:43', '', 0, 'http://localhost/wp-content/uploads/2014/02/Ads-and-Sponsored-Stories-One-Pager-as-of-10-14-13.pptx.pdf', 0, 'attachment', 'application/pdf', 0),
(37, 1, '2014-02-17 09:42:49', '2014-02-17 09:42:49', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>', 'abc', '', 'inherit', 'open', 'open', '', '30-autosave-v1', '', '', '2014-02-17 09:42:49', '2014-02-17 09:42:49', '', 30, 'http://localhost/?p=37', 0, 'revision', '', 0),
(38, 1, '2014-03-03 07:45:28', '2014-03-03 07:45:28', '', 'Featured post', '', 'trash', 'open', 'open', '', 'featured-post', '', '', '2014-04-03 06:50:16', '2014-04-03 06:50:16', '', 0, 'http://localhost/?p=38', 0, 'post', '', 0),
(41, 1, '2014-02-21 09:48:07', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-21 09:48:07', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=41', 1, 'nav_menu_item', '', 0),
(42, 1, '2014-02-21 09:48:08', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-21 09:48:08', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=42', 1, 'nav_menu_item', '', 0),
(43, 1, '2014-02-21 09:48:08', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-21 09:48:08', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=43', 1, 'nav_menu_item', '', 0),
(44, 1, '2014-02-24 07:37:40', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-24 07:37:40', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=44', 1, 'nav_menu_item', '', 0),
(45, 1, '2014-02-24 07:37:40', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-24 07:37:40', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=45', 1, 'nav_menu_item', '', 0),
(46, 1, '2014-02-24 07:37:41', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-24 07:37:41', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=46', 1, 'nav_menu_item', '', 0),
(47, 1, '2014-02-24 08:20:56', '2014-02-24 08:20:56', '<h1>I. Giới Thiệu</h1>\r\n<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n\r\n&nbsp;\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n\r\n&nbsp;\r\n<h1>II. Cài Đặt Môi Trường</h1>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable</code>\r\n\r\n## Cài đặt những gói thư viện phụ thuộc khác\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby\r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails', '[Blogging Rails] Mở Đầu', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-02-24 08:20:56', '2014-02-24 08:20:56', '', 8, 'http://localhost/?p=47', 0, 'revision', '', 0),
(48, 1, '2014-02-25 09:53:43', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-25 09:53:43', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=48', 1, 'nav_menu_item', '', 0),
(49, 1, '2014-02-25 09:53:44', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-25 09:53:44', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=49', 1, 'nav_menu_item', '', 0),
(50, 1, '2014-02-25 09:53:45', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-25 09:53:45', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=50', 1, 'nav_menu_item', '', 0),
(51, 1, '2014-02-25 09:55:17', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-25 09:55:17', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=51', 1, 'nav_menu_item', '', 0),
(52, 1, '2014-02-25 09:55:18', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-25 09:55:18', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=52', 1, 'nav_menu_item', '', 0),
(53, 1, '2014-02-25 09:55:19', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-25 09:55:19', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=53', 1, 'nav_menu_item', '', 0),
(54, 1, '2014-02-25 09:59:07', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-25 09:59:07', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=54', 1, 'nav_menu_item', '', 0),
(55, 1, '2014-02-25 09:59:07', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-25 09:59:07', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=55', 1, 'nav_menu_item', '', 0),
(56, 1, '2014-02-25 09:59:08', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-02-25 09:59:08', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=56', 1, 'nav_menu_item', '', 0),
(57, 1, '2014-02-27 01:37:06', '2014-02-27 01:37:06', 'Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!', 'Hello world!', '', 'inherit', 'open', 'open', '', '1-autosave-v1', '', '', '2014-02-27 01:37:06', '2014-02-27 01:37:06', '', 1, 'http://localhost/?p=57', 0, 'revision', '', 0),
(59, 1, '2014-03-03 08:07:03', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-03 08:07:03', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=59', 1, 'nav_menu_item', '', 0),
(60, 1, '2014-03-03 08:07:03', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-03 08:07:03', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=60', 1, 'nav_menu_item', '', 0),
(61, 1, '2014-03-03 08:07:04', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-03 08:07:04', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=61', 1, 'nav_menu_item', '', 0),
(63, 1, '2014-03-03 08:08:05', '2014-03-03 08:08:05', 'my post', 'Build a full RSS crawling system using cURL & PhpQuery Build a full RSS crawling system using cURL & PhpQuery', '', 'publish', 'open', 'open', '', 'test-post', '', '', '2014-03-17 10:12:05', '2014-03-17 10:12:05', '', 0, 'http://localhost/?p=63', 0, 'post', '', 0),
(64, 1, '2014-03-03 08:08:05', '2014-03-03 08:08:05', 'my post', 'test post', '', 'inherit', 'open', 'open', '', '63-revision-v1', '', '', '2014-03-03 08:08:05', '2014-03-03 08:08:05', '', 63, 'http://localhost/?p=64', 0, 'revision', '', 0),
(65, 1, '2014-04-03 06:41:25', '2014-04-03 06:41:25', 'Trong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này.\n\n<a href="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg"><img class="alignnone size-full wp-image-115" alt="5Bmyo1m" src="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg" width="665" height="191" /></a>\n<h2>1. Ruby on Rails</h2>\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\n<h2>2. Ứng dụng Blogging Rails</h2>\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\n\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\n\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\n\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\n\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\n<h3>II. Cài Đặt Môi Trường</h3>\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\n\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\n\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\n<code>sudo apt-get install curl\ncurl -L get.rvm.io | bash -s stable</code>\n<h4>## Cài đặt những gói thư viện phụ thuộc khác</h4>\n// The ''toEqual'' matcher\ndescribe("The ''toEqual'' matcher", function() {\n\n    it("should work for objects", function() {\n        var foo = {\n            a: 12,\n            b: 34\n        };\n        var bar = {\n            a: 12,\n            b: 34\n        };\n        expect(foo).toEqual(bar);\n    });\n\n    it("The ''toMatch'' matcher is for regular expressions", function() {\n        var message = "foo bar baz";\n\n        expect(message).toMatch(/bar/);\n        expect(message).toMatch("bar");\n        expect(message).not.toMatch(/quux/);\n    });\n\n    it("The ''toBeDefined'' matcher compares against `undefined`", function() {\n        var a = {\n          foo: "foo"\n        };\n\n        expect(a.foo).toBeDefined();\n        expect(a.bar).not.toBeDefined();\n    });\n\n    it("The `toBeUndefined` matcher compares against `undefined`", function() {\n        var a = {\n          foo: "foo"\n        };\n\n        expect(a.foo).not.toBeUndefined();\n        expect(a.bar).toBeUndefined();\n    });\n\n    it("The ''toBeNull'' matcher compares against null", function() {\n        var a = null;\n        var foo = "foo";\n\n        expect(null).toBeNull();\n        expect(a).toBeNull();\n        expect(foo).not.toBeNull();\n    });\n\n    it("The ''toBeTruthy'' matcher is for boolean casting testing", function() {\n        var a, foo = "foo";\n\n        expect(foo).toBeTruthy();\n        expect(a).not.toBeTruthy();\n    });\n\n    it("The ''toBeFalsy'' matcher is for boolean casting testing", function() {\n        var a, foo = "foo";\n\n        expect(a).toBeFalsy();\n        expect(foo).not.toBeFalsy();\n    });\n\n    it("The ''toContain'' matcher is for finding an item in an Array", function() {\n        var a = ["foo", "bar", "baz"];\n\n        expect(a).toContain("bar");\n        expect(a).not.toContain("quux");\n    });\n\n    it("The ''toBeLessThan'' matcher is for mathematical comparisons", function() {\n        var pi = 3.1415926,\n          e = 2.78;\n\n        expect(e).toBeLessThan(pi);\n        expect(pi).not.toBeLessThan(e);\n    });\n\n    it("The ''toBeGreaterThan'' is for mathematical comparisons", function() {\n        var pi = 3.1415926,\n          e = 2.78;\n\n        expect(pi).toBeGreaterThan(e);\n        expect(e).not.toBeGreaterThan(pi);\n    });\n\n    it("The ''toBeCloseTo'' matcher is for precision math comparison", function() {\n        var pi = 3.1415926,\n          e = 2.78;\n\n        expect(pi).not.toBeCloseTo(e, 2);\n        expect(pi).toBeCloseTo(e, 0);\n    });\n\n    it("The ''toThrow'' matcher is for testing if a function throws an exception", function() {\n        var foo = function() {\n            return 1 + 2;\n        };\n        var bar = function() {\n            return a + 1;\n        };\n\n        expect(foo).not.toThrow();\n        expect(bar).toThrow();\n    });\n});[/php]\nsudo apt-get install build-essential openssl libreadline6\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\nautoconf libc6-dev ncurses-dev automake libtool bison\nsubversion pkg-config\n## Load RVM vào terminal và khởi động lại terminal\nsource ~/.rvm/scripts/rvm\ntype rvm | head -n 1\n\n## Install Ruby\nrvm install 2.0.0\nrvm use 2.0.0 --default\n\n## Cài đặt git để quản lý source code và deploy lên Heroku\nsudo apt-get install git-core build-essential\n\n## Cài đặt Rails\ngem install rails', 'Format style for blog', '', 'inherit', 'open', 'open', '', '8-autosave-v1', '', '', '2014-04-03 06:41:25', '2014-04-03 06:41:25', '', 8, 'http://localhost/?p=65', 0, 'revision', '', 0),
(66, 1, '2014-03-10 10:11:37', '2014-03-10 10:11:37', 'feature test', 'Testing JavaScript Using the Jasmine Framework', '', 'publish', 'open', 'open', '', 'feature-test', '', '', '2014-04-03 04:45:11', '2014-04-03 04:45:11', '', 0, 'http://localhost/?p=66', 0, 'post', '', 0),
(67, 1, '2014-03-10 10:11:37', '2014-03-10 10:11:37', 'feature test', 'feature test', '', 'inherit', 'open', 'open', '', '66-revision-v1', '', '', '2014-03-10 10:11:37', '2014-03-10 10:11:37', '', 66, 'http://localhost/?p=67', 0, 'revision', '', 0),
(68, 1, '2014-03-10 10:22:29', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-10 10:22:29', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=68', 1, 'nav_menu_item', '', 0),
(69, 1, '2014-03-10 10:22:31', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-10 10:22:31', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=69', 1, 'nav_menu_item', '', 0),
(70, 1, '2014-03-10 10:22:32', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-10 10:22:32', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=70', 1, 'nav_menu_item', '', 0),
(72, 1, '2014-03-10 10:24:34', '0000-00-00 00:00:00', '', 'Home', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-10 10:24:34', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=72', 1, 'nav_menu_item', '', 0),
(73, 1, '2014-03-10 10:24:35', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-10 10:24:35', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=73', 1, 'nav_menu_item', '', 0),
(74, 1, '2014-03-10 10:24:36', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-10 10:24:36', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=74', 1, 'nav_menu_item', '', 0),
(75, 1, '2014-03-10 10:25:27', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-10 10:25:27', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=75', 1, 'nav_menu_item', '', 0),
(76, 1, '2014-03-10 10:25:28', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-10 10:25:28', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=76', 1, 'nav_menu_item', '', 0),
(77, 1, '2014-03-10 10:25:29', '0000-00-00 00:00:00', ' ', '', '', 'draft', 'open', 'open', '', '', '', '', '2014-03-10 10:25:29', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=77', 1, 'nav_menu_item', '', 0),
(78, 1, '2014-03-17 10:09:30', '2014-03-17 10:09:30', 'feature test', 'Testing JavaScript Using the Jasmine Framework', '', 'inherit', 'open', 'open', '', '66-revision-v1', '', '', '2014-03-17 10:09:30', '2014-03-17 10:09:30', '', 66, 'http://localhost/?p=78', 0, 'revision', '', 0),
(80, 1, '2014-03-17 10:11:32', '2014-03-17 10:11:32', 'my post', 'Build a full RSS crawling system using cURL & PhpQuery', '', 'inherit', 'open', 'open', '', '63-revision-v1', '', '', '2014-03-17 10:11:32', '2014-03-17 10:11:32', '', 63, 'http://localhost/?p=80', 0, 'revision', '', 0),
(81, 1, '2014-03-17 10:11:39', '2014-03-17 10:11:39', 'my post', 'Build a full RSS crawling system using cURL & PhpQuery', '', 'inherit', 'open', 'open', '', '63-autosave-v1', '', '', '2014-03-17 10:11:39', '2014-03-17 10:11:39', '', 63, 'http://localhost/?p=81', 0, 'revision', '', 0),
(82, 1, '2014-03-17 10:12:05', '2014-03-17 10:12:05', 'my post', 'Build a full RSS crawling system using cURL & PhpQuery Build a full RSS crawling system using cURL & PhpQuery', '', 'inherit', 'open', 'open', '', '63-revision-v1', '', '', '2014-03-17 10:12:05', '2014-03-17 10:12:05', '', 63, 'http://localhost/?p=82', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(83, 1, '2014-03-19 09:09:21', '2014-03-19 09:09:21', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n<h3>I. API with Sinatra.</h3>\r\n<pre>1, Install.</pre>\r\n<pre>cài đặt sinatra gem file:</pre>\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n\r\n&nbsp;\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 09:09:21', '2014-03-19 09:09:21', '', 4, 'http://localhost/?p=83', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(84, 1, '2014-03-19 09:22:59', '2014-03-19 09:22:59', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n<pre>I. API with Sinatra.</pre>\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n\r\n&nbsp;\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 09:22:59', '2014-03-19 09:22:59', '', 4, 'http://localhost/?p=84', 0, 'revision', '', 0),
(85, 1, '2014-04-03 07:41:16', '2014-04-03 07:41:16', 'Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\n\n[php]selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\n $joinStatement = $this-&gt;buildJoinReportSql($params);\n $whereStatement = $this-&gt;buildReportWhereSql($params);\n // end\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);[/php]\n\nI. API with Sinatra.\n1, Install.\n\ncài đặt sinatra gem file:\n\n<code>gem install sinatra</code>\n2, Getting started: Hello World\n\nđầu tiên bạn cần tạo file: app.rb\n\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\n<div></div>\n<div>\n<table>\n<tbody>\n<tr>\n<td data-settings="show">\n<div>\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\n</div></td>\n<td>\n<div>\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\n</div></td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\n<div></div>\n<div>\n<table>\n<tbody>\n<tr>\n<td data-settings="show">\n<div>\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\n</div></td>\n<td>\n<div>\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\n</div></td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\n\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\n<div></div>\n<div>\n<table>\n<tbody>\n<tr>\n<td data-settings="show">\n<div>\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\n</div></td>\n<td>\n<div>\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\n</div></td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\nTa cũng có thể sử dụng matching với Regular Expressions!.\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\n<div></div>\n<div>\n<table>\n<tbody>\n<tr>\n<td data-settings="show">\n<div>\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\n</div></td>\n<td>\n<div>\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\n</div></td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n<h3>II. Nginx Proxied to Unicorn</h3>\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.<span style="line-height: 1.5em;">Chúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:</span>\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover"></div>\n<h3 id="label-Starting+the+server">Starting the server</h3>\nđầu tiên ta khởi dộng nginx:\n<code>/etc/init.d/nginx start</code>\n\nsau đó chạy lệnh:<code> ./run.sh start</code>\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\n<code>./run.sh stop</code>\n\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-autosave-v1', '', '', '2014-04-03 07:41:16', '2014-04-03 07:41:16', '', 4, 'http://localhost/?p=85', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(86, 1, '2014-03-19 09:24:18', '2014-03-19 09:24:18', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n<pre>selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);</pre>\r\n<pre>$whereStatement = $this-&gt;buildReportWhereSql($params);</pre>\r\n<pre>// end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);</pre>\r\n<pre></pre>\r\nI. API with Sinatra.\r\n\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n\r\n&nbsp;\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 09:24:18', '2014-03-19 09:24:18', '', 4, 'http://localhost/?p=86', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(87, 1, '2014-03-19 09:24:46', '2014-03-19 09:24:46', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n\r\nI. API with Sinatra.\r\n\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n\r\n&nbsp;\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n&nbsp;\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 09:24:46', '2014-03-19 09:24:46', '', 4, 'http://localhost/?p=87', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(88, 1, '2014-03-19 09:28:19', '2014-03-19 09:28:19', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n<pre>I. API with Sinatra.</pre>\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 09:28:19', '2014-03-19 09:28:19', '', 4, 'http://localhost/?p=88', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(89, 1, '2014-03-19 09:30:14', '2014-03-19 09:30:14', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n<pre lang="php">selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n$whereStatement = $this-&gt;buildReportWhereSql($params);\r\n// end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);</pre>\r\nI. API with Sinatra.\r\n\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 09:30:14', '2014-03-19 09:30:14', '', 4, 'http://localhost/?p=89', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(90, 1, '2014-03-19 09:32:00', '2014-03-19 09:32:00', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n<pre lang="php" line="1">selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n$whereStatement = $this-&gt;buildReportWhereSql($params);\r\n// end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);</pre>\r\nI. API with Sinatra.\r\n\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 09:32:00', '2014-03-19 09:32:00', '', 4, 'http://localhost/?p=90', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(91, 1, '2014-03-19 10:01:42', '2014-03-19 10:01:42', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n[css]selectStatement = $params[''report_table'']. ''.'' . $this-&amp;gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&amp;gt;buildJoinReportSql($params);\r\n$whereStatement = $this-&amp;gt;buildReportWhereSql($params);\r\n// end\r\n $groupbyStatement = $this-&amp;gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&amp;gt;buildWrapperReportDataSql($multiplication);[/css]\r\nI. API with Sinatra.\r\n\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:01:42', '2014-03-19 10:01:42', '', 4, 'http://localhost/?p=91', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(92, 1, '2014-03-19 10:02:31', '2014-03-19 10:02:31', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n[php]selectStatement = $params[''report_table'']. ''.'' . $this-&amp;gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&amp;gt;buildJoinReportSql($params);\r\n$whereStatement = $this-&amp;gt;buildReportWhereSql($params);\r\n// end\r\n $groupbyStatement = $this-&amp;gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&amp;gt;buildWrapperReportDataSql($multiplication);[/php]\r\nI. API with Sinatra.\r\n\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:02:31', '2014-03-19 10:02:31', '', 4, 'http://localhost/?p=92', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(93, 1, '2014-03-19 10:04:11', '2014-03-19 10:04:11', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n[css]selectStatement = $params[''report_table'']. ''.'' . $this-&amp;gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&amp;gt;buildJoinReportSql($params);\r\n$whereStatement = $this-&amp;gt;buildReportWhereSql($params);\r\n// end\r\n $groupbyStatement = $this-&amp;gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&amp;gt;buildWrapperReportDataSql($multiplication);[/css]\r\nI. API with Sinatra.\r\n\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:04:11', '2014-03-19 10:04:11', '', 4, 'http://localhost/?p=93', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(94, 1, '2014-03-19 10:08:03', '2014-03-19 10:08:03', '<pre><a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);\r\n I. API with Sinatra.</pre>\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:08:03', '2014-03-19 10:08:03', '', 4, 'http://localhost/?p=94', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(95, 1, '2014-03-19 10:12:22', '2014-03-19 10:12:22', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n <pre>selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);\r\n I. API with Sinatra.</pre>\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:12:22', '2014-03-19 10:12:22', '', 4, 'http://localhost/?p=95', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(96, 1, '2014-03-19 10:13:00', '2014-03-19 10:13:00', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n <php>selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);\r\n I. API with Sinatra.</php>\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:13:00', '2014-03-19 10:13:00', '', 4, 'http://localhost/?p=96', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(97, 1, '2014-03-19 10:13:29', '2014-03-19 10:13:29', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n <php>selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);</php>\r\n I. API with Sinatra.\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:13:29', '2014-03-19 10:13:29', '', 4, 'http://localhost/?p=97', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(98, 1, '2014-03-19 10:14:20', '2014-03-19 10:14:20', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n [php]selectStatement = $params[''report_table'']. ''.'' . $this-&amp;gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&amp;gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&amp;gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&amp;gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&amp;gt;buildWrapperReportDataSql($multiplication);[/php]\r\n I. API with Sinatra.\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:14:20', '2014-03-19 10:14:20', '', 4, 'http://localhost/?p=98', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(99, 1, '2014-03-19 10:22:48', '2014-03-19 10:22:48', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n <pre class="brush: php; highlight: [12]; html-script: true; title: Code example: (this example was added using the title parameter); notranslate" title="Code example: (this example was added using the title parameter)">selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);</pre>\r\n I. API with Sinatra.\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:22:48', '2014-03-19 10:22:48', '', 4, 'http://localhost/?p=99', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(100, 1, '2014-03-19 10:23:49', '2014-03-19 10:23:49', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n [pre]selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);[/pre]\r\n I. API with Sinatra.\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:23:49', '2014-03-19 10:23:49', '', 4, 'http://localhost/?p=100', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(101, 1, '2014-03-19 10:24:13', '2014-03-19 10:24:13', '<a href="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n.jpg"><img class="alignnone size-thumbnail wp-image-5" alt="1395373_694473480565667_2030017099_n" src="http://localhost/wp-content/uploads/2014/02/1395373_694473480565667_2030017099_n-150x150.jpg" width="150" height="150" /></a>Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n [php]selectStatement = $params[''report_table'']. ''.'' . $this-&amp;gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&amp;gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&amp;gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&amp;gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&amp;gt;buildWrapperReportDataSql($multiplication);[/php]\r\n I. API with Sinatra.\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n<div id="crayon-52fd9e7aab0a2127490529" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0a2127490529-8">8</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0a2127490529-1"># app.rb</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-2">require ''sinatra''</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-3"></div>\r\n<div id="crayon-52fd9e7aab0a2127490529-4">class HelloWorldApp &amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-5">  get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-6">    "Hello, world!"</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-7">  end</div>\r\n<div id="crayon-52fd9e7aab0a2127490529-8">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<code>ruby app.rb </code>là có thể chạy được api rồi.\r\n\r\n3. Routes\r\n\r\ntrong sinatra 1 route được định nghĩa với 1 method HTTP\r\n<div id="crayon-52fd9e7aab0af787900331" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0af787900331-31">31</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0af787900331-1">get ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-2">  .. show something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-3">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-4"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-5">post ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-6">  .. create something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-7">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-8"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-9">put ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-10">  .. replace something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-11">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-12"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-13">patch ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-14">  .. modify something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-15">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-16"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-17">delete ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-18">  .. annihilate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-19">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-20"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-21">options ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-22">  .. appease something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-23">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-24"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-25">link ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-26">  .. affiliate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-27">end</div>\r\n<div id="crayon-52fd9e7aab0af787900331-28"></div>\r\n<div id="crayon-52fd9e7aab0af787900331-29">unlink ''/'' do</div>\r\n<div id="crayon-52fd9e7aab0af787900331-30">  .. separate something ..</div>\r\n<div id="crayon-52fd9e7aab0af787900331-31">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n<div id="crayon-52fd9e7aab0c2369064223" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0c2369064223-9">9</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c2369064223-1">get ''/say/*/to/*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-2">  # gọi link /say/hello/to/world</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-3">  params[:splat] # = ["hello", "world"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-4">end</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-5"></div>\r\n<div id="crayon-52fd9e7aab0c2369064223-6">get ''/download/*.*'' do</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-7">  # gọi link /download/path/to/file.xml</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-8">  params[:splat] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c2369064223-9">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.\r\n\r\ninstall nginx.\r\n<div id="crayon-52fd9e7aab0d4105378143" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0d4105378143-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d4105378143-1">add-apt-repository ppa:nginx/$nginx</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-2">apt-get update</div>\r\n<div id="crayon-52fd9e7aab0d4105378143-3">apt-get install nginx</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ninstall uncron\r\n<div id="crayon-52fd9e7aab0d9078508132" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0d9078508132-1">1</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0d9078508132-1">gem install unicorn</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:\r\n<div id="crayon-52fd9e7aab0df718257390" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0df718257390-15">15</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0df718257390-1">app</div>\r\n<div id="crayon-52fd9e7aab0df718257390-2">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-3">   +-config.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-4">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-5">   +-myapp.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-6">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-7">   +-unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0df718257390-8">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-9">   +-tmp</div>\r\n<div id="crayon-52fd9e7aab0df718257390-10">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-11">   |   +-shockets</div>\r\n<div id="crayon-52fd9e7aab0df718257390-12">   |   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-13">   |   +-pids</div>\r\n<div id="crayon-52fd9e7aab0df718257390-14">   |</div>\r\n<div id="crayon-52fd9e7aab0df718257390-15">   +-log</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong config.rb ta dùng đoạn code sau\r\n<div id="crayon-52fd9e7aab0e5551964017" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0e5551964017-6">6</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0e5551964017-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-2">require "sinatra"</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-3"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-4">require File.expand_path ''../myapp.rb'', __FILE__</div>\r\n<div id="crayon-52fd9e7aab0e5551964017-5"></div>\r\n<div id="crayon-52fd9e7aab0e5551964017-6">run MyApp</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ntrong file myapp.rb sử dụng code sau\r\n<div id="crayon-52fd9e7aab0ea747485333" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0ea747485333-10">10</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ea747485333-1">require "rubygems"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-2">require "sinatra/base"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-3"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-4">class MyApp \\&amp;lt; Sinatra::Base</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-5"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-6">  get "/" do</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-7">    "Hello, nginx and unicorn!"</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-8">  end</div>\r\n<div id="crayon-52fd9e7aab0ea747485333-9"></div>\r\n<div id="crayon-52fd9e7aab0ea747485333-10">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\ncấu hình trong <code>unicorn.rb</code>\r\n<div id="crayon-52fd9e7aab0f0076392202" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f0076392202-19">19</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f0076392202-1"># set path to app that will be used to configure unicorn,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-2"># note the trailing slash in this example</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-3">@dir = "/path/to/app/"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-4"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-5">worker_processes 2</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-6">working_directory @dir</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-7"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-8">timeout 30</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-9"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-10"># Specify path to socket unicorn listens to,</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-11"># we will use this in our nginx.conf later</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-12">listen "#{@dir}tmp/sockets/unicorn.sock", :backlog =&amp;gt; 64</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-13"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-14"># Set process id path</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-15">pid "#{@dir}tmp/pids/unicorn.pid"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-16"></div>\r\n<div id="crayon-52fd9e7aab0f0076392202-17"># Set log file paths</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-18">stderr_path "#{@dir}log/unicorn.stderr.log"</div>\r\n<div id="crayon-52fd9e7aab0f0076392202-19">stdout_path "#{@dir}log/unicorn.stdout.log"</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong /etc/nginx/ ta sử file config như sau:\r\n<div id="crayon-52fd9e7aab0f6374570710" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-69">69</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-70">70</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-71">71</div>\r\n<div data-line="crayon-52fd9e7aab0f6374570710-72">72</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0f6374570710-1"># this sets the user nginx will run as,</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-2">#and the number of worker processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-3">user nobody nogroup;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-4">worker_processes  1;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-5"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-6"># setup where nginx will log errors to</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-7"># and where the nginx process id resides</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-8">error_log  /var/log/nginx/error.log;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-9">pid        /var/run/nginx.pid;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-10"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-11">events {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-12">  worker_connections  1024;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-13">  # set to on if you have more than 1 worker_processes</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-14">  accept_mutex off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-15">}</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-16"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-17">http {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-18">  include       /etc/nginx/mime.types;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-19"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-20">  default_type application/octet-stream;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-21">  access_log /tmp/nginx.access.log combined;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-22"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-23">  # use the kernel sendfile</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-24">  sendfile        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-25">  # prepend http headers before sendfile()</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-26">  tcp_nopush     on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-27"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-28">  keepalive_timeout  5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-29">  tcp_nodelay        on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-30"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-31">  gzip  on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-32">  gzip_vary on;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-33">  gzip_min_length 500;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-34"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-35">  gzip_disable "MSIE [1-6]\\.(?!.*SV1)";</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-36">  gzip_types text/plain text/xml text/css</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-37">     text/comma-separated-values</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-38">     text/javascript application/x-javascript</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-39">     application/atom+xml image/x-icon;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-40"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-41">  # use the socket we configured in our unicorn.rb</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-42">  upstream unicorn_server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-43">    server unix:/path/to/app/tmp/sockets/unicorn.sock</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-44">        fail_timeout=0;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-45">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-46"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-47">  # configure the virtual host</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-48">  server {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-49">    # replace with your domain name</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-50">    server_name localhost:8081; # tên URL</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-51">    # replace this with your static Sinatra app files, root + public</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-52">    root /path/to/app; # dẫn tới nơi để project của bạn.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-53">    # port to listen for requests on</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-54">    listen 8081; # nghe ở cổng: 8081 ban có thể lựa chon cổng cho riêng mình.</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-55">    # maximum accepted body size of client request</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-56">    client_max_body_size 4G;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-57">    # the server will close connections after this time</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-58">    keepalive_timeout 5;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-59"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-60">    location / {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-61">      try_files $uri @app;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-62">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-63"></div>\r\n<div id="crayon-52fd9e7aab0f6374570710-64">    location @app {</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-65">      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-66">      proxy_set_header Host $http_host;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-67">      proxy_redirect off;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-68">      # pass to the upstream unicorn server mentioned above</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-69">      proxy_pass http://unicorn_server;</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-70">    }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-71">  }</div>\r\n<div id="crayon-52fd9e7aab0f6374570710-72">}</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nĐể chạy chương trình ta có thể sử dụng 1 file sh(run.sh) như sau\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-5">5</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-6">6</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-7">7</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-8">8</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-9">9</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-10">10</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-11">11</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-12">12</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-13">13</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-14">14</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-15">15</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-16">16</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-17">17</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-18">18</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-19">19</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-20">20</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-21">21</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-22">22</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-23">23</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-24">24</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-25">25</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-26">26</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-27">27</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-28">28</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-29">29</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-30">30</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-31">31</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-32">32</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-33">33</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-34">34</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-35">35</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-36">36</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-37">37</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-38">38</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-39">39</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-40">40</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-41">41</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-42">42</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-43">43</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-44">44</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-45">45</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-46">46</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-47">47</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-48">48</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-49">49</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-50">50</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-51">51</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-52">52</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-53">53</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-54">54</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-55">55</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-56">56</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-57">57</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-58">58</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-59">59</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-60">60</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-61">61</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-62">62</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-63">63</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-64">64</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-65">65</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-66">66</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-67">67</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-68">68</div>\r\n<div data-line="crayon-52fd9e7aab0fe696659537-69">69</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0fe696659537-1">#!/bin/sh</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-2"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-3">### BEGIN INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-4"># Provides: unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-5"># Required-Start: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-6"># Required-Stop: $local_fs $remote_fs</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-7"># Default-Start: 2 3 4 5</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-8"># Default-Stop: 0 1 6</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-9"># Short-Description: starts unicorn</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-10"># Description: starts uniconr using start-stop-daemon</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-11">### END INIT INFO</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-12"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-13">set -u</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-14">set -e</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-15"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-16">export PATH=/usr/local/rbenv/bin:$PATH</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-17">export RBENV_DIR=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-18">export RBENV_ROOT=/usr/local/rbenv</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-19"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-20">APP_ROOT=/path/to/app/ # đường link tới app.</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-21">PID=APP_ROOT/tmp/pids/unicorn.pid</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-22">RAILS_ENV=development</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-23"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-24">export PATH="$RBENV_ROOT/shims:$RBENV_ROOT/rbenv:$PATH"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-25">CMD="bundle exec unicorn -D -E $RAILS_ENV -c $APP_ROOT/unicorn.rb"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-26"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-27">old_pid="$PID.oldbin"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-28"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-29">cd $APP_ROOT || exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-30"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-31">sig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-32">test -s "$PID" &amp;amp;&amp;amp; kill -$1 `cat $PID`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-33">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-34"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-35">oldsig () {</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-36">test -s $old_pid &amp;amp;&amp;amp; kill -$1 `cat $old_pid`</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-37">}</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-38"></div>\r\n<div id="crayon-52fd9e7aab0fe696659537-39">case $1 in</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-40">start)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-41">sig 0 &amp;amp;&amp;amp; echo &amp;gt;&amp;amp;2 "Already running" &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-42">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-43">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-44">stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-45">sig QUIT &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-46">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-47">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-48">force-stop)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-49">sig TERM &amp;amp;&amp;amp; 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-50">echo &amp;gt;&amp;amp;2 "Not running"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-51">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-52">restart|reload)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-53">sig HUP &amp;amp;&amp;amp; echo reloaded OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-54">echo &amp;gt;&amp;amp;2 "Couldn''t reload, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-55">$CMD</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-56">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-57">upgrade)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-58">sig USR2 &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-59">echo &amp;gt;&amp;amp;2 "Couldn''t upgrade, starting ''$CMD'' instead"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-60">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-61">rotate)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-62">sig USR1 &amp;amp;&amp;amp; echo rotated logs OK &amp;amp;&amp;amp; exit 0</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-63">echo &amp;gt;&amp;amp;2 "Couldn''t rotate logs" &amp;amp;&amp;amp; 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-64">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-65">*)</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-66">echo &amp;gt;&amp;amp;2 "Usage $0 &amp;lt;start|stop|restart|upgrade|rotate|force-stop&amp;gt;"</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-67">exit 1</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-68">;;</div>\r\n<div id="crayon-52fd9e7aab0fe696659537-69">esac</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-03-19 10:24:13', '2014-03-19 10:24:13', '', 4, 'http://localhost/?p=101', 0, 'revision', '', 0),
(102, 1, '2014-03-28 05:00:26', '0000-00-00 00:00:00', '', 'Auto Draft', '', 'auto-draft', 'open', 'open', '', '', '', '', '2014-03-28 05:00:26', '0000-00-00 00:00:00', '', 0, 'http://localhost/?p=102', 0, 'post', '', 0),
(103, 1, '2014-03-28 07:19:07', '2014-03-28 07:19:07', 'Dear cả nhà, sau một thời gian bận rộn với cái task khó nhằn, em có viết TDD trong quá trình code nên mặc dù bị review khá nhiều lần do stupid, nhưng sau khi fix code, em chạy lại cái spec đó rồi đẩy lên luôn chứ k test lại thực tế như các chị QA, nhưng cũng k có bugs nào nữa. Phù, quá trình test lại sau khi code chỉ là 10s, sau đó fix, và test lại nếu test chưa qua hết. Nhưng khi đẩy lên môi trường test, các chị QA lại tốn tới ít nhất 1 ngày để test lại, và công việc lặp lại. Dù test lại có chọn lọc so với lần trước, và đỡ mất thời gian, đỡ nhàm chán, nhưng nói thật là cứ test đi test lại 1 thứ vì requirement thay đổi mà deadline thì cứ gần kề, vừa stress, vừa OT, lại vừa bực mình.\r\n\r\n\r\n\r\n<blockquote>Vì được nghe các chị ‘giãi bày’, nên em có viết 2 project nhỏ nhỏ để giúp việc test này trở nên tự động, dễ dàng và dễ chịu hơn. Nhưng đây mới chỉ ở bước ý tưởng và đang cần đầu tư</blockquote>\r\n\r\n, mới chỉ demo theo những requirement đơn giản có thể phục vụ cho các task vừa rồi. (Đương nhiên là sau khi task đó hoàn thành em mới có time viết 2 projects này, nên chính xác phải là áp dụng cho những dự án tương tự về sau <img alt=":-P" src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif" /> )\r\n\r\nĐầu tiên là automation test với các câu lệnh SQL. Sẽ có 1 folder chứa các file test. Mỗi file sẽ tương ứng với 1 suites. Trong các suite có thể add nhiều test case. Các chị cũng có thể edit data trước khi chạy suite trong khối block<code>before .. end</code> và roll back dât trong khối block <code>after .. end</code>\r\n\r\nVí dụ:\r\n\r\n[php]#  Created by quyetdc on 2014-03-10.\r\n#  Copyright 2014 quyetdc. All rights reserved.\r\n\r\nbefore do\r\n	{\r\n		insert /  update db\r\n	}\r\n\r\n	{\r\n		insert /  update db\r\n	}\r\nend\r\n\r\n======================================================\r\n\r\npair 1 -- [\r\n	{\r\n		select count(id) from\r\n			/table/ where /conditions/\r\n	}\r\n\r\n	{\r\n		select count(id) from\r\n			/table_2/ where /conditions/\r\n	}\r\n]\r\n\r\npair 2 -- [\r\n	{\r\n		select /value_1/ from\r\n			/table_1/ where /conditions/\r\n	}\r\n\r\n	{\r\n		select /value_2/ from\r\n			/table_2/ where /conditions/\r\n	}\r\n]\r\n\r\n======================================================\r\n\r\nafter do\r\n	{\r\n           roll_back_data for next run suites\r\n	}\r\nend[/php]', 'Idea on Automatically Testing API and SQL with Ruby Script', '', 'publish', 'open', 'open', '', 'idea-on-automatically-testing-api-and-sql-with-ruby-script', '', '', '2014-04-03 04:33:13', '2014-04-03 04:33:13', '', 0, 'http://localhost/?p=103', 0, 'post', '', 0),
(104, 1, '2014-03-28 07:19:07', '2014-03-28 07:19:07', 'Dear cả nhà, sau một thời gian bận rộn với cái task khó nhằn, em có viết TDD trong quá trình code nên mặc dù bị review khá nhiều lần do stupid, nhưng sau khi fix code, em chạy lại cái spec đó rồi đẩy lên luôn chứ k test lại thực tế như các chị QA, nhưng cũng k có bugs nào nữa. Phù, quá trình test lại sau khi code chỉ là 10s, sau đó fix, và test lại nếu test chưa qua hết. Nhưng khi đẩy lên môi trường test, các chị QA lại tốn tới ít nhất 1 ngày để test lại, và công việc lặp lại. Dù test lại có chọn lọc so với lần trước, và đỡ mất thời gian, đỡ nhàm chán, nhưng nói thật là cứ test đi test lại 1 thứ vì requirement thay đổi mà deadline thì cứ gần kề, vừa stress, vừa OT, lại vừa bực mình.\r\n\r\nVì được nghe các chị ‘giãi bày’, nên em có viết 2 project nhỏ nhỏ để giúp việc test này trở nên tự động, dễ dàng và dễ chịu hơn. Nhưng đây mới chỉ ở bước ý tưởng và đang cần đầu tư, mới chỉ demo theo những requirement đơn giản có thể phục vụ cho các task vừa rồi. (Đương nhiên là sau khi task đó hoàn thành em mới có time viết 2 projects này, nên chính xác phải là áp dụng cho những dự án tương tự về sau <img alt=":-P" src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif" /> )\r\n\r\nĐầu tiên là automation test với các câu lệnh SQL. Sẽ có 1 folder chứa các file test. Mỗi file sẽ tương ứng với 1 suites. Trong các suite có thể add nhiều test case. Các chị cũng có thể edit data trước khi chạy suite trong khối block<code>before .. end</code> và roll back dât trong khối block <code>after .. end</code>\r\n\r\nVí dụ:\r\n\r\n[php]# Created by quyetdc on 2014-03-10.\r\n# Copyright 2014 quyetdc. All rights reserved.\r\n\r\nbefore do\r\n{\r\ninsert / update db\r\n}\r\n\r\n{\r\ninsert / update db\r\n}\r\nend\r\n\r\n======================================================\r\n\r\npair 1 -- [\r\n{\r\nselect count(id) from\r\n/table/ where /conditions/\r\n}\r\n\r\n{\r\nselect count(id) from\r\n/table_2/ where /conditions/\r\n}\r\n]\r\npair 2 -- [\r\n{\r\nselect /value_1/ from\r\n/table_1/ where /conditions/\r\n}\r\n\r\n{\r\nselect /value_2/ from\r\n/table_2/ where /conditions/\r\n}\r\n]\r\n\r\n======================================================\r\n\r\nafter do\r\n{\r\nroll_back_data for next run suites\r\n}\r\nend[/php]', 'Idea on Automatically Testing API and SQL with Ruby Script', '', 'inherit', 'open', 'open', '', '103-revision-v1', '', '', '2014-03-28 07:19:07', '2014-03-28 07:19:07', '', 103, 'http://localhost/?p=104', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(105, 1, '2014-03-28 10:38:27', '2014-03-28 10:38:27', '<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n\r\n&nbsp;\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n\r\n&nbsp;\r\n<h1>II. Cài Đặt Môi Trường</h1>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable</code>\r\n\r\n## Cài đặt những gói thư viện phụ thuộc khác\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby\r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails', '[Blogging Rails] Mở Đầu', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-03-28 10:38:27', '2014-03-28 10:38:27', '', 8, 'http://localhost/?p=105', 0, 'revision', '', 0),
(106, 1, '2014-04-03 02:00:47', '2014-04-03 02:00:47', '<p>Dear cả nhà, sau một thời gian bận rộn với cái task khó nhằn, em có viết TDD trong quá trình code nên mặc dù bị review khá nhiều lần do stupid, nhưng sau khi fix code, em chạy lại cái spec đó rồi đẩy lên luôn chứ k test lại thực tế như các chị QA, nhưng cũng k có bugs nào nữa. Phù, quá trình test lại sau khi code chỉ là 10s, sau đó fix, và test lại nếu test chưa qua hết. Nhưng khi đẩy lên môi trường test, các chị QA lại tốn tới ít nhất 1 ngày để test lại, và công việc lặp lại. Dù test lại có chọn lọc so với lần trước, và đỡ mất thời gian, đỡ nhàm chán, nhưng nói thật là cứ test đi test lại 1 thứ vì requirement thay đổi mà deadline thì cứ gần kề, vừa stress, vừa OT, lại vừa bực mình.</p><p>Vì được nghe các chị ‘giãi bày’, nên em có viết 2 project nhỏ nhỏ để giúp việc test này trở nên tự động, dễ dàng và dễ chịu hơn. Nhưng đây mới chỉ ở bước ý tưởng và đang cần đầu tư, mới chỉ demo theo những requirement đơn giản có thể phục vụ cho các task vừa rồi. (Đương nhiên là sau khi task đó hoàn thành em mới có time viết 2 projects này, nên chính xác phải là áp dụng cho những dự án tương tự về sau&nbsp;<img alt=":-P" src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif" data-mce-src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif">&nbsp;)</p><p>Đầu tiên là automation test với các câu lệnh SQL. Sẽ có 1 folder chứa các file test. Mỗi file sẽ tương ứng với 1 suites. Trong các suite có thể add nhiều test case. Các chị cũng có thể edit data trước khi chạy suite trong khối block<code>before .. end</code>&nbsp;và roll back dât trong khối block&nbsp;<code>after .. end</code></p><p>Ví dụ:</p><pre>[php]# Created by quyetdc on 2014-03-10.&lt;br&gt;# Copyright 2014 quyetdc. All rights reserved.&lt;br&gt;&lt;br&gt;before do&lt;br&gt;{&lt;br&gt;insert / update db&lt;br&gt;}&lt;br&gt;&lt;br&gt;{&lt;br&gt;insert / update db&lt;br&gt;}&lt;br&gt;end&lt;br&gt;&lt;br&gt;======================================================&lt;br&gt;&lt;br&gt;pair 1 -- [&lt;br&gt;{&lt;br&gt;select count(id) from&lt;br&gt;/table/ where /conditions/&lt;br&gt;}&lt;br&gt;&lt;br&gt;{&lt;br&gt;select count(id) from&lt;br&gt;/table_2/ where /conditions/&lt;br&gt;}&lt;br&gt;]&lt;br&gt;pair 2 -- [&lt;br&gt;{&lt;br&gt;select /value_1/ from&lt;br&gt;/table_1/ where /conditions/&lt;br&gt;}&lt;br&gt;&lt;br&gt;{&lt;br&gt;select /value_2/ from&lt;br&gt;/table_2/ where /conditions/&lt;br&gt;}&lt;br&gt;]&lt;br&gt;&lt;br&gt;======================================================&lt;br&gt;&lt;br&gt;after do&lt;br&gt;{&lt;br&gt;roll_back_data for next run suites&lt;br&gt;}&lt;br&gt;end[/php]</pre>', 'Idea on Automatically Testing API and SQL with Ruby Script', '', 'inherit', 'open', 'open', '', '103-revision-v1', '', '', '2014-04-03 02:00:47', '2014-04-03 02:00:47', '', 103, 'http://localhost/?p=106', 0, 'revision', '', 0),
(107, 1, '2014-04-03 04:29:44', '2014-04-03 04:29:44', 'Dear cả nhà, sau một thời gian bận rộn với cái task khó nhằn, em có viết TDD trong quá trình code nên mặc dù bị review khá nhiều lần do stupid, nhưng sau khi fix code, em chạy lại cái spec đó rồi đẩy lên luôn chứ k test lại thực tế như các chị QA, nhưng cũng k có bugs nào nữa. Phù, quá trình test lại sau khi code chỉ là 10s, sau đó fix, và test lại nếu test chưa qua hết. Nhưng khi đẩy lên môi trường test, các chị QA lại tốn tới ít nhất 1 ngày để test lại, và công việc lặp lại. Dù test lại có chọn lọc so với lần trước, và đỡ mất thời gian, đỡ nhàm chán, nhưng nói thật là cứ test đi test lại 1 thứ vì requirement thay đổi mà deadline thì cứ gần kề, vừa stress, vừa OT, lại vừa bực mình.\n\nVì được nghe các chị ‘giãi bày’, nên em có viết 2 project nhỏ nhỏ để giúp việc test này trở nên tự động, dễ dàng và dễ chịu hơn. Nhưng đây mới chỉ ở bước ý tưởng và đang cần đầu tư, mới chỉ demo theo những requirement đơn giản có thể phục vụ cho các task vừa rồi. (Đương nhiên là sau khi task đó hoàn thành em mới có time viết 2 projects này, nên chính xác phải là áp dụng cho những dự án tương tự về sau <img alt=":-P" src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif" /> )\n\nĐầu tiên là automation test với các câu lệnh SQL. Sẽ có 1 folder chứa các file test. Mỗi file sẽ tương ứng với 1 suites. Trong các suite có thể add nhiều test case. Các chị cũng có thể edit data trước khi chạy suite trong khối block<code>before .. end</code> và roll back dât trong khối block <code>after .. end</code>\n\nVí dụ:\n\n[php]#  Created by quyetdc on 2014-03-10.\n#  Copyright 2014 quyetdc. All rights reserved.\n\nbefore do\n	{\n		insert /  update db\n	}\n\n	{\n		insert /  update db\n	}\nend\n\n======================================================\n\npair 1 -- [\n	{\n		select count(id) from\n			/table/ where /conditions/\n	}\n\n	{\n		select count(id) from\n			/table_2/ where /conditions/\n	}\n]\n\npair 2 -- [\n	{\n		select /value_1/ from\n			/table_1/ where /conditions/\n	}\n\n	{\n		select /value_2/ from\n			/table_2/ where /conditions/\n	}\n]\n\n======================================================\n\nafter do\n	{\n           roll_back_data for next run suites\n	}\nend[/php]', 'Idea on Automatically Testing API and SQL with Ruby Script', '', 'inherit', 'open', 'open', '', '103-autosave-v1', '', '', '2014-04-03 04:29:44', '2014-04-03 04:29:44', '', 103, 'http://localhost/?p=107', 0, 'revision', '', 0),
(108, 1, '2014-04-03 02:01:56', '2014-04-03 02:01:56', 'Dear cả nhà, sau một thời gian bận rộn với cái task khó nhằn, em có viết TDD trong quá trình code nên mặc dù bị review khá nhiều lần do stupid, nhưng sau khi fix code, em chạy lại cái spec đó rồi đẩy lên luôn chứ k test lại thực tế như các chị QA, nhưng cũng k có bugs nào nữa. Phù, quá trình test lại sau khi code chỉ là 10s, sau đó fix, và test lại nếu test chưa qua hết. Nhưng khi đẩy lên môi trường test, các chị QA lại tốn tới ít nhất 1 ngày để test lại, và công việc lặp lại. Dù test lại có chọn lọc so với lần trước, và đỡ mất thời gian, đỡ nhàm chán, nhưng nói thật là cứ test đi test lại 1 thứ vì requirement thay đổi mà deadline thì cứ gần kề, vừa stress, vừa OT, lại vừa bực mình.\r\n\r\nVì được nghe các chị ‘giãi bày’, nên em có viết 2 project nhỏ nhỏ để giúp việc test này trở nên tự động, dễ dàng và dễ chịu hơn. Nhưng đây mới chỉ ở bước ý tưởng và đang cần đầu tư, mới chỉ demo theo những requirement đơn giản có thể phục vụ cho các task vừa rồi. (Đương nhiên là sau khi task đó hoàn thành em mới có time viết 2 projects này, nên chính xác phải là áp dụng cho những dự án tương tự về sau <img alt=":-P" src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif" /> )\r\n\r\nĐầu tiên là automation test với các câu lệnh SQL. Sẽ có 1 folder chứa các file test. Mỗi file sẽ tương ứng với 1 suites. Trong các suite có thể add nhiều test case. Các chị cũng có thể edit data trước khi chạy suite trong khối block<code>before .. end</code> và roll back dât trong khối block <code>after .. end</code>\r\n\r\nVí dụ:\r\n\r\n[php]# Created by quyetdc on 2014-03-10.&lt;br&gt;# Copyright 2014 quyetdc. All rights reserved.&lt;br&gt;&lt;br&gt;before do&lt;br&gt;{&lt;br&gt;insert / update db&lt;br&gt;}&lt;br&gt;&lt;br&gt;{&lt;br&gt;insert / update db&lt;br&gt;}&lt;br&gt;end&lt;br&gt;&lt;br&gt;======================================================&lt;br&gt;&lt;br&gt;pair 1 -- [&lt;br&gt;{&lt;br&gt;select count(id) from&lt;br&gt;/table/ where /conditions/&lt;br&gt;}&lt;br&gt;&lt;br&gt;{&lt;br&gt;select count(id) from&lt;br&gt;/table_2/ where /conditions/&lt;br&gt;}&lt;br&gt;]&lt;br&gt;pair 2 -- [&lt;br&gt;{&lt;br&gt;select /value_1/ from&lt;br&gt;/table_1/ where /conditions/&lt;br&gt;}&lt;br&gt;&lt;br&gt;{&lt;br&gt;select /value_2/ from&lt;br&gt;/table_2/ where /conditions/&lt;br&gt;}&lt;br&gt;]&lt;br&gt;&lt;br&gt;======================================================&lt;br&gt;&lt;br&gt;after do&lt;br&gt;{&lt;br&gt;roll_back_data for next run suites&lt;br&gt;}&lt;br&gt;end[/php]', 'Idea on Automatically Testing API and SQL with Ruby Script', '', 'inherit', 'open', 'open', '', '103-revision-v1', '', '', '2014-04-03 02:01:56', '2014-04-03 02:01:56', '', 103, 'http://localhost/?p=108', 0, 'revision', '', 0),
(109, 1, '2014-04-03 02:05:02', '2014-04-03 02:05:02', 'Dear cả nhà, sau một thời gian bận rộn với cái task khó nhằn, em có viết TDD trong quá trình code nên mặc dù bị review khá nhiều lần do stupid, nhưng sau khi fix code, em chạy lại cái spec đó rồi đẩy lên luôn chứ k test lại thực tế như các chị QA, nhưng cũng k có bugs nào nữa. Phù, quá trình test lại sau khi code chỉ là 10s, sau đó fix, và test lại nếu test chưa qua hết. Nhưng khi đẩy lên môi trường test, các chị QA lại tốn tới ít nhất 1 ngày để test lại, và công việc lặp lại. Dù test lại có chọn lọc so với lần trước, và đỡ mất thời gian, đỡ nhàm chán, nhưng nói thật là cứ test đi test lại 1 thứ vì requirement thay đổi mà deadline thì cứ gần kề, vừa stress, vừa OT, lại vừa bực mình.\r\n\r\nVì được nghe các chị ‘giãi bày’, nên em có viết 2 project nhỏ nhỏ để giúp việc test này trở nên tự động, dễ dàng và dễ chịu hơn. Nhưng đây mới chỉ ở bước ý tưởng và đang cần đầu tư, mới chỉ demo theo những requirement đơn giản có thể phục vụ cho các task vừa rồi. (Đương nhiên là sau khi task đó hoàn thành em mới có time viết 2 projects này, nên chính xác phải là áp dụng cho những dự án tương tự về sau <img alt=":-P" src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif" /> )\r\n\r\nĐầu tiên là automation test với các câu lệnh SQL. Sẽ có 1 folder chứa các file test. Mỗi file sẽ tương ứng với 1 suites. Trong các suite có thể add nhiều test case. Các chị cũng có thể edit data trước khi chạy suite trong khối block<code>before .. end</code> và roll back dât trong khối block <code>after .. end</code>\r\n\r\nVí dụ:\r\n\r\n[php]#  Created by quyetdc on 2014-03-10.\r\n#  Copyright 2014 quyetdc. All rights reserved.\r\n\r\nbefore do	\r\n	{\r\n		insert /  update db\r\n	}\r\n\r\n	{\r\n		insert /  update db\r\n	}		\r\nend\r\n\r\n======================================================\r\n\r\npair 1 -- [\r\n	{\r\n		select count(id) from \r\n			/table/ where /conditions/ 			\r\n	}\r\n\r\n	{\r\n		select count(id) from \r\n			/table_2/ where /conditions/ 			\r\n	}\r\n]\r\n\r\n\r\npair 2 -- [\r\n	{\r\n		select /value_1/ from \r\n			/table_1/ where /conditions/ 			\r\n	}\r\n\r\n	{\r\n		select /value_2/ from \r\n			/table_2/ where /conditions/ 			\r\n	}\r\n]\r\n\r\n======================================================\r\n\r\nafter do\r\n	{\r\n           roll_back_data for next run suites\r\n	}		\r\nend[/php]', 'Idea on Automatically Testing API and SQL with Ruby Script', '', 'inherit', 'open', 'open', '', '103-revision-v1', '', '', '2014-04-03 02:05:02', '2014-04-03 02:05:02', '', 103, 'http://localhost/?p=109', 0, 'revision', '', 0),
(110, 1, '2014-04-03 04:26:29', '2014-04-03 04:26:29', '', 'railsmvc', '', 'inherit', 'open', 'open', '', 'railsmvc', '', '', '2014-04-03 04:26:29', '2014-04-03 04:26:29', '', 103, 'http://localhost/wp-content/uploads/2014/03/railsmvc.png', 0, 'attachment', 'image/png', 0),
(111, 1, '2014-04-03 04:30:11', '2014-04-03 04:30:11', 'Dear cả nhà, sau một thời gian bận rộn với cái task khó nhằn, em có viết TDD trong quá trình code nên mặc dù bị review khá nhiều lần do stupid, nhưng sau khi fix code, em chạy lại cái spec đó rồi đẩy lên luôn chứ k test lại thực tế như các chị QA, nhưng cũng k có bugs nào nữa. Phù, quá trình test lại sau khi code chỉ là 10s, sau đó fix, và test lại nếu test chưa qua hết. Nhưng khi đẩy lên môi trường test, các chị QA lại tốn tới ít nhất 1 ngày để test lại, và công việc lặp lại. Dù test lại có chọn lọc so với lần trước, và đỡ mất thời gian, đỡ nhàm chán, nhưng nói thật là cứ test đi test lại 1 thứ vì requirement thay đổi mà deadline thì cứ gần kề, vừa stress, vừa OT, lại vừa bực mình.\r\n\r\n\r\n\r\n<blockquote>Vì được nghe các chị ‘giãi bày’, nên em có viết 2 project nhỏ nhỏ để giúp việc test này trở nên tự động, dễ dàng và dễ chịu hơn. Nhưng đây mới chỉ ở bước ý tưởng và đang cần đầu tư</blockquote>\r\n\r\n, mới chỉ demo theo những requirement đơn giản có thể phục vụ cho các task vừa rồi. (Đương nhiên là sau khi task đó hoàn thành em mới có time viết 2 projects này, nên chính xác phải là áp dụng cho những dự án tương tự về sau <img alt=":-P" src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif" /> )\r\n\r\nĐầu tiên là automation test với các câu lệnh SQL. Sẽ có 1 folder chứa các file test. Mỗi file sẽ tương ứng với 1 suites. Trong các suite có thể add nhiều test case. Các chị cũng có thể edit data trước khi chạy suite trong khối block<code>before .. end</code> và roll back dât trong khối block <code>after .. end</code>\r\n\r\nVí dụ:\r\n\r\n[php]#  Created by quyetdc on 2014-03-10.\r\n#  Copyright 2014 quyetdc. All rights reserved.\r\n\r\nbefore do\r\n	{\r\n		insert /  update db\r\n	}\r\n\r\n	{\r\n		insert /  update db\r\n	}\r\nend\r\n\r\n======================================================\r\n\r\npair 1 -- [\r\n	{\r\n		select count(id) from\r\n			/table/ where /conditions/\r\n	}\r\n\r\n	{\r\n		select count(id) from\r\n			/table_2/ where /conditions/\r\n	}\r\n]\r\n\r\npair 2 -- [\r\n	{\r\n		select /value_1/ from\r\n			/table_1/ where /conditions/\r\n	}\r\n\r\n	{\r\n		select /value_2/ from\r\n			/table_2/ where /conditions/\r\n	}\r\n]\r\n\r\n======================================================\r\n\r\nafter do\r\n	{\r\n           roll_back_data for next run suites\r\n	}\r\nend[/php]', 'Idea on Automatically Testing API and SQL with Ruby Script', '', 'inherit', 'open', 'open', '', '103-revision-v1', '', '', '2014-04-03 04:30:11', '2014-04-03 04:30:11', '', 103, 'http://localhost/?p=111', 0, 'revision', '', 0),
(112, 1, '2014-04-03 04:32:38', '2014-04-03 04:32:38', 'Dear cả nhà, sau một thời gian bận rộn với cái task khó nhằn, em có viết TDD trong quá trình code nên mặc dù bị review khá nhiều lần do stupid, nhưng sau khi fix code, em chạy lại cái spec đó rồi đẩy lên luôn chứ k test lại thực tế như các chị QA, nhưng cũng k có bugs nào nữa. Phù, quá trình test lại sau khi code chỉ là 10s, sau đó fix, và test lại nếu test chưa qua hết. Nhưng khi đẩy lên môi trường test, các chị QA lại tốn tới ít nhất 1 ngày để test lại, và công việc lặp lại. Dù test lại có chọn lọc so với lần trước, và đỡ mất thời gian, đỡ nhàm chán, nhưng nói thật là cứ test đi test lại 1 thứ vì requirement thay đổi mà deadline thì cứ gần kề, vừa stress, vừa OT, lại vừa bực mình.\r\n\r\n\r\n\r\n<blockquote class="pullquote">Vì được nghe các chị ‘giãi bày’, nên em có viết 2 project nhỏ nhỏ để giúp việc test này trở nên tự động, dễ dàng và dễ chịu hơn. Nhưng đây mới chỉ ở bước ý tưởng và đang cần đầu tư</blockquote>\r\n\r\n, mới chỉ demo theo những requirement đơn giản có thể phục vụ cho các task vừa rồi. (Đương nhiên là sau khi task đó hoàn thành em mới có time viết 2 projects này, nên chính xác phải là áp dụng cho những dự án tương tự về sau <img alt=":-P" src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif" /> )\r\n\r\nĐầu tiên là automation test với các câu lệnh SQL. Sẽ có 1 folder chứa các file test. Mỗi file sẽ tương ứng với 1 suites. Trong các suite có thể add nhiều test case. Các chị cũng có thể edit data trước khi chạy suite trong khối block<code>before .. end</code> và roll back dât trong khối block <code>after .. end</code>\r\n\r\nVí dụ:\r\n\r\n[php]#  Created by quyetdc on 2014-03-10.\r\n#  Copyright 2014 quyetdc. All rights reserved.\r\n\r\nbefore do\r\n	{\r\n		insert /  update db\r\n	}\r\n\r\n	{\r\n		insert /  update db\r\n	}\r\nend\r\n\r\n======================================================\r\n\r\npair 1 -- [\r\n	{\r\n		select count(id) from\r\n			/table/ where /conditions/\r\n	}\r\n\r\n	{\r\n		select count(id) from\r\n			/table_2/ where /conditions/\r\n	}\r\n]\r\n\r\npair 2 -- [\r\n	{\r\n		select /value_1/ from\r\n			/table_1/ where /conditions/\r\n	}\r\n\r\n	{\r\n		select /value_2/ from\r\n			/table_2/ where /conditions/\r\n	}\r\n]\r\n\r\n======================================================\r\n\r\nafter do\r\n	{\r\n           roll_back_data for next run suites\r\n	}\r\nend[/php]', 'Idea on Automatically Testing API and SQL with Ruby Script', '', 'inherit', 'open', 'open', '', '103-revision-v1', '', '', '2014-04-03 04:32:38', '2014-04-03 04:32:38', '', 103, 'http://localhost/?p=112', 0, 'revision', '', 0),
(113, 1, '2014-04-03 04:33:13', '2014-04-03 04:33:13', 'Dear cả nhà, sau một thời gian bận rộn với cái task khó nhằn, em có viết TDD trong quá trình code nên mặc dù bị review khá nhiều lần do stupid, nhưng sau khi fix code, em chạy lại cái spec đó rồi đẩy lên luôn chứ k test lại thực tế như các chị QA, nhưng cũng k có bugs nào nữa. Phù, quá trình test lại sau khi code chỉ là 10s, sau đó fix, và test lại nếu test chưa qua hết. Nhưng khi đẩy lên môi trường test, các chị QA lại tốn tới ít nhất 1 ngày để test lại, và công việc lặp lại. Dù test lại có chọn lọc so với lần trước, và đỡ mất thời gian, đỡ nhàm chán, nhưng nói thật là cứ test đi test lại 1 thứ vì requirement thay đổi mà deadline thì cứ gần kề, vừa stress, vừa OT, lại vừa bực mình.\r\n\r\n\r\n\r\n<blockquote>Vì được nghe các chị ‘giãi bày’, nên em có viết 2 project nhỏ nhỏ để giúp việc test này trở nên tự động, dễ dàng và dễ chịu hơn. Nhưng đây mới chỉ ở bước ý tưởng và đang cần đầu tư</blockquote>\r\n\r\n, mới chỉ demo theo những requirement đơn giản có thể phục vụ cho các task vừa rồi. (Đương nhiên là sau khi task đó hoàn thành em mới có time viết 2 projects này, nên chính xác phải là áp dụng cho những dự án tương tự về sau <img alt=":-P" src="http://labs.septeni-technology.jp/wp-includes/images/smilies/icon_razz.gif" /> )\r\n\r\nĐầu tiên là automation test với các câu lệnh SQL. Sẽ có 1 folder chứa các file test. Mỗi file sẽ tương ứng với 1 suites. Trong các suite có thể add nhiều test case. Các chị cũng có thể edit data trước khi chạy suite trong khối block<code>before .. end</code> và roll back dât trong khối block <code>after .. end</code>\r\n\r\nVí dụ:\r\n\r\n[php]#  Created by quyetdc on 2014-03-10.\r\n#  Copyright 2014 quyetdc. All rights reserved.\r\n\r\nbefore do\r\n	{\r\n		insert /  update db\r\n	}\r\n\r\n	{\r\n		insert /  update db\r\n	}\r\nend\r\n\r\n======================================================\r\n\r\npair 1 -- [\r\n	{\r\n		select count(id) from\r\n			/table/ where /conditions/\r\n	}\r\n\r\n	{\r\n		select count(id) from\r\n			/table_2/ where /conditions/\r\n	}\r\n]\r\n\r\npair 2 -- [\r\n	{\r\n		select /value_1/ from\r\n			/table_1/ where /conditions/\r\n	}\r\n\r\n	{\r\n		select /value_2/ from\r\n			/table_2/ where /conditions/\r\n	}\r\n]\r\n\r\n======================================================\r\n\r\nafter do\r\n	{\r\n           roll_back_data for next run suites\r\n	}\r\nend[/php]', 'Idea on Automatically Testing API and SQL with Ruby Script', '', 'inherit', 'open', 'open', '', '103-revision-v1', '', '', '2014-04-03 04:33:13', '2014-04-03 04:33:13', '', 103, 'http://localhost/?p=113', 0, 'revision', '', 0),
(114, 1, '2014-04-03 06:11:14', '2014-04-03 06:11:14', '<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n\r\n<h3>II. Cài Đặt Môi Trường</h3>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable</code>\r\n\r\n## Cài đặt những gói thư viện phụ thuộc khác\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby\r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails', '[Blogging Rails] Mở Đầu', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-04-03 06:11:14', '2014-04-03 06:11:14', '', 8, 'http://localhost/?p=114', 0, 'revision', '', 0),
(115, 1, '2014-04-03 06:22:22', '2014-04-03 06:22:22', '', '5Bmyo1m', '', 'inherit', 'open', 'open', '', '5bmyo1m', '', '', '2014-04-03 06:22:22', '2014-04-03 06:22:22', '', 8, 'http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg', 0, 'attachment', 'image/jpeg', 0),
(116, 1, '2014-04-03 06:23:37', '2014-04-03 06:23:37', '<a href="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg"><img src="http://localhost/wp-content/uploads/2014/02/5Bmyo1m-150x150.jpg" alt="5Bmyo1m" width="150" height="150" class="alignnone size-thumbnail wp-image-115" /></a>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này.\r\n<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n\r\n<h3>II. Cài Đặt Môi Trường</h3>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable</code>\r\n\r\n## Cài đặt những gói thư viện phụ thuộc khác\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby\r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails', '[Blogging Rails] Mở Đầu', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-04-03 06:23:37', '2014-04-03 06:23:37', '', 8, 'http://localhost/?p=116', 0, 'revision', '', 0),
(117, 1, '2014-04-03 06:24:06', '2014-04-03 06:24:06', '<a href="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg"><img src="http://localhost/wp-content/uploads/2014/02/5Bmyo1m-150x150.jpg" alt="5Bmyo1m" class="alignnone size-thumbnail wp-image-115" /></a>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này.\r\n<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n\r\n<h3>II. Cài Đặt Môi Trường</h3>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable</code>\r\n\r\n## Cài đặt những gói thư viện phụ thuộc khác\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby\r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails', '[Blogging Rails] Mở Đầu', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-04-03 06:24:06', '2014-04-03 06:24:06', '', 8, 'http://localhost/?p=117', 0, 'revision', '', 0),
(118, 1, '2014-04-03 06:24:53', '2014-04-03 06:24:53', '<a href="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg"><img src="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg" alt="5Bmyo1m" width="665" height="191" class="alignnone size-full wp-image-115" /></a>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này.\r\n<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n\r\n<h3>II. Cài Đặt Môi Trường</h3>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable</code>\r\n\r\n## Cài đặt những gói thư viện phụ thuộc khác\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby\r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails', '[Blogging Rails] Mở Đầu', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-04-03 06:24:53', '2014-04-03 06:24:53', '', 8, 'http://localhost/?p=118', 0, 'revision', '', 0);
INSERT INTO `wp_posts` (`ID`, `post_author`, `post_date`, `post_date_gmt`, `post_content`, `post_title`, `post_excerpt`, `post_status`, `comment_status`, `ping_status`, `post_password`, `post_name`, `to_ping`, `pinged`, `post_modified`, `post_modified_gmt`, `post_content_filtered`, `post_parent`, `guid`, `menu_order`, `post_type`, `post_mime_type`, `comment_count`) VALUES
(119, 1, '2014-04-03 06:26:19', '2014-04-03 06:26:19', 'Trong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này.\r\n\r\n<a href="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg"><img src="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg" alt="5Bmyo1m" width="665" height="191" class="alignnone size-full wp-image-115" /></a>\r\n<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n\r\n<h3>II. Cài Đặt Môi Trường</h3>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable</code>\r\n\r\n## Cài đặt những gói thư viện phụ thuộc khác\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby\r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails', '[Blogging Rails] Mở Đầu', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-04-03 06:26:19', '2014-04-03 06:26:19', '', 8, 'http://localhost/?p=119', 0, 'revision', '', 0),
(120, 1, '2014-04-03 06:41:32', '2014-04-03 06:41:32', 'Trong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này.\r\n\r\n<a href="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg"><img class="alignnone size-full wp-image-115" alt="5Bmyo1m" src="http://localhost/wp-content/uploads/2014/02/5Bmyo1m.jpg" width="665" height="191" /></a>\r\n<h2>1. Ruby on Rails</h2>\r\nRuby là ngôn ngữ lập trình hướng đối tượng do một tác giả người Nhật tên là Yukihiro Matsumoto phát triển vào khoảng giữa thập kỉ 90. Ruby có cú pháp đơn giản, dễ học, dễ nhớ, gần với tư duy logic thông thường. Kế thừa những đặc tính của Ruby, Rails, framework dựa trên nền tảng Ruby, được David Heinemeier Hansson tạo vào năm 2003 để giúp các lập trình viên phát triển ứng dụng web có thể nhanh chóng, dễ dàng hơn trong công việc của họ. Rails giúp người lập trình viên giảm thiểu rất nhiều thời gian viết code với các công cụ của mình như generate &amp; scaffolding. Rails quản lý mã nguồn theo mô hình Model – View – Controller (MVC) và có một cộng động rất lớn lập trình viên với hàng ngàn thư viện tiện dụng, miễn phí.\r\n<h2>2. Ứng dụng Blogging Rails</h2>\r\nTrong thời gian vài năm trở lại đây, Ruby on Rails bắt đầu được nhiều công ty phần mềm Việt Nam sử dụng và tiếp tục duy trì sử dụng vì thấy rõ những lợi ích của nó. Tuy nhiên, cộng đồng Ruby Việt Nam chưa có nhiều những bài viết hướng dẫn người mới làm quen với ngôn ngữ này. Sau khi làm quen với ngôn ngữ này, và tạo ra một blog cá nhân đơn giản, tôi cảm thấy thật sự hứng thú với ngôn ngữ này. Dựa trên những gì tôi học được trong quá trình đó, tôi viết lại tài liệu này hi vọng có thể giúp ích được cho những người mới làm quen với Ruby on Rails trong cộng đồng lập trình viên Việt Nam.\r\n\r\nHi vọng bạn cũng sẽ thích nó, và cảm thấy lập trình Ruby không phải quá khó.\r\n\r\nTài liệu này tôi viết dựa trên quá trình làm blog đơn giản. Sau khi hoàn thành ứng dụng được giới thiệu trong tài liệu này, bạn sẽ có một blog cá nhân cùng công cụ admin để quản lý blog.\r\n\r\nTrong tài liệu này, bạn sẽ được làm quen với ngôn ngữ Ruby, làm quen với Rails 4 và phương pháp lập trình TDD. Trong tài liệu, tôi sử dụng cơ sở dữ liệu PostgreSQL để có thể deploy lên Heroku. Tôi cũng có đề cập tới một số kiến thức cơ bản của CSS, HTML, Java Script, Jquery … Vì thế, hãy yên tâm cho dù bạn chưa có kinh nghiệm lập trình web trước đó.\r\n\r\nXin cám ơn công ty Septeni Technology cùng các đồng nghiệp ở đây đã tạo điện kiện và giúp đỡ tôi rất nhiều trong quá trình viết tài liệu này.\r\n<h3>II. Cài Đặt Môi Trường</h3>\r\nTrong tài liệu này, tôi sẽ hướng dẫn các bạn cài đặt Ruby, Rails trên hệ điều hành Ubuntu vì tôi cũng đang dùng hệ điều hành này.\r\n\r\nHầu hết, các version của Ubuntu đều có hỗ trợ Ruby, nhưng là Ruby 1.8.7, trong khi Ruby đã có version 2.0 và mới hơn. Dự án mà chúng ta chuẩn bị làm sử dụng Rails 4.0, version này của Rails chỉ hỗ trợ Ruby 1.9.3 hoặc mới hơn. Tôi đang dùng Ruby 2.0.0.\r\n\r\nTrong tài liệu này tôi sẽ thường xuyên sử dụng Ubuntu Terminal. Bạn có thể khởi động terminal bằng tổ hợp phím <i>CTRL + ALT + T</i>\r\n<blockquote>Đầu tiên, chúng ta cài đặt Ruby với RVM, một công cụ giúp bạn cài đặt và quản lý version Ruby. Bạn có thể tìm hiểu thêm về RVM.</blockquote>\r\n<code>sudo apt-get install curl\r\ncurl -L get.rvm.io | bash -s stable</code>\r\n<h4>## Cài đặt những gói thư viện phụ thuộc khác</h4>\r\n[php]// The ''toEqual'' matcher\r\ndescribe(&quot;The ''toEqual'' matcher&quot;, function() {\r\n\r\n    it(&quot;should work for objects&quot;, function() {\r\n        var foo = {\r\n            a: 12,\r\n            b: 34\r\n        };\r\n        var bar = {\r\n            a: 12,\r\n            b: 34\r\n        };\r\n        expect(foo).toEqual(bar);\r\n    });\r\n\r\n    it(&quot;The ''toMatch'' matcher is for regular expressions&quot;, function() {\r\n        var message = &quot;foo bar baz&quot;;\r\n\r\n        expect(message).toMatch(/bar/);\r\n        expect(message).toMatch(&quot;bar&quot;);\r\n        expect(message).not.toMatch(/quux/);\r\n    });\r\n\r\n    it(&quot;The ''toBeDefined'' matcher compares against `undefined`&quot;, function() {\r\n        var a = {\r\n          foo: &quot;foo&quot;\r\n        };\r\n\r\n        expect(a.foo).toBeDefined();\r\n        expect(a.bar).not.toBeDefined();\r\n    });\r\n\r\n    it(&quot;The `toBeUndefined` matcher compares against `undefined`&quot;, function() {\r\n        var a = {\r\n          foo: &quot;foo&quot;\r\n        };\r\n\r\n        expect(a.foo).not.toBeUndefined();\r\n        expect(a.bar).toBeUndefined();\r\n    });\r\n\r\n    it(&quot;The ''toBeNull'' matcher compares against null&quot;, function() {\r\n        var a = null;\r\n        var foo = &quot;foo&quot;;\r\n\r\n        expect(null).toBeNull();\r\n        expect(a).toBeNull();\r\n        expect(foo).not.toBeNull();\r\n    });\r\n\r\n    it(&quot;The ''toBeTruthy'' matcher is for boolean casting testing&quot;, function() {\r\n        var a, foo = &quot;foo&quot;;\r\n\r\n        expect(foo).toBeTruthy();\r\n        expect(a).not.toBeTruthy();\r\n    });\r\n\r\n    it(&quot;The ''toBeFalsy'' matcher is for boolean casting testing&quot;, function() {\r\n        var a, foo = &quot;foo&quot;;\r\n\r\n        expect(a).toBeFalsy();\r\n        expect(foo).not.toBeFalsy();\r\n    });\r\n\r\n    it(&quot;The ''toContain'' matcher is for finding an item in an Array&quot;, function() {\r\n        var a = [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;];\r\n\r\n        expect(a).toContain(&quot;bar&quot;);\r\n        expect(a).not.toContain(&quot;quux&quot;);\r\n    });\r\n\r\n    it(&quot;The ''toBeLessThan'' matcher is for mathematical comparisons&quot;, function() {\r\n        var pi = 3.1415926,\r\n          e = 2.78;\r\n\r\n        expect(e).toBeLessThan(pi);\r\n        expect(pi).not.toBeLessThan(e);\r\n    });\r\n\r\n    it(&quot;The ''toBeGreaterThan'' is for mathematical comparisons&quot;, function() {\r\n        var pi = 3.1415926,\r\n          e = 2.78;\r\n\r\n        expect(pi).toBeGreaterThan(e);\r\n        expect(e).not.toBeGreaterThan(pi);\r\n    });\r\n\r\n    it(&quot;The ''toBeCloseTo'' matcher is for precision math comparison&quot;, function() {\r\n        var pi = 3.1415926,\r\n          e = 2.78;\r\n\r\n        expect(pi).not.toBeCloseTo(e, 2);\r\n        expect(pi).toBeCloseTo(e, 0);\r\n    });\r\n\r\n    it(&quot;The ''toThrow'' matcher is for testing if a function throws an exception&quot;, function() {\r\n        var foo = function() {\r\n            return 1 + 2;\r\n        };\r\n        var bar = function() {\r\n            return a + 1;\r\n        };\r\n\r\n        expect(foo).not.toThrow();\r\n        expect(bar).toThrow();\r\n    });\r\n});[/php]\r\nsudo apt-get install build-essential openssl libreadline6\r\nlibreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev\r\nlibyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt-dev\r\nautoconf libc6-dev ncurses-dev automake libtool bison\r\nsubversion pkg-config\r\n## Load RVM vào terminal và khởi động lại terminal\r\nsource ~/.rvm/scripts/rvm\r\ntype rvm | head -n 1\r\n\r\n## Install Ruby\r\nrvm install 2.0.0\r\nrvm use 2.0.0 --default\r\n\r\n## Cài đặt git để quản lý source code và deploy lên Heroku\r\nsudo apt-get install git-core build-essential\r\n\r\n## Cài đặt Rails\r\ngem install rails', 'Format style for blog', '', 'inherit', 'open', 'open', '', '8-revision-v1', '', '', '2014-04-03 06:41:32', '2014-04-03 06:41:32', '', 8, 'http://localhost/?p=120', 0, 'revision', '', 0),
(121, 1, '2014-04-03 06:48:56', '2014-04-03 06:48:56', '', 'Featured post', '', 'inherit', 'open', 'open', '', '38-revision-v1', '', '', '2014-04-03 06:48:56', '2014-04-03 06:48:56', '', 38, 'http://localhost/?p=121', 0, 'revision', '', 0),
(122, 1, '2014-04-03 07:40:10', '2014-04-03 07:40:10', 'Để viết API có rất nhiều cách để viết bạn có thể tạo vởi rails project. Nhưng ở đây mình xin giới thiệu với mọi người cách tạo ra các API 1 cách đơn giản với sinatra.\r\n\r\n[php]selectStatement = $params[''report_table'']. ''.'' . $this-&gt;buildSelectReportDataSql($params, $multiplication);\r\n $joinStatement = $this-&gt;buildJoinReportSql($params);\r\n $whereStatement = $this-&gt;buildReportWhereSql($params);\r\n // end\r\n $groupbyStatement = $this-&gt;buildGroupbyReportDataSql($params);\r\n $wrapperStatement = $this-&gt;buildWrapperReportDataSql($multiplication);[/php]\r\n\r\nI. API with Sinatra.\r\n1, Install.\r\n\r\ncài đặt sinatra gem file:\r\n\r\n<code>gem install sinatra</code>\r\n2, Getting started: Hello World\r\n\r\nđầu tiên bạn cần tạo file: app.rb\r\n\r\nTrong link cũng có thể bao gồm các parameters. Dữ liệu được lấy thông qua hash: params.\r\n<div id="crayon-52fd9e7aab0b6799352186" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0b6799352186-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0b6799352186-1">get ''/hello/:name'' do</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-2">  # Khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-3">  # params[:name] sẽ lấy được ra là ''foo'' or ''bar''</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-4">  "Hello #{params[:name]}!"</div>\r\n<div id="crayon-52fd9e7aab0b6799352186-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nChúng ta cũng có thể đặt tên cho param chuy cập. như ví dụ trên ta sẽ gắn param name vào biến n.\r\n<div id="crayon-52fd9e7aab0bc676451612" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-3">3</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-4">4</div>\r\n<div data-line="crayon-52fd9e7aab0bc676451612-5">5</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0bc676451612-1">get ''/hello/:name'' do |n|</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-2">  # khi gọi link "GET /hello/foo" and "GET /hello/bar"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-3">  # params[:name] sẽ là ''foo'' hoặc ''bar'' và được lưu trong biến n</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-4">  "Hello #{n}!"</div>\r\n<div id="crayon-52fd9e7aab0bc676451612-5">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTrong route ta cũng có thể sử dụng ký hiệu *, các giá trị được truyền vào * sẽ dược lưu trong params[:splat] kiểu array.\r\n\r\ncũng giống như trên ta có thể gắn các * vào các biến khác nhau.\r\n<div id="crayon-52fd9e7aab0c8229603462" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0c8229603462-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0c8229603462-1">get ''/download/*.*'' do |path, ext|</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-2">  [path, ext] # = ["path/to/file", "xml"]</div>\r\n<div id="crayon-52fd9e7aab0c8229603462-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\nTa cũng có thể sử dụng matching với Regular Expressions!.\r\n<div id="crayon-52fd9e7aab0ce889183816" data-settings=" minimize scroll-mouseover">\r\n<div></div>\r\n<div>\r\n<table>\r\n<tbody>\r\n<tr>\r\n<td data-settings="show">\r\n<div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-1">1</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-2">2</div>\r\n<div data-line="crayon-52fd9e7aab0ce889183816-3">3</div>\r\n</div></td>\r\n<td>\r\n<div>\r\n<div id="crayon-52fd9e7aab0ce889183816-1">get %r{/get/(\\d\\d)-(\\d\\d)-(\\d\\d\\d\\d)} do|month,day,year|</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-2">   "Get requested from #{month}/#{day} in #{year}"</div>\r\n<div id="crayon-52fd9e7aab0ce889183816-3">end</div>\r\n</div></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n<h3>II. Nginx Proxied to Unicorn</h3>\r\nĐể chạy các ứng dụng API của sinatra trên server 1 cách dễ dàng và tốt hơn người ta thường dùng kết hợp Nginx và Unicorn. Hướng dẫn dưới đây sẽ giúp các bạn thiết lập nó. Trước tiên ban phải cài đặt nginx và uncron.<span style="line-height: 1.5em;">Chúng ta sẽ tìm hiểu sâu hơn thông qua ví dụ dưới đây. Chúng ta  tạo ra 1 app với cấu trúc như sau:</span>\r\n<div id="crayon-52fd9e7aab0fe696659537" data-settings=" minimize scroll-mouseover"></div>\r\n<h3 id="label-Starting+the+server">Starting the server</h3>\r\nđầu tiên ta khởi dộng nginx:\r\n<code>/etc/init.d/nginx start</code>\r\n\r\nsau đó chạy lệnh:<code> ./run.sh start</code>\r\n<h3 id="label-Stopping+the+server">Stopping the server</h3>\r\nrất đơn giản khi muốn dừng server ta chỉ cẩn chạy lệnh:\r\n<code>./run.sh stop</code>\r\n\r\nTrên đây là một số hướng dẫn đơn giản của mình về việc tạo và chạy 1 API với sinatra, nginx và uncron. Bài viết còn sơ sài rất mong mọi người góp ý.', 'Ruby API with Sinatra', '', 'inherit', 'open', 'open', '', '4-revision-v1', '', '', '2014-04-03 07:40:10', '2014-04-03 07:40:10', '', 4, 'http://localhost/?p=122', 0, 'revision', '', 0);

-- --------------------------------------------------------

--
-- Table structure for table `wp_term_relationships`
--

CREATE TABLE IF NOT EXISTS `wp_term_relationships` (
  `object_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `term_taxonomy_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `term_order` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`object_id`,`term_taxonomy_id`),
  KEY `term_taxonomy_id` (`term_taxonomy_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Dumping data for table `wp_term_relationships`
--

INSERT INTO `wp_term_relationships` (`object_id`, `term_taxonomy_id`, `term_order`) VALUES
(1, 1, 0),
(4, 1, 0),
(8, 1, 0),
(8, 3, 0),
(8, 4, 0),
(38, 3, 0),
(38, 5, 0),
(38, 7, 0),
(63, 6, 0),
(66, 1, 0),
(66, 8, 0),
(66, 9, 0),
(103, 1, 0),
(103, 3, 0),
(103, 4, 0);

-- --------------------------------------------------------

--
-- Table structure for table `wp_term_taxonomy`
--

CREATE TABLE IF NOT EXISTS `wp_term_taxonomy` (
  `term_taxonomy_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `term_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `taxonomy` varchar(32) NOT NULL DEFAULT '',
  `description` longtext NOT NULL,
  `parent` bigint(20) unsigned NOT NULL DEFAULT '0',
  `count` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`term_taxonomy_id`),
  UNIQUE KEY `term_id_taxonomy` (`term_id`,`taxonomy`),
  KEY `taxonomy` (`taxonomy`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=10 ;

--
-- Dumping data for table `wp_term_taxonomy`
--

INSERT INTO `wp_term_taxonomy` (`term_taxonomy_id`, `term_id`, `taxonomy`, `description`, `parent`, `count`) VALUES
(1, 1, 'category', '', 0, 5),
(3, 3, 'post_tag', '', 0, 2),
(4, 4, 'post_tag', '', 0, 2),
(5, 5, 'category', '', 0, 0),
(6, 6, 'category', '', 0, 1),
(7, 7, 'post_tag', '', 0, 0),
(8, 8, 'post_tag', '', 0, 1),
(9, 9, 'post_tag', '', 0, 1);

-- --------------------------------------------------------

--
-- Table structure for table `wp_terms`
--

CREATE TABLE IF NOT EXISTS `wp_terms` (
  `term_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(200) NOT NULL DEFAULT '',
  `slug` varchar(200) NOT NULL DEFAULT '',
  `term_group` bigint(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`term_id`),
  UNIQUE KEY `slug` (`slug`),
  KEY `name` (`name`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=10 ;

--
-- Dumping data for table `wp_terms`
--

INSERT INTO `wp_terms` (`term_id`, `name`, `slug`, `term_group`) VALUES
(1, 'Uncategorized', 'uncategorized', 0),
(3, 'test', 'test', 0),
(4, 'abc', 'abc', 0),
(5, 'Featured', 'featured', 0),
(6, 'my category', 'my-category', 0),
(7, 'test2', 'test2', 0),
(8, 'php', 'php', 0),
(9, 'code', 'code', 0);

-- --------------------------------------------------------

--
-- Table structure for table `wp_usermeta`
--

CREATE TABLE IF NOT EXISTS `wp_usermeta` (
  `umeta_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) unsigned NOT NULL DEFAULT '0',
  `meta_key` varchar(255) DEFAULT NULL,
  `meta_value` longtext,
  PRIMARY KEY (`umeta_id`),
  KEY `user_id` (`user_id`),
  KEY `meta_key` (`meta_key`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=22 ;

--
-- Dumping data for table `wp_usermeta`
--

INSERT INTO `wp_usermeta` (`umeta_id`, `user_id`, `meta_key`, `meta_value`) VALUES
(1, 1, 'first_name', ''),
(2, 1, 'last_name', ''),
(3, 1, 'nickname', 'tuandx'),
(4, 1, 'description', ''),
(5, 1, 'rich_editing', 'true'),
(6, 1, 'comment_shortcuts', 'false'),
(7, 1, 'admin_color', 'fresh'),
(8, 1, 'use_ssl', '0'),
(9, 1, 'show_admin_bar_front', 'true'),
(10, 1, 'wp_capabilities', 'a:1:{s:13:"administrator";b:1;}'),
(11, 1, 'wp_user_level', '10'),
(12, 1, 'dismissed_wp_pointers', 'wp330_toolbar,wp330_saving_widgets,wp340_choose_image_from_library,wp340_customize_current_theme_link,wp350_media,wp360_revisions,wp360_locks'),
(13, 1, 'show_welcome_panel', '1'),
(14, 1, 'wp_dashboard_quick_press_last_post_id', '102'),
(15, 1, 'wp_user-settings', 'libraryContent=browse&imgsize=full&editor=tinymce&widgets_access=off&mfold=o&hidetb=1'),
(16, 1, 'wp_user-settings-time', '1396510808'),
(17, 1, 'managenav-menuscolumnshidden', 'a:4:{i:0;s:11:"link-target";i:1;s:11:"css-classes";i:2;s:3:"xfn";i:3;s:11:"description";}'),
(18, 1, 'metaboxhidden_nav-menus', 'a:2:{i:0;s:8:"add-page";i:1;s:8:"add-post";}'),
(19, 1, 'closedpostboxes_nav-menus', 'a:0:{}'),
(20, 1, 'wp_yarpp_saw_optin', '1'),
(21, 1, 'meta-box-order_settings_page_yarpp', 'a:2:{s:4:"side";s:41:"yarpp_display_optin,yarpp_display_contact";s:6:"normal";s:70:"yarpp_pool,yarpp_relatedness,yarpp_display_web,,,,yarpp_display_rss,,,";}');

-- --------------------------------------------------------

--
-- Table structure for table `wp_users`
--

CREATE TABLE IF NOT EXISTS `wp_users` (
  `ID` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `user_login` varchar(60) NOT NULL DEFAULT '',
  `user_pass` varchar(64) NOT NULL DEFAULT '',
  `user_nicename` varchar(50) NOT NULL DEFAULT '',
  `user_email` varchar(100) NOT NULL DEFAULT '',
  `user_url` varchar(100) NOT NULL DEFAULT '',
  `user_registered` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `user_activation_key` varchar(60) NOT NULL DEFAULT '',
  `user_status` int(11) NOT NULL DEFAULT '0',
  `display_name` varchar(250) NOT NULL DEFAULT '',
  PRIMARY KEY (`ID`),
  KEY `user_login_key` (`user_login`),
  KEY `user_nicename` (`user_nicename`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=2 ;

--
-- Dumping data for table `wp_users`
--

INSERT INTO `wp_users` (`ID`, `user_login`, `user_pass`, `user_nicename`, `user_email`, `user_url`, `user_registered`, `user_activation_key`, `user_status`, `display_name`) VALUES
(1, 'tuandx', '$P$BEjv9FjRyGjoT.4GBrZWloVU53hbrs/', 'tuandx', 'dxtuan@gmail.com', '', '2014-02-14 03:13:00', '', 0, 'tuandx');

-- --------------------------------------------------------

--
-- Table structure for table `wp_wp_rp_tags`
--

CREATE TABLE IF NOT EXISTS `wp_wp_rp_tags` (
  `post_id` mediumint(9) DEFAULT NULL,
  `post_date` datetime NOT NULL,
  `label` varchar(32) NOT NULL,
  `weight` float DEFAULT NULL,
  KEY `post_id` (`post_id`),
  KEY `label` (`label`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `wp_wp_rp_tags`
--

INSERT INTO `wp_wp_rp_tags` (`post_id`, `post_date`, `label`, `weight`) VALUES
(103, '2014-03-28 07:19:07', 'A_nghe', 2),
(103, '2014-03-28 07:19:07', 'A_tn', 2),
(103, '2014-03-28 07:19:07', 'A_trong', 2),
(103, '2014-03-28 07:19:07', 'A_nh', 2),
(103, '2014-03-28 07:19:07', 'A_review', 2),
(103, '2014-03-28 07:19:07', 'A_rubi', 2),
(103, '2014-03-28 07:19:07', 'A_ph', 2),
(103, '2014-03-28 07:19:07', 'A_kh', 2),
(103, '2014-03-28 07:19:07', 'A_code', 2),
(103, '2014-03-28 07:19:07', 'A_sql', 2),
(103, '2014-03-28 07:19:07', 'A_va', 2),
(103, '2014-03-28 07:19:07', 'A_thai', 2),
(103, '2014-03-28 07:19:07', 'A_chu', 2),
(103, '2014-03-28 07:19:07', 'A_test', 2),
(103, '2014-03-28 07:19:07', 'A_vic', 2),
(66, '2014-03-10 10:11:37', 'A_jasmin', 2),
(66, '2014-03-10 10:11:37', 'A_javascript', 2),
(66, '2014-03-10 10:11:37', 'A_test', 2),
(66, '2014-03-10 10:11:37', 'A_featur', 2),
(66, '2014-03-10 10:11:37', 'A_framework', 2),
(63, '2014-03-03 08:08:05', 'C_my category', 5),
(63, '2014-03-03 08:08:05', 'A_curl', 2),
(63, '2014-03-03 08:08:05', 'A_system', 2),
(63, '2014-03-03 08:08:05', 'A_rss', 2),
(63, '2014-03-03 08:08:05', 'A_build', 2),
(63, '2014-03-03 08:08:05', 'A_full', 2),
(63, '2014-03-03 08:08:05', 'A_post', 2),
(63, '2014-03-03 08:08:05', 'A_a', 2),
(63, '2014-03-03 08:08:05', 'A_crawl', 2),
(8, '2014-02-14 06:28:23', 'P_abc', 10),
(8, '2014-02-14 06:28:23', 'P_test', 10),
(8, '2014-02-14 06:28:23', 'A_rubi', 2),
(8, '2014-02-14 06:28:23', 'A_php', 2),
(8, '2014-02-14 06:28:23', 'A_gi', 2),
(8, '2014-02-14 06:28:23', 'A_tn', 2),
(8, '2014-02-14 06:28:23', 'A_vin', 2),
(8, '2014-02-14 06:28:23', 'A_ng', 2),
(8, '2014-02-14 06:28:23', 'A_dui', 2),
(8, '2014-02-14 06:28:23', 'A_trong', 2),
(8, '2014-02-14 06:28:23', 'A_vo', 2),
(8, '2014-02-14 06:28:23', 'A_blog', 2),
(8, '2014-02-14 06:28:23', 'A_tc', 2),
(8, '2014-02-14 06:28:23', 'A_gia', 2),
(8, '2014-02-14 06:28:23', 'A_rail', 2),
(8, '2014-02-14 06:28:23', 'A_nam', 2),
(8, '2014-02-14 06:28:23', 'A_nh', 2),
(4, '2014-02-14 04:44:00', 'A_sinatra', 2),
(4, '2014-02-14 04:44:00', 'A_api', 2),
(4, '2014-02-14 04:44:00', 'A_rubi', 2),
(4, '2014-02-14 04:44:00', 'A_gin', 2),
(4, '2014-02-14 04:44:00', 'A_vi', 2),
(4, '2014-02-14 04:44:00', 'A_nh', 2),
(4, '2014-02-14 04:44:00', 'A_ra', 2),
(4, '2014-02-14 04:44:00', 'A_tin', 2),
(4, '2014-02-14 04:44:00', 'A_rail', 2),
(4, '2014-02-14 04:44:00', 'A_rt', 2),
(4, '2014-02-14 04:44:00', 'A_mi', 2),
(4, '2014-02-14 04:44:00', 'A_project', 2),
(4, '2014-02-14 04:44:00', 'A_bn', 2),
(4, '2014-02-14 04:44:00', 'A_cc', 2),
(4, '2014-02-14 04:44:00', 'A_1', 2),
(1, '2014-02-14 03:13:02', 'A_wordpress', 2),
(1, '2014-02-14 03:13:02', 'A_blog', 2),
(1, '2014-02-14 03:13:02', 'A_world', 2),
(1, '2014-02-14 03:13:02', 'A_edit', 2),
(1, '2014-02-14 03:13:02', 'A_post', 2),
(1, '2014-02-14 03:13:02', 'A_delet', 2),
(1, '2014-02-14 03:13:02', 'A_start', 2);

-- --------------------------------------------------------

--
-- Table structure for table `wp_yarpp_related_cache`
--

CREATE TABLE IF NOT EXISTS `wp_yarpp_related_cache` (
  `reference_ID` bigint(20) unsigned NOT NULL DEFAULT '0',
  `ID` bigint(20) unsigned NOT NULL DEFAULT '0',
  `score` float unsigned NOT NULL DEFAULT '0',
  `date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`reference_ID`,`ID`),
  KEY `score` (`score`),
  KEY `ID` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Dumping data for table `wp_yarpp_related_cache`
--

INSERT INTO `wp_yarpp_related_cache` (`reference_ID`, `ID`, `score`, `date`) VALUES
(1, 4, 3, '2014-04-03 07:09:53'),
(1, 8, 3, '2014-04-03 07:09:53'),
(1, 66, 3, '2014-04-03 07:09:53'),
(1, 103, 3, '2014-04-03 07:09:53'),
(4, 1, 3, '2014-04-03 08:11:26'),
(4, 8, 3, '2014-04-03 08:11:26'),
(4, 66, 3, '2014-04-03 08:11:26'),
(4, 103, 3, '2014-04-03 08:11:26'),
(8, 1, 3, '2014-04-03 07:10:16'),
(8, 4, 3, '2014-04-03 07:10:16'),
(8, 66, 3, '2014-04-03 07:10:16'),
(8, 103, 3, '2014-04-03 07:10:16'),
(63, 0, 0, '2014-04-03 07:10:31'),
(66, 1, 3, '2014-04-03 07:10:30'),
(66, 4, 3, '2014-04-03 07:10:30'),
(66, 8, 3, '2014-04-03 07:10:30'),
(66, 103, 3, '2014-04-03 07:10:30'),
(103, 1, 3, '2014-04-03 07:10:30'),
(103, 4, 3, '2014-04-03 07:10:30'),
(103, 8, 3, '2014-04-03 07:10:30'),
(103, 66, 3, '2014-04-03 07:10:30');

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
